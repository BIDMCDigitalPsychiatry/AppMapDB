"use strict";(self.webpackChunkapp_map_db=self.webpackChunkapp_map_db||[]).push([[865],{78865:(e,t,l)=>{l.r(t),l.d(t,{default:()=>le});var o=l(27565),r=l(3426),n=l(5802),i=l(27929);const d=(0,r.Ng)((e,t)=>{const{name:l,placeholder:o}=t,r=e.table[l],n=t.primary||`No ${l}`,i=t.secondary||o;return{...t,tab:r&&r.tab&&r.tab,primary:n,secondary:i}})(e=>{const{primary:t,secondary:l,renderPlaceholder:o}=e;return o?o(e):(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(n.A,{color:"textSecondary",variant:"subtitle1",style:{padding:16},align:"center",children:t}),l&&(0,i.jsx)(n.A,{color:"textSecondary",variant:"body1",style:{padding:16},align:"center",children:l})]})});var a=l(89375),s=l(14890),c=l(17238),h=l(57336),u=l(80870),m=l(64698),g=l(91883),p=l(86295),x=l(99447),f=l(95178),b=l.n(f),w=l(97573),y=l(18008),C=l(58632),k=l(35698),v=l(42332),R=l(92779),j=l.n(R);function H(e,t){if("number"===typeof e.width)return e.width;if("string"===typeof e.width){const l=function(e,t){return parseFloat(e)/100*t}(e.width,t);return Math.max(l,e.minWidth||0)}return null}const A=1,I=(0,g.A)(e=>({table:{boxSizing:"border-box","& .topLeftGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderBottom:`2px solid ${e.palette.divider}`,borderRight:`2px solid ${e.palette.divider}`,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .topRightGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderBottom:`2px solid ${e.palette.divider}`,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .bottomLeftGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderRight:`2px solid ${e.palette.divider}`,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(13),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .bottomRightGrid":{color:e.palette.text.primary,fontSize:e.typography.pxToRem(13),outline:"none"}},cell:{boxSizing:"border-box",display:"flex",alignItems:"center"},cellClickable:{cursor:"pointer"},cellSelected:{backgroundColor:e.palette.grey["dark"===e.palette.mode?900:100]},cellHovered:{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200]},cellDisabled:{opacity:.5},cellContents:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cellHeader:{fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,color:e.palette.text.secondary},cellInLastColumn:{paddingRight:e.spacing(3)},cellInLastRow:{borderBottom:"none"},footer:{borderTop:`${A}px solid ${e.palette.divider}`},dragHandle:{flex:"0 0 16px",zIndex:2,cursor:"col-resize",color:"#0085ff"},DragHandleActive:{color:"#0b6fcc",zIndex:3},DragHandleIcon:{flex:"0 0 12px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})),S=e=>{let{recomputeGridSize:t,columns:l,width:r,includeHeaders:n,data:d,columnWidth:a,isCellHovered:s,isCellSelected:c,isCellDisabled:h,classes:u,orderBy:m,orderDirection:g,onHeaderClick:p,onCellClick:x,onCellDoubleClick:f,onCellContextMenu:w,resizable:C,cellProps:k}=e;const[{hoveredColumn:R,hoveredRowData:A},I]=o.useState({hoveredColumn:null,hoveredRowData:null}),[S,D]=o.useState((e=>{let{resizable:t,columns:l}=e;var o=[];if(t){var r=1,n=[];l.forEach(e=>{e.width?(o[e.name]=.1,r-=.1):n.push(e)}),n.forEach(e=>{o[e.name]=r/n.length})}return o})({resizable:C,columns:l}));o.useEffect(()=>{t()},[t,R,A,S]);const N=o.useCallback((e,t,l)=>S[t[e].name]*l,[S]),L=o.useCallback(e=>{let{index:t}=e;return"function"===typeof a?a({index:t,columns:l,width:r}):C?N(t,l,r):function(e,t,l){const o=t[e];let r=H(o,l);if(r)return r;const n=t.reduce((e,t)=>e+(H(t,l)||0),0),i=t.filter(e=>"number"!==typeof e.width&&"string"!==typeof e.width),d=(l-n)/i.length,a=i.filter(e=>e.minWidth>d?e.minWidth:0),s=a.reduce((e,t)=>e+t.minWidth,0),c=l-n-s;return Math.max(o.minWidth||0,c/(i.length-a.length))}(t,l,r)},[a,C,l,r,N]),G=o.useCallback(e=>{let{dataKey:t,deltaX:o}=e;return D(e=>{const n=o/r,i=l.findIndex(e=>e.name===t),d=l[i+1].name;return{...e,[t]:e[t]+n,[d]:e[d]-n}})},[D,l,r]),z=o.useCallback(e=>(t,l)=>{let{deltaX:o}=l;return G({dataKey:e,deltaX:o})},[G]),B=o.useCallback((e,t)=>l=>I({hoveredColumn:e,hoveredRowData:t}),[I]);return{cellRenderer:e=>{let{columnIndex:t,rowIndex:r,key:a,style:H}=e;const I=l[t],S=n&&0===r,D=d&&d[r-(n?1:0)]||{},N=c&&c(I,D),L=h&&h(I,D),G=R&&A&&s&&s(I,D,R,A),W=e=>"function"===typeof e?e(I,D,R,A):e,{style:M,...P}={...W(k),...W(I.cellProps)},T=(0,i.jsxs)("div",{className:u.cellContents,children:[(0,i.jsx)("span",{style:{flex:"auto"},children:S?null!=I.header?I.header:I.name:I.cell?I.cell(D):D[I.name]}),(0,i.jsx)("span",{style:{float:"right"},children:S&&C&&t<l.length-1&&(0,i.jsx)(j(),{axis:"x",defaultClassName:u.dragHandle,defaultClassNameDragging:u.DragHandleActive,onDrag:z(I.name),position:{x:0,y:void 0},children:(0,i.jsx)("span",{className:u.DragHandleIcon,children:"\u22ee"})})})]}),$=!S&&x,E=!S&&f,F=!S&&w,_=$||E||F||I.onClick,K=b()(u.cell,{[u.cellClickable]:_,[u.cellHovered]:G,[u.cellSelected]:N,[u.cellDisabled]:L,[u.cellHeader]:S,[u.cellInLastColumn]:t===l.length-1,[u.cellInLastRow]:!S&&r===(d?d.length:0)});return(0,i.jsx)(y.A,{component:"div",className:K,onMouseEnter:B(I,D),onMouseLeave:B(null,null),style:{...H,...M},...$&&{onClick:e=>x(e,{column:I,rowData:D,data:d})},...E&&{onDoubleClick:e=>f(e,{column:I,rowData:D,data:d})},...F&&{onContextMenu:e=>w(e,{column:I,rowData:D,data:d})},...P,children:S&&!1!==I.onHeaderClick&&(I.onHeaderClick||p)?(0,i.jsx)(v.A,{active:m&&(m===I.name||m===I.orderBy)&&0===r,style:{width:"inherit"},direction:g,onClick:e=>I.onHeaderClick?I.onHeaderClick(e,{column:I}):p(e,{column:I}),children:T}):S&&I.resizable?(0,i.jsxs)(o.Fragment,{children:[T,(0,i.jsx)(j(),{axis:"x",defaultClassName:"DragHandle",defaultClassNameDragging:"DragHandleActive",onDrag:z(I.name),position:{x:0,y:void 0},children:(0,i.jsx)("span",{className:"DragHandleIcon",children:"\u22ee"})})]}):T},a)},columnWidth:L}};function D(e){let{data:t=[],columns:l=[],width:r,height:n,maxHeight:d=null,pagination:a,fitHeightToRows:s,fixedRowCount:h=0,fixedColumnCount:u=0,rowHeight:m=48,style:g,columnWidth:p,includeHeaders:f=!1,isCellHovered:b,isCellSelected:y,isCellDisabled:v,classes:R,orderBy:j,orderDirection:H,onHeaderClick:D,onCellClick:N,onCellDoubleClick:L,onCellContextMenu:G,resizable:z,cellProps:B,...W}=e;const M=I({classes:R}),P=(0,c.A)(),T=o.useRef(null),$=o.useCallback(()=>T.current&&T.current.recomputeGridSize(),[T]);o.useEffect(()=>{$()},[l,t,n,r,$]);let E=0;if(n)E=n;else if(a&&a.rowsPerPage&&!s){E=(a.rowsPerPage+(h||(f?1:0)))*m}else if(Array.isArray(t)){E=(t.length+(h||(f?1:0)))*m}const F=Number(P.mixins.toolbar.minHeight)+A,_=E+(a?F:0),K=null!=d?Math.min(_,d):_,V=K-(a?F:0);return(0,i.jsxs)(w.A,{component:"div",style:{width:r,height:K,...g},className:M.table,...W,children:[(0,i.jsx)(x.Ay,{...S({recomputeGridSize:$,data:t,columns:l,width:r,classes:M,includeHeaders:f,columnWidth:p,isCellHovered:b,isCellSelected:y,isCellDisabled:v,orderBy:j,orderDirection:H,onHeaderClick:D,onCellClick:N,onCellDoubleClick:L,onCellContextMenu:G,resizable:z,cellProps:B}),ref:T,width:r,columnCount:Array.isArray(l)?l.length:0,fixedColumnCount:u,enableFixedColumnScroll:u>0,height:V,rowHeight:m,rowCount:Array.isArray(t)?t.length+(f?1:0):0,fixedRowCount:h,enableFixedRowScroll:h>0,classNameTopLeftGrid:"topLeftGrid",classNameTopRightGrid:"topRightGrid",classNameBottomLeftGrid:"bottomLeftGrid",classNameBottomRightGrid:"bottomRightGrid"}),a&&(0,i.jsx)(C.A,{component:"div",className:M.footer,children:(0,i.jsx)(k.A,{component:"div",...a})})]})}var N=l(76170),L=l(70511),G=l(80909),z=l(12233);const B={border:0,"scrollbar-width":"none"},W={border:0,"& .topLeftGrid":B,"& .topRightGrid":B,"& .bottomLeftGrid":B},M={...W,"& .bottomRightGrid":{border:0,"&::-webkit-scrollbar":{display:"none"},"scrollbar-width":"none","-ms-overflow-style":"none","-webkit-overflow-scrolling":"auto","&::-webkit-overflow-scrolling":"auto"}},P=e=>{let{palette:t}=e;return{...W,"& .bottomRightGrid":{"&::-webkit-scrollbar":{display:"auto",width:6,height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:t.primary.light,borderRadius:25},border:0,"-ms-overflow-style":"none","-webkit-overflow-scrolling":"auto","&::-webkit-overflow-scrolling":"auto"}}},T=(0,g.A)(e=>{let{palette:t,spacing:l,layout:o}=e;return(0,p.A)({table:{...M},tableRounded:{borderBottomLeftRadius:12,borderBottomRightRadius:12,...M},tableScroll:{...P({palette:t})},tableScrollRounded:{borderBottomLeftRadius:12,borderBottomRightRadius:12,...P({palette:t})},cellHovered:{backgroundColor:t.primary.light},cellSelected:{color:t.common.white+" !important",backgroundColor:t.primary.main},checkbox:{paddingLeft:0,paddingRight:0},checkboxIcon:{backgroundColor:t.common.white},selectedHeader:{paddingLeft:l(1),color:t.common.white,backgroundColor:t.primary.main,height:o.multiselectbarheight,marginBottom:o.contentrowspacing},cell:{},collapse:{background:t.grey[400]}})});function $(e,t){return e.map(e=>t.find(t=>t.id===e)).filter(e=>e).map(e=>e.getRowData?{...e.getRowData(e)}:{id:e.id})}const E={selectedRowIds:[]};function F(e){const t=T(e),{layout:l}=(0,c.A)(),{name:o,includeHeaders:r=!0,fixedRowCount:d=1,fixedColumnCount:g=0,rowHeight:p=l.tableRowHeight,rounded:x=!1,hover:f,onCellClick:w,onHeaderClick:y,isCellHovered:C,select:k,checkbox:v,data:R,height:j,columns:H,MultiSelectToolbar:A,showScroll:I=!1,rowDivider:S=!0}=e,B=G.K2(o),W=G.R4(),M=(0,z.LJ)(H,e).map(e=>({...e,onHeaderClick:e.sort?(t,l)=>{var o,r;o=e.name,r=e.sort,B&&W({id:B.id,orderBy:o,orderDirection:"asc"===B.orderDirection?"desc":"asc",sortComparator:r}),y&&y(t,l)}:y}));return(0,i.jsx)("div",{style:{height:j},children:(0,i.jsx)(L.A,{initialState:E,children:e=>{let{state:o,setState:c}=e;const H=o.selectedRowIds,L=H.length,G=0===L?"":1===L?L+" item":L+" items",z=L>0?j-l.tabletoolbarheight-l.contentrowspacing:j,W=()=>c(E);return(0,i.jsx)(N.Ay,{children:e=>{let{width:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:l},children:(0,i.jsx)(h.A,{className:t.collapse,in:L>0,children:(0,i.jsxs)(u.Ay,{className:t.selectedHeader,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:0,children:[(0,i.jsx)(u.Ay,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,i.jsx)(n.A,{noWrap:!0,color:"inherit",variant:"h5",children:G})}),(0,i.jsx)(u.Ay,{item:!0,xs:!0,children:(0,i.jsx)(u.Ay,{container:!0,justifyContent:"flex-end",alignItems:"center",alignContent:"center",children:(0,i.jsx)(u.Ay,{item:!0,children:L>0&&A&&(0,i.jsx)(A,{handleReset:W,rowData:$(H,R)})})})})]})})}),(0,i.jsx)(D,{cellProps:{size:"small",style:{paddingLeft:16,paddingRight:0,borderBottom:!1===S?0:void 0}},classes:{table:I?b()(t.tableScroll,x&&t.tableScrollRounded):b()(t.table,x&&t.tableRounded),cellHovered:t.cellHovered,cellSelected:t.cellSelected,cell:t.cell},fixedRowCount:d,fixedColumnCount:g,width:l,height:z,rowHeight:p,includeHeaders:r,orderBy:B&&B.orderBy,orderDirection:B?B.orderDirection:"asc",data:R,columns:v?[{name:"checkbox",header:(0,i.jsx)(m.A,{checkedIcon:(0,i.jsx)(a.A,{className:t.checkboxIcon,color:"primary"}),indeterminateIcon:(0,i.jsx)(s.A,{className:t.checkboxIcon,color:"primary"}),checked:o.selectedRowIds.filter(e=>R.find(t=>t.id===e)).length>0,onChange:e=>c(e=>e.selectedRowIds.filter(e=>R.find(t=>t.id===e)).length===R.length?{selectedRowIds:[]}:{selectedRowIds:R.map(e=>e.id)}),...o.selectedRowIds.filter(e=>R.find(t=>t.id===e)).length>0&&o.selectedRowIds.filter(e=>R.find(t=>t.id===e)).length!==R.length&&{indeterminate:!0,color:"default"}}),cell:e=>(0,i.jsx)(m.A,{checkedIcon:(0,i.jsx)(a.A,{className:t.checkboxIcon,color:"primary"}),checked:o.selectedRowIds.filter(e=>R.find(t=>t.id===e)).some(t=>e.id===t)}),cellProps:{style:{paddingLeft:8,paddingRight:0}},width:48},...M]:M,isCellSelected:k?(e,t)=>o.selectedRowIds.some(e=>t&&t.id===e):void 0,isCellHovered:C||f?(e,t,l,o)=>C?C(e,t,l,o):t&&t.id&&t.id===o.id:void 0,onHeaderClick:y,onCellClick:w||(k?(e,t)=>{let{column:l,rowData:o}=t;c(e=>e.selectedRowIds.some(e=>o.id===e)?{selectedRowIds:e.selectedRowIds.filter(e=>e!==o.id)}:{selectedRowIds:[...e.selectedRowIds,o.id]})}:void 0),style:{backgroundColor:"white"}})]})}})}})})}var _=l(20240),K=l(94186),V=l(43576),X=l(21017),J=l(3666),O=l(97135);const q=J.A.div`
  padding-top: 16px;
  padding-left: 16px;
  padding-right: 16px;
  padding-bottom: 16px;
  width: 25%;
  display: flex;
  flex: none;
  align-content: stretch;

  @media (max-width: 1300px) {
    width: 33%;
  }

  @media (max-width: 1200px) {
    width: 50%;
  }

  @media (max-width: 550px) {
    width: 100%;
  }
`,Q=J.A.div`
  padding: 8px;
  display: flex;
  flex-wrap: wrap;
  background: ${O.A[100]};
`;function U(e){let{data:t,height:l,GridItem:o,scrollElement:r}=e;return void 0===o&&console.error("Must provide the GridItem component"),(0,i.jsx)(X.sN,{customScrollParent:r,totalCount:t.length,style:{height:r?void 0:l},components:{Item:q,List:Q,ScrollSeekPlaceholder:e=>{let{height:t,width:l,index:o}=e;return(0,i.jsx)(q,{children:(0,i.jsx)(V.A,{children:"--"})})}},itemContent:e=>{var l;const r=null!==(l=t[e])&&void 0!==l?l:{},n=r.getValues?r.getValues():r;return n&&(0,i.jsx)(o,{index:e,...n})}})}var Y=l(37801);function Z(e){const{layout:t}=(0,c.A)(),{rowHeight:l=t.tableRowHeight,data:o,columns:r,height:n}=e,d=(0,z.LJ)(r,e);return(0,i.jsx)("div",{style:{height:n},children:(0,i.jsx)(L.A,{initialState:{selectedRowIds:[]},children:e=>{let{state:r}=e;const a=r.selectedRowIds.length>0?n-t.multiselectbarheight-t.contentrowspacing:n;return(0,i.jsx)(N.Ay,{children:e=>{let{width:t}=e;return(0,i.jsx)(ee,{data:o,rowHeight:l,width:t,height:a,columns:d})}})}})})}const ee=e=>{var t;const{height:l,width:r,data:n,columns:d,rowHeight:a=50,getClassName:s}=e,c=()=>{u(new Y.jS({fixedWidth:!0,minHeight:a}))};o.useEffect(()=>{u(new Y.jS({fixedWidth:!0,minHeight:a}))},[n,d,s,l,a,r]);const[h,u]=o.useState(new Y.jS({fixedWidth:!0,minHeight:null!==(t=e.rowHeight)&&void 0!==t?t:50}));return(0,i.jsx)(Y.B8,{deferredMeasurementCache:h,height:l,overscanRowCount:0,rowCount:n.length,rowHeight:h.rowHeight,rowRenderer:e=>{let{index:t,key:l,parent:o,style:r}=e;const a=s&&s({columnIndex:0,rowIndex:t});return(0,i.jsx)(Y.dl,{cache:h,columnIndex:0,rowIndex:t,parent:o,children:e=>{let{measure:l,registerChild:o}=e;return(0,i.jsx)("div",{ref:o,className:a,style:r,children:d[0].cell({...n[t],handleRefresh:c},d[0])})}},l)},width:r})},te=(0,g.A)(e=>{let{palette:t,spacing:l,layout:o}=e;return(0,p.A)({placeholder:{padding:l(1),background:t.grey[50]},footer:{paddingRight:l(1),background:t.grey[200],border:8,height:o.tablefooterheight,color:t.text.hint},paper:e=>{let{rounded:t}=e;return{borderBottomLeftRadius:t?4:0,borderBottomRightRadius:t?4:0}}})});function le(e){const{elevation:t=4,placeholder:l,footer:o,name:a,selector:s,data:h=[],height:m,isList:g,isGrid:p,...x}=e,f=te(e),{layout:b}=(0,c.A)(),w=(0,r.d4)(t=>s?s(t,e):h),y=w&&w.length?w.length:0,C=o&&m?m-b.tablefooterheight:m,k=g?Z:p?U:F;return(0,i.jsxs)(_.A,{elevation:t,className:f.paper,children:[0===y?(0,i.jsxs)(u.Ay,{style:{height:C},container:!0,className:f.placeholder,alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(u.Ay,{item:!0,xs:!0,children:(0,i.jsx)(d,{...e})}),(0,i.jsx)(u.Ay,{item:!0,xs:12})]}):(0,i.jsx)(k,{name:a,data:w,height:C,...x}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K.A,{}),(0,i.jsx)(u.Ay,{container:!0,className:f.footer,alignContent:"center",alignItems:"center",justifyContent:"flex-end",children:(0,i.jsx)(u.Ay,{item:!0,container:!0,alignItems:"center",justifyContent:"flex-end",children:(0,i.jsxs)(n.A,{align:"right",variant:"caption",children:["Viewing ",y," ",a]})})})]})]})}}}]);
//# sourceMappingURL=865.918a4514.chunk.js.map