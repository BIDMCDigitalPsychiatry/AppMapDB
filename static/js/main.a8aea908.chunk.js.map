{"version":3,"sources":["components/application/Selector/store.ts","components/application/SnackBar/store.ts","database/store.ts","store.ts","storeConfig.ts","components/layout/ViewPort.tsx","components/pages/RatingProcess.tsx","components/application/GenericTable/TableToolbar.tsx","components/application/Selector/useTabSelector.ts","components/general/TabSelector/TabSelector.tsx","components/application/GenericTable/TableTabSelector.tsx","components/application/SnackBar/SnackBar.tsx","components/application/SnackBar/useSnackBar.tsx","components/application/GenericDialog/helpers.tsx","components/application/DialogField/Text.tsx","components/application/GenericDialog/Fields.tsx","components/application/GenericDialog/ErrorGate.tsx","components/application/GenericDialog/GenericDialog.tsx","components/application/DialogField/Label.tsx","components/application/DialogField/TextLabel.tsx","components/application/GenericDialog/RegisterV2/RateAnApp.js","components/application/GenericDialog/LoginV2/index.js","components/application/GenericDialog/RegisterV2/index.js","components/general/TabSelector/TabSelectorToolBarV2.tsx","components/layout/Logo.tsx","images/logoV2.png","components/layout/ApplicationBarV2.tsx","components/layout/Questions.tsx","components/layout/FooterV2.tsx","components/application/GenericContent/GenericContent.tsx","components/application/DialogField/Check.tsx","components/application/DialogField/MultiSelectCheckExpandable.tsx","components/application/GenericContent/Filter/FilterContentLeftDrawer.tsx","components/layout/useFilterCount.tsx","components/layout/StyledBadge.tsx","database/useTableState.tsx","database/useFilters.tsx","database/useFilterList.tsx","database/useUpdateDatabase.tsx","database/useProcessData.tsx","components/application/DialogField/AutoCompleteSelect.tsx","components/application/GenericDialog/DeleteFilter/index.tsx","components/application/GenericDialog/SaveFilter/index.tsx","components/application/GenericDialog/LoadFilter/index.tsx","components/application/GenericContent/FilterButtons/index.tsx","components/layout/LeftDrawerContent.tsx","components/layout/LeftDrawer.tsx","components/layout/KeyWords.tsx","components/layout/LayoutV2.tsx","components/application/GenericTable/GenericTableContainer.tsx","components/application/DialogField/MultiSelectCheck.tsx","components/application/GenericDialog/RateNewApp/templates/SupportedPlatforms.tsx","images/google_play_store.png","images/apple_store.png","images/web.png","components/application/GenericDialog/RateNewApp/templates/TabLabel.tsx","components/application/DialogField/NewWindowLink.tsx","components/application/GenericDialog/RateNewApp/templates/ApplicationTabs.tsx","components/application/GenericDialog/RateNewApp/templates/ApplicationInfo.tsx","images/logo.png","components/application/GenericDialog/ScreenshotsDialog/Screenshots.tsx","components/application/GenericDialog/ScreenshotsDialog/index.tsx","components/application/DialogField/AndroidStore.tsx","components/application/DialogField/AppleStore.tsx","components/application/DialogField/WholeNumber.tsx","components/application/DialogField/WholeNumberUpDown.tsx","components/application/DialogField/TextLinkStyled.tsx","components/general/OutlinedDiv/OutlinedDiv.tsx","components/general/LightTooltip/LightTooltip.tsx","components/application/DialogField/YesNo.tsx","components/application/DialogField/YesNoGroup.tsx","components/application/GenericDialog/RateNewApp/templates/PrivacyInfo.tsx","components/application/GenericDialog/RateNewApp/templates/ClinicalFoundationInfo.tsx","components/application/GenericDialog/RateNewApp/templates/Review.tsx","components/application/GenericDialog/RateNewApp/steps.tsx","components/application/GenericDialog/OnActivate.tsx","components/application/GenericDialog/GenericStepperDialog.tsx","components/application/GenericDialog/RateNewApp/RateNewAppDialog.tsx","components/application/GenericTable/Applications/ViewModeButton.tsx","components/application/GenericTable/Applications/AdminToggle.tsx","components/application/GenericTable/Applications/AppSummary.tsx","components/application/GenericDialog/DialogTableContent.tsx","components/application/GenericDialog/ApplicationHistoryDialog/index.tsx","components/application/GenericDialog/RateNewApp/templates/ApplicationTabsView.tsx","components/application/GenericTable/ApplicationReviews/AppReview.tsx","components/application/GenericTable/ApplicationReviews/useAppReviewData.tsx","components/application/GenericTable/ApplicationReviews/table.tsx","components/application/GenericDialog/ApplicationDialog/index.js","components/application/GenericDialog/SuggestEdit/index.js","components/application/GenericTable/Applications/RatingsColumn.tsx","components/application/GenericTable/Applications/columns.tsx","components/application/GenericTable/Applications/FilterButton.tsx","components/application/GenericPopover/GenericPopover.tsx","components/application/GenericTable/TableSearch.tsx","components/application/GenericPopover/Filter/index.tsx","database/useExportDatabase.tsx","database/hooks.tsx","components/application/GenericTable/Applications/table.tsx","components/application/GenericTable/ApplicationsList/ExpandableCategories.tsx","components/application/GenericTable/ApplicationsList/AppSummary.tsx","components/application/GenericTable/ApplicationsList/table.tsx","components/application/GenericTable/ApplicationsSummary/ExpandableDescription.tsx","components/application/GenericTable/ApplicationsSummary/table.tsx","components/application/GenericTable/ApplicationsSummary/ApplicationSummary.tsx","components/application/GenericTable/ApplicationHistory/selectors.tsx","components/application/GenericDialog/ApplicationHistoryDialogV2WithDrafts/index.tsx","components/application/GenericTable/MyApplicationsPending/MyRatingsColumnPending.tsx","components/application/GenericTable/MyApplicationsPending/columns.tsx","components/application/GenericTable/Applications/RatingsColumnHistory.tsx","components/application/GenericTable/ApplicationListHistory/table.tsx","components/application/GenericTable/ApplicationHistory/table.tsx","components/application/GenericTable/ApplicationListHistoryV2/table.tsx","components/application/GenericTable/TableSearchV2.tsx","components/application/GenericTable/Applications/ViewModeButtons.tsx","components/pages/SearchHeaderRedux.tsx","database/useApplications.tsx","components/pages/useAppTableDataTest.tsx","components/pages/AppsV2.tsx","components/pages/RateAnAppHeader.tsx","components/application/GenericTable/Applications/FilterButtonBottom.tsx","components/application/GenericTable/MyApplicationsPending/table.tsx","components/pages/MyRatings/MyAppRatings.tsx","components/pages/MyRatings/MyRatings.tsx","components/layout/PlayGround.tsx","components/application/DialogField/MultiFeatureSelect.tsx","components/pages/SearchHeader.tsx","components/pages/HomeV2.tsx","images/appEvaluationModel.webp","components/pages/FrameWorkQuestionsV2/QuestionSample.tsx","images/questions/0.png","images/questions/1.png","images/questions/2.png","images/questions/3.png","images/questions/4.png","images/questions/5.png","images/questions/6.png","images/questions/7.png","images/questions/8.png","images/questions/9.png","images/questions/10.png","images/questions/11.png","components/pages/ExploreQuestions.tsx","components/application/GenericDialog/ExploreQuestions/index.js","components/pages/FrameWorkQuestionsV2/FrameworkQuestionsV2.tsx","components/pages/RateNewAppIntro.tsx","components/pages/RateNewApp/RateNewAppHeader.tsx","components/application/GenericDialog/GenericStepper.tsx","components/application/GenericDialog/RateNewApp/RateNewAppCardV2.tsx","components/pages/RateNewApp/RateNewAppV2.tsx","components/general/ImageCarousel.tsx","components/pages/ViewAppRating.tsx","components/general/ArrowButtonCaption.tsx","components/pages/ViewAppHeader.tsx","components/pages/ViewApp.tsx","components/pages/RateAnApp.tsx","components/general/TabSelector/TabSelectorTextToolBar.tsx","components/pages/Admin/AdminLayoutSelector.tsx","components/pages/SearchHeaderReduxPending.tsx","components/application/GenericDialog/ApplicationHistoryDialogV2/index.tsx","components/application/GenericTable/ApplicationsPending/RatingsColumnPending.tsx","components/application/GenericTable/ApplicationsPending/columns.tsx","components/application/GenericTable/ApplicationsPending/table.tsx","components/pages/Admin/AppsPending.tsx","components/pages/Admin/AdminPendingApprovals.tsx","components/pages/Survey/sendSurveyEmail.tsx","components/application/GenericTable/Surveys/columns.tsx","components/application/GenericTable/Surveys/selectors.tsx","database/useSurveys.tsx","database/useSurveyReminders.tsx","components/application/DialogField/RadioRow.tsx","components/pages/Survey/useSurvey.tsx","components/pages/Survey/Survey.tsx","components/application/GenericTable/Surveys/useSurveyExport.tsx","components/application/GenericTable/Surveys/table.tsx","components/pages/Admin/Admin.tsx","components/icons/Plus.tsx","components/icons/Search.tsx","database/models/Post.tsx","database/useTable.tsx","database/useComments.tsx","components/application/Blog/BlogPostCard.tsx","components/pages/Blog/BlogToolbar.tsx","components/pages/Blog/helpers.tsx","components/icons/SortAscending.tsx","components/hooks/useSortOptions.tsx","components/icons/SortDescending.tsx","components/pages/Blog/BlogPostList.tsx","database/usePosts.tsx","components/icons/PencilAlt.tsx","components/application/GenericDialog/Comment/index.tsx","components/application/Blog/BlogPostComment.tsx","components/pages/Blog/useValues.tsx","components/pages/Blog/BlogPostDetails.tsx","components/application/QuillEditor.tsx","components/icons/Duplicate.tsx","components/icons/X.tsx","components/application/FilesDropzone.tsx","components/application/DialogField/DateTimePicker.tsx","components/application/DialogField/ImageList.tsx","components/application/GenericDialog/StockImageSelector/index.tsx","components/application/DialogField/Image.tsx","components/application/Blog/BlogPostCreateForm.tsx","components/pages/Blog/BlogPostCreate.tsx","components/pages/Blog/BlogPostEdit.tsx","database/useTableRow.tsx","components/application/DialogField/Switch.tsx","components/general/OutlinedSelect.tsx","components/application/DialogField/Select.tsx","components/application/DialogField/DatePicker.tsx","components/application/DialogField/TextLink.tsx","components/application/GenericDialog/Event/index.tsx","components/application/Calendar/Header.tsx","components/application/Calendar/Toolbar.tsx","components/application/GenericDialog/EditEvent/index.tsx","components/application/Calendar/index.tsx","components/pages/Calendar/useEvents.tsx","components/pages/Calendar/CommunityCalendar.tsx","components/pages/Blog/BlogCalendar.tsx","components/application/Blog/BlogLayoutSelector.tsx","components/application/Blog/BlogLayout.tsx","components/pages/Survey/SurveyFollowUp.tsx","components/layout/routes.tsx","components/layout/useLogRocketUser.tsx","components/layout/AppRouter.tsx","aws-exports.js","components/layout/CssBaselineCustom.tsx","App.tsx","serviceWorker.js","index.js","images/default_app_icon.png","database/dbConfig.ts","components/application/GenericDialog/store.ts","hooks.tsx","components/application/GenericTable/ApplicationsSummary/PlatformButtons.tsx","components/application/GenericDialog/DialogButton.tsx","images/android.png","database/models/Application.tsx","components/general/ArrowButton.tsx","components/layout/store.ts","components/layout/hooks.tsx","components/application/GenericDialog/useDialogState.tsx","content/zoom_0.mp4","components/application/GenericTable/Applications/selectors.tsx","components/application/GenericTable/store.ts","helpers.tsx","fonts/lato-v17-latin/lato-v17-latin-regular.woff2","fonts/noto-sans-v11-latin/noto-sans-v11-latin-regular.woff2","fonts.js","constants.tsx","components/application/GenericTable/helpers.tsx","content/zoom_1.mp4"],"names":["defaultState","AppBar","value","initialState","updateSnackBar","payload","type","updateState","state","table","id","data","undefined","newState","applications","surveys","filters","events","posts","comments","updateDatabase","saveCsv","csv","Date","now","fileName","link","document","createElement","setAttribute","encodeURIComponent","body","appendChild","node","querySelector","click","exportDatabaseCsv","ids","columns","forEach","index","row","Object","keys","filter","onlyUnique","sort","sortAscendingToLower","length","map","c","join","column","cell","JSON","stringify","formatted","isEmpty","replace","exportTableCsv","i","name","rowData","getExportValues","reducers","layout","Layout","dialog","Dialog","Table","selector","action","snackBar","database","evalFunc","localforage","driver","packageJson","version","size","storeName","description","persistConfig","key","storage","ViewPortDimensions","props","containerHeight","containerWidth","resizeViewPort","React","useStyles","makeStyles","createStyles","dimensions","overflow","position","width","height","static","flexGrow","zIndex","display","ViewPort","children","classes","LayoutStore","useTheme","className","style","backgroundColor","RatingProcess","palette","spacing","typography","root","paper","color","common","white","background","primary","main","formControl","marginBottom","paddingRight","searchIcon","underline","borderBottom","title","h4","paddingLeft","fontSize","pxToRem","fontWeight","titleicon","marginTop","grid","tabletoolbarheight","hidden","TableToolbar","searchOpen","setSearchOpen","buttons","square","inputplaceholder","Icon","search","showicon","buttonPosition","useTable","searchtext","handleOpenSearch","useWidth","inputRef","tableUpdate","useTableUpdate","updateTable","handleClear","event","handleKeyDown","preventDefault","current","focus","addEventListener","removeEventListener","handleChange","target","fullScreen","useFullScreen","Search","FormControl","Input","disableUnderline","onChange","placeholder","startAdornment","InputAdornment","endAdornment","IconButton","onClick","Buttons","placement","Typography","variant","Fab","marginLeft","marginRight","b","widths","contentpadding","headerpadding","iconwidth","titlepadding","titleminwidth","calculatedbuttonswidth","calculatedfullwidth","k","reduce","t","a","tabletitlevisible","tableiconvisible","IconComponent","Icons","ButtonGroup","Grid","item","container","direction","justify","alignItems","Paper","elevation","xs","zeroMinWidth","noWrap","useTabSelector","dispatch","useDispatch","useSelector","useCallback","updateSelector","rounded","grey","borderRadius","tabs","minHeight","indicator","labelIcon","tabroot","padding","minWidth","wrapper","justifyContent","flexDirection","TabSelector","orientation","wrapped","tabSelector","setTabSelector","selected","tabId","triggerResize","Tabs","scrollButtons","Tab","icon","label","maxWidth","connect","ownProp","storeTable","tab","variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","theme","green","dark","amber","iconVariant","opacity","message","SnackBar","other","shallowEqual","useSnackBar","open","setSnackBar","handleClose","reason","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","SnackbarContent","clsx","setMappedValue","field","prev","object","getValue","f","values","getMappedValue","singleValue","isDisabled","disabled","isActive","active","isHidden","isEnabled","useHandleChange","setValues","resetErrors","e","uppercase","checkEmpty","toUpperCase","useValues","fields","InitialValues","setState","validate","externalValues","externalSetValues","disableInitialize","initialValues","submitting","showErrors","defaultValues","initialValue","getDefaultValues","mergedInitialValues","merge","useState","internalValues","setInternalValues","vals","touched","setTouched","mergedInitialValuesStr","initializeValues","parse","useEffect","internalErrors","handleValidation","errors","externalErrors","errorCount","isError","stateErrors","isObjectWithKeys","handleBlur","hasChanged","mapField","required","autoFocus","InputProps","inputProps","step","min","max","multiline","rows","getProps","disableCloseOnSelect","tooltip","showError","getLabel","onBlur","items","bindField","Errors","email","validateEmail","http","validateHttpUrl","emptyUndefined","useStepFields","steps","s","setFields","Text","forceErrorMargin","TextField","helperText","margin","fullWidth","InputLabelProps","shrink","getColumnFields","numFields","numCols","numColsField","Math","ceil","startIndex","endIndex","MapField","Field","collapse","wrappeditem","Item","debugSettings","debugfieldonhover","Collapse","in","InjectField","find","Fields","minColumnWidth","maxColumnWidth","Array","from","ErrorGate","align","PaperComponent","cancel","button","outline","border","dialogHeader","capitalize","textTransform","content","actions","paddingTop","paddingBottom","light","closeButton","deleteButton","deleteButtonEmpty","submitProgress","top","left","progressSize","GenericDialog","Title","draggable","cancelLabel","deleteLabel","submitLabel","dialogActions","divider","onSubmit","onDelete","Content","ContentProps","Classes","useDialogState","loading","confirmDelete","setConfirmDelete","handleConfirmDelete","values_s","handleSubmit","handleDelete","contentProps","inProgress","disableAutoFocus","DialogTitle","disableTypography","Divider","DialogContent","dividers","CircularProgress","Button","DialogActions","text","Label","TextLabel","rateAnApp","secondary","arrowRight","primaryTextSmall","RateAnApp","changeRoute","useChangeRoute","handleRateApp","publicUrl","textAlign","dialogState","copyToLower","isValEmpty","includes","ForgotPassword","DialogButton","primaryButton","infoContainer","injectField","fs","enterNewPassword","dialogStateStr","setUser","useSetUser","handleLogin","forgotPassword","confirmationCode","newPassword","password","Auth","forgotPasswordSubmit","then","alert","signIn","user","console","log","catch","err","newErrors","LoginDialog","PaperProps","passwordValidator","require","schema","is","has","lowercase","digits","symbols","confirmationCodeError","confirmPassword","validationRulesErrors","list","formatPasswordValidateError","EnterConfirmationCode","confirm","values_str","handleAdd","signUp","username","attributes","result","handleConfirm","confirmSignUp","Box","mt","RegisterDialog","TabSelectorToolBarV2","pathname","useLocation","tabRoute","route","tabToSelect","handleClick","Container","routeState","breakpoints","logo","autoHide","toolbarheight","down","logoText","letterSpacing","Logo","showText","handleChangeRoute","useHandleChangeRoute","src","alt","appBar","appBarFullScreen","toolbar","accountMenuItem","pointerEvents","menuButton","up","useTabs","subRoute","category","AppBarTabSelector","isAdmin","useIsAdmin","signedIn","useSignedIn","ApplicationBarV2","trigger","registerOpen","setRegisterState","loginOpen","setLoginState","anchorEl","setAnchorEl","Boolean","handleLogout","signInUserSession","idToken","handleTabChange","useLeftDrawer","setLeftDrawerOpen","leftDrawerEnabled","handleOpenLeftDrawer","renderDialogModule","Slide","appear","ref","useAppBarHeightRef","disableGutters","edge","currentTarget","Menu","keepMounted","transformOrigin","MenuListProps","MenuItem","Module","mount","Questions","Link","href","contactEmail","cursor","FooterV2","useFooterHeightRef","card","GenericContent","onReset","handleReset","Check","checked","FormControlLabel","control","Checkbox","bool","FormHelperText","MuliSelectCheckExpandable","expand","setExpand","itemValue","newValue","v","concat","stopPropagation","ml","mr","sections","Accessibility","Interoperability","Privacy","FilterContentLeftDrawer","advanced","setAdvanced","handleToggleAdvanced","MultiSelectCheckExpandable","Costs","DeveloperTypes","Features","withReplacement","Functionalities","Conditions","Engagements","Privacies","Uses","ClinicalFoundations","categories","useTableFilterValues","useFilterCount","Inputs","Outputs","Platforms","Cost","withStyles","badge","right","Badge","useTableState","setDatabaseTable","useDatabaseRow","useFilters","tables","useGetFilters","setFilters","uid","getFilters","getItems","scanResults","params","TableName","ExclusiveStartKey","dynamo","scan","promise","Items","push","LastEvaluatedKey","d","delete","_id","useFilterList","useUpdateDatabase","useProcessData","pdi","processData","executeTransaction","Data","Model","Action","Snackbar","onSuccess","onError","put","_rev","get","Key","getState","DataProp","statusCode","option","toString","getSelectedOption","options","isArray","o","AutoCompleteSelect","freeSolo","Autocomplete","autoHighlight","getOptionLabel","renderOption","renderInput","autoComplete","DeleteFilter","SavedFilter","time","getTime","SaveFilter","filterName","uuid","LoadFilter","FilterButtons","SavedFilterStr","LoadFilterDialog","SaveFilterDialog","DeleteFilterDialog","header","primaryText","LeftDrawerContent","filterCount","StyledBadge","badgeContent","mb","m","drawer","leftDrawerWidth","flexShrink","drawerPaper","appBarHeight","overflowX","drawerPaperTemporary","LeftDrawer","useHeight","useAppBarHeight","leftDrawer","setLeftDrawer","handleLeftDrawerClose","Drawer","ModalProps","keyWords","KeyWords","leftDrawerOpen","innerContent","fullHeight","contentHeight","smallRoutes","noScrollPaths","noFooterPaths","noPadPaths","LayoutV2","footerHeight","useFooterHeight","p","useScrollTrigger","surveyId","useUrlParameter","followUpSurveyType","appId","GenericTable","GenericTableContainer","Height","stacked","toolbarplaceholder","Columns","dialogs","onChangeTab","FilterContainer","tableProps","layoutHeight","renderCell","col","getValues","Cell","Component","handleRefresh","injectValues","applyCellRenderers","_toolbar","filterbar","component","tablefilterbarheight","x","excludePadding","findIndex","calculatedheight","contentrowspacing","footerheight","spinner","thickness","fallback","r","checkedIcon","MuliSelectCheck","multiple","SupportedPlatforms","TabLabel","NewWindowLink","url","handleLink","window","getAppInfo","Axios","googlePlayProxyUrl","fontWeightRegular","labelMap","iOS","Android","Web","iconMap","apple_store","google_play_store","web","keyMap","ApplicationTabs","androidStoreField","appleStoreField","googleAppId","getAndroidIdFromUrl","androidLink","appleAppId","getAppleIdFromUrl","iosLink","handleGetAppInfo","load","appInfo","appleAppInfo","fetchData","setTab","TabIndicatorProps","platforms","disableRipple","webLink","ApplicationInfo","Screenshots","images","setIndex","handleNext","handleBack","disabledColor","ScreenshotsDialog","AndroidStore","developer","installs","offersIAP","free","adSupported","screenshots","linkvariant","AppleStore","checkMinMax","isDefined","Number","WholeNumberFormat","thousandSeparator","getInputRef","onValueChange","decimalScale","allowNegative","isNumericString","WholeNumber","inputComponent","WholeNumberUpDown","handleUp","isNaN","handleDown","TextLinkStyled","useHandleLink","onMouseDown","shape","borderColor","inputLabel","transform","notchedOutline","OutlinedDiv","labelWidth","setLabelWidth","labelRef","useRef","labelNode","ReactDOM","findDOMNode","offsetWidth","InputLabel","htmlFor","notched","LightTooltip","body2","boxShadow","shadows","Tooltip","YesNo","labelPlacement","isTrue","isFalse","YesNoGroup","paragraph","more","PrivacyInfo","privacies","ClinicalFoundationInfo","clinicalFoundations","Review","Template","MultiSelectCheck","links","toLowerCase","al","CostQuestions","DeveloperTypeQuestions","PrivacyQuestions","FunctionalityQuestions","ClinicalFoundationQuestions","feasibilityStudies","parseInt","efficacyStudies","FeatureQuestions","EngagementQuestions","InputQuestions","OutputQuestions","UseQuestions","OnActivate","activeIndex","onActivate","activated","setActivated","dialogTitle","mobileStepper","GenericStepperDialog","timeout","duration","standard","activeStep","setActiveStep","setShowErrors","show","activeSteps","enabled","currentStep","stepValidate","activeErrorCount","next","newValues","prevActiveStep","Chip","FieldsComponent","MobileStepper","nextButton","backButton","RateNewAppDialog","setDialogState","_steps","setSteps","draft","application","timestamp","groupId","created","approved","parent","updated","handleProcessData","viewmode","bottom","ViewModeButton","mode","useViewMode","setViewMode","fab","AdminToggle","useAdminMode","adminMode","setAdminMode","AppSummary","app","getAppIcon","company","getAppCompany","disablePadding","dense","ListItem","ListItemAvatar","ListItemText","getAppName","DialogTableContent","breakpoint","useMediaQuery","overflowY","viewMode","Tables","ApplicationHistoryDialog","ApplicationTabsView","androidStore","appleStore","androidAppInfo","getId","useAppReviewData","apps","sorted","review","useTableFilter","defaultAppReviewProps","isGrid","handleExpand","pt","pb","getDayTimeFromTimestamp","footer","ApplicationReviews","showScroll","ApplicationDialog","SuggestEdit","suggestion","applicationInfo","emailAddress","emailUser","sourceEmailAddress","appName","appCompany","Destination","CcAddresses","ToAddresses","Message","Body","Html","Charset","Subject","Source","ReplyToAddresses","AWS","SES","apiVersion","sendEmail","MessageId","stack","RatingsColumn","SuggestEditDialog","hover","center","CenterRadio","LastUpdated","buildRadios","isLabelMatch","short","buildRadiosWithLabels","labels","DeveloperTypeLabels","fq","FunctionalityLabels","PrivacyLabels","ClinicalFoundationLabels","EngagementLabels","PlatformRadios","pinned","sortPinned","UsesRadios","uses","DeveloperTypeRadios","developerTypes","CostRadios","costs","ConditionRadios","conditions","EngagementRadios","engagements","FunctionalityRadios","functionalities","ClinicalFoundationRadios","PrivacyRadios","FeaturesRadios","features","InputRadios","inputs","OutputRadios","outputs","pinnedColumns","remainingColumns","useColumns","setPinned","handlePinColumn","subcolumn","hoverable","staticColumns","dynamicColumns","onHeaderClick","FilterButton","Id","other_s","handleUpdate","overlap","GenericPopover","Popover","Card","CardHeader","CardContent","CardActions","endIcon","TableSearch","FilterPopover","useHandleExport","exportDatabase","useExportDatabase","isTableData","defaultApplicationsProps","Applications","showButtons","HeaderComponent","handleExport","onExport","fixedColumnCount","chipRoot","flexWrap","ExpandableCategories","titleVariant","isExpandable","handleToggleExpand","filtered","categoryArray","l","valueItems","tableScroll","mainChip","ratingIds","rating","RatingButtonsComponent","platform","shortDeveloperTypes","dt","dtq","GroupId","newerMembers","useNewerMemberCount","newMemberText","defaultApplicationsListProps","ExpandableDescription","maxDescription","collapsedDescription","substring","defaultApplicationsSummaryProps","bgcolor","imageHeight","PlatformButtons","ApplicationsSummary","defaultProps","isMatch","useAppHistoryData","includeDeleted","includeDrafts","isAdminMode","appSearchable","getSearchValues","customFilter","ContentWithDrafts","ApplicationHistoryDialogV2WithDrafts","MyRatingsColumnPending","canEdit","showRatings","showInfo","RatedBy","archived","red","pending","orange","yellow","Status","MyRatingsColumn","RatingsColumnHistory","IsAdmin","deleted","appStr","handleApprove","approverEmail","ApplicationListHistory","customRatingColumn","ApplicationHistory","ratingIndex","splice","RatingsButtons","ApplicationListHistoryV2","ApplicationListHistoryV2WithDrafts","TableSearchV2","primaryButtonDisabled","ViewModeButtons","getMobilePadding","getPadding","bp","multiplier","deleteIcon","SearchHeaderRedux","useTableValues","setFilterValues","sm","showClear","useHeaderHeightRef","i2","useApplications","useAppTableDataTest","setApps","handleGetRow","getRow","requestParams","firstPass","cost","functionality","developerType","groupIds","filteredData","gId","sortedAsc","newest","AppsV2","headerHeight","useHeaderHeight","tableHeight","tablefooterheight","secondaryText","RateAnAppHeader","showArchived","onToggleArchive","FilterButtonBottom","MyApplicationsPending","includeApproved","usePendingAppData","MyAppRatings","MyRatings","setShowArchived","handleToggle","axios","PlayGround","setAppInfo","setAppId","setType","Error","results","chip","colorPrimary","emphasize","colorSecondary","chipActive","MuliFeatureSelectCheck","StartIcon","SearchHeader","setTableState","handleSearch","secondaryButton","searchFilters","HomeV2","useComponentSize","FeatureSection","Cards","ArrowButton","QuestionSample","i0","i1","i3","i4","i5","i6","i7","i8","i9","i10","i11","ObjecttiveQuestions","ExploreQuestionsDialog","videoPath","default","videoPath2","whiteHeader","greyHeader","primaryLightText","primaryLight","FrameworkQuestionsV2","vw","Framework","HowChoose","AppRegulation","ReviewApproach","appEvaluationModel","ObjectiveQuestions","QuestionSamples","ExploreQuestions","alignContent","Videos","controls","C","contentPath","RateNewAppIntro","RateNewAppHeader","onSave","maxHeight","stepSummary","GenericStepper","SubmitIcon","CheckIcon","showActions","FieldActions","onSaveSuccess","handleSaveDraft","RateNewAppCardV2","useAppData","RateExistingApp","RateNewAppV2","Arrow","ImageCarousel","imageWidth","itemsToShow","floor","focusOnSelect","renderPagination","renderArrow","isRTL","ss","bold","black","ViewAppRating","ArrowButtonCaption","ViewAppHeader","feasibilityStudiesLink","efficacyStudiesLink","hasSupportingStudies","ViewApp","useRouteState","fromSurvey","appleScreenshots","androidScreenshots","history","page","setPage","handlePageChange","setOpen","setTimeout","Alert","severity","AlertTitle","surveyType","Pagination","count","primaryLabel","institution","details","RanAnApp","state_str","handleSend","md","lg","labelActive","labelColor","TabSelectorTextToolBar","tabSubRoute","selectedId","AdminLayoutSelector","SearchHeaderReduxPending","ApplicationHistoryDialogV2","RatingsColumnPending","ApplicationsPending","AppsPending","AdminPendingApprovals","sendSurveyFollowUpEmail","hostAddress","LastReminderSent","lastReminderSent","Actions","parentId","followUpCompleted","handleFollowUp","reminderId","surveyReminders","AppSummaryMapped","useSurveyData","setRows","setReminderRows","survey","surveyReminderKeys","sortDescending","surveyReminder","searchableProps","RadioRow","RadioGroup","useSurvey","Values","useUserEmail","cachedValues","setErrors","setLoading","updateRow","OnSuccess","OnError","handleSave","idKey","createdBy","updatedBy","primaryTextMedium","StepTOS","questions","TOS","step0Questions","yesNoItems","comfortableItems","items3","items3b","items4","step1Questions","step2Questions","step3Questions","step4Keys","step5Keys","step6Keys","validateStepTOS","SharedSteps","isFollowUp","qt","sharedValidations","surveyQuestionKeys","Survey","surveyEmail","Steps","Step","getElementById","scrollTo","behavior","sendSurveyEmail","surveyNotificationEmail","sendSurveyNotificationEmail","Surveys","useSurveyExport","Admin","Plus","createSvgIcon","xmlns","viewBox","fill","fillRule","clipRule","useDefaultValues","shortDescription","readTime","adminOnly","enableComments","authorName","publishedAt","readTimes","handleRequest","FilterExpression","ExpressionAttributeNames","ExpressionAttributeValues","getRows","useComments","useCommentsByPostId","postId","BlogPostCard","cover","CardMedia","image","formatWithDefault","textOverflow","WebkitBoxOrient","WebkitLineClamp","primaryHeaderText","BlogToolbar","subtitle","showGreeting","SubTitle","showToolbar","startIcon","sortComments","createdAt","sortAscending","SortAscending","sortOptions","desc","SortOptionIcon","asc","SortAscendingIcon","useSortOptions","sortOption","setSortOption","sortLabel","handleToggleSortDirection","archiveBanner","BlogPostList","setPosts","usePosts","setSearch","handleClearSearch","ArchiveIcon","post","searchObj","format","escapeRegex","searchPosts","py","PencilAlt","CommentDialog","userId","useUserId","updatedAt","BlogPostComment","mountDialog","onRefresh","level","userEmail","formatDistanceToNow","addSuffix","comment","n","y","endsWith","sizeKB","Decimal","times","minus","dividedBy","toInteger","lessThanOrEqualTo","Category","getPost","updatePost","fontFamily","h2","fontWeightBold","lineHeight","h3","body1","BlogPostDetails","handleEdit","purifiedContent","DOMPurify","sanitize","marked","commentCount","isEmptyObject","dangerouslySetInnerHTML","__html","stroke","QuillEditor","Duplicate","X","isDragActive","img","listItem","FileDropzone","accept","files","maxFiles","getFilesFromEvent","maxSize","minSize","onDrop","noClick","noDrag","noDragEventsBubbling","noKeyboard","onRemove","onDropAccepted","onDropRejected","onFileDialogCancel","onRemoveAll","onUpload","preventDropOnDocument","useDropzone","getRootProps","getInputProps","file","ListItemIcon","primaryTypographyProps","bytesToSize","path","DateTimePicker","utils","DateFnsUtils","inputVariant","KeyboardButtonProps","notSelected","ImageList","handleSelect","StockImageSelectorDialog","Image","scale","setScale","editorRef","rotate","Slider","getImage","toDataURL","toBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","BlogPostCreateForm","handleDropCover","resizing","setResizing","handleSelectCover","xl","FilesDropzone","select","SelectProps","native","rt","BlogPostCreate","BlogPostEdit","useTableRow","externalState","setExternalState","internalState","setInternalState","response","row_str","_Id","setRow","prevValues","setRowPrev","readSetRow","Switch","getFieldState","OutlinedSelect","setIfEmpty","Select","DatePicker","TextLink","frequencyItems","EventDialog","submitData","frequency","nextStart","nextEnd","start","end","frequencyEnd","moment","add","toDate","nextData","toISOString","status","disableClearable","fe","dailyMax","weeklyMinEnd","subtract","weeklyMax","biWeeklyMinEnd","biWeeklyMax","monthlyMinEnd","monthlyMax","Header","rest","onAddClick","viewOptions","ViewConfigIcon","ViewWeekIcon","ViewDayIcon","ViewAgendaIcon","Toolbar","date","onDateNext","onDatePrev","onDateToday","onViewChange","view","Hidden","smDown","viewOption","EditEventDialog","eventId","calendar","contrastText","borderWidth","h6","subtitle2","fontWeightMedium","subtitle1","CalendarView","create","edit","calendarRef","mobileDevice","setDate","setView","setEditDialogState","handleEventResize","allDay","handleEventDrop","calendarEl","calendarApi","getApi","newView","changeView","getDate","today","allDayMaintainDuration","defaultDate","defaultView","droppable","editable","eventClick","arg","eventDrop","eventLimit","eventResizableFromStart","eventResize","rerenderDelay","unselect","submit","selectable","weekends","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","timelinePlugin","useEvents","CommunityCalendar","Calendar","BlogCalendar","cateogory","BlogLayoutSelector","components","BlogLayout","BlogComponent","SurveyFollowUp","Routes","exact","useLogRocketUser","pkg","enableLogRocket","isDev","LogRocket","identify","location","router","awsmobile","html","WebkitFontSmoothing","MozOsxFontSmoothing","boxSizing","createBrowserHistory","initialReduxState","store","appConfig","devToolsExtension","process","allReducers","combineReducers","assign","connectRouter","buildRootReducer","persistedReducer","persistReducer","compose","applyMiddleware","thunk","routerMiddleware","createStore","createStoreWithMiddleware","configureStore","persistor","persistStore","ThemedViewPort","layoutTheme","useLayoutTheme","CssBaselineCustom","AppWrapper","init","Amplify","configure","awsconfig","App","Suspense","hostname","match","printHeader","render","navigator","serviceWorker","ready","registration","unregister","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","identityPoolId","DynamoDB","DocumentClient","defaultDialogState","updateDialog","reducer","adminEmails","adminUsers","split","ae","trim","win","paramName","sParameterName","sURLVariables","decodeURIComponent","EditDialogButton","EditIcon","listitem","primaryButton2","surveyButton","fontWeigt","forwardRef","AddIcon","noGrid","shared","cq","cfq","hasPrivacyPolicy","pq","eq","iq","uq","layoutMode","useResizeAppBar","resizeAppBar","useResizeFooter","resizeFooter","useResizeHeader","resizeHeader","useResizeViewPort","useDimensions","changeViewMode","changeAdminMode","useLayout","setLayout","drawerPaths","parts","homepage","lastPart","useHistory","statePrev","useUser","showDeleted","hydratestate","setDefaults","useTableFilterUpdate","tableFilterUpdate","setTableValues","append","protocol","port","debugoutput","logviewport","logrender","logmapping","logreducer","logselectors","logform","logformupdates","initial","test","String","uncapitalize","charAt","slice","obj","newobj","spread","final","str","dispatchEvent","CustomEvent","random","searchStr","indexOf","indexEnd","self","setUTCMilliseconds","day","getDay","dayNumber","nth","year","getFullYear","h","getHours","getMinutes","isPM","month","getMonth","adminLayoutTheme","adminTheme","bytes","decimals","dm","sizes","parseFloat","pow","toFixed","textFormat","textDefault","hasOwnProperty","lineClamp","purifiedHtml","lines","stripTags","lato","fontStyle","fontDisplay","Lato","unicodeRange","notoSans","NotoSans","basetheme","createMuiTheme","themeProps","tableRowHeight","tabheight","overrides","MuiCssBaseline","MuiTooltip","MuiTypography","MuiDialogTitle","MuiDialogActions","flex","MuiListItemIcon","colorLevel","pink","indigo","purple","lime","deepOrange","cyan","blue","sortComparators","orderBy","textLower","aTxt","bTxt","decimal","A","B","dA","dB","lessThan","greaterThan","RegExp","re","attrname","isColumnExactMatch","cf","TableStore","columnfilter","columnfiltervalue","columnfiltercolumn","table_filter","stableSort","getSorting","orderDirection","sortComparator","performcolumnfilter","performtextfilter","array","cmp","stabilizedThis","el","order","isObject"],"mappings":"w7DAEaA,EAAe,CAC1BC,OAAQ,CACNC,MAAO,wB,WCCLC,EAAe,GAERC,EAAiB,SAACC,GAAD,MAA6B,CAAEC,KAAM,WAAYD,Y,gBCJ/E,SAASE,EAAYC,EAArB,GAAqD,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,GAAIL,EAAW,EAAXA,QACjCM,EAA0B,oBAAZN,EAAyBA,EAAQG,EAAMC,GAASD,EAAMC,GAAOC,QAAME,GAAaP,EAEpG,GAAKG,EAAMC,GAGJ,IAAID,EAAMC,KAAWD,EAAMC,GAAOC,GAEvC,OAAO,2BAAKF,GAAZ,kBAAoBC,EAApB,2BAA+BC,EAAKC,GAASH,EAAMC,MAGnD,IAAMI,EAAQ,eAAQL,GAEtB,OADAK,EAASJ,GAAOC,GAAMC,EACfE,EARP,OAAO,2BAAKL,GAAZ,kBAAoBC,EAApB,eAA+BC,EAAKC,KAYxC,IAAMR,EAAe,CACnBW,aAAc,GACdC,QAAS,GACTC,QAAS,GACTC,OAAQ,GACRC,MAAO,GACPC,SAAU,IAGCC,EAAiB,SAACX,EAAOC,EAAIL,GAAZ,MAAyB,CAAEC,KAAM,kBAAmBG,QAAOC,KAAIL,YAIhFgB,EAAU,SAAAC,GACrB,IAAIZ,EAAKa,KAAKC,MACRC,EAAQ,iBAAaf,EAAb,QACVgB,EAAOC,SAASC,cAAc,KAClCF,EAAKhB,GAAL,uBAA0BA,GAC1BgB,EAAKG,aAAa,OAAQ,iCAAmCC,mBAAmBR,IAChFI,EAAKG,aAAa,WAAYJ,GAC9BE,SAASI,KAAKC,YAAYN,GAC1B,IAAIO,EAAON,SAASO,cAAT,wBAAwCxB,IACnDuB,GAAQA,EAAKE,SAGTC,EAAoB,SAAC5B,EAAOC,EAAO4B,GACvC,IAAIf,EAAM,GACNgB,EAAU,GAEdD,EAAIE,SAAQ,SAAC7B,EAAI8B,GACf,IAAMC,EAAMjC,EAAMC,GAAOC,GACzB4B,EAAO,sBAAOA,GAAP,YAAmBI,OAAOC,KAAKF,QAExCH,EAAUA,EAAQM,OAAOC,KAAYC,KAAKC,KAE1CV,EAAIE,SAAQ,SAAC7B,EAAI8B,GACD,IAAVA,GAAeF,EAAQU,OAAS,IAClC1B,EAAMgB,EAAQW,KAAI,SAAAC,GAAC,wBAAQA,QAAR,IAAQA,IAAK,GAAb,QAAoBC,KAAK,KAAO,QAErD,IAAMV,EAAMjC,EAAMC,GAAOC,GACzBY,EACEA,EACAgB,EACGW,KAAI,SAAAG,GAAW,IAAD,EACTC,EAAI,QAAYZ,EAAIW,GAAhB,EAAwCE,KAAKC,UAAUd,EAAIW,WAA3D,QAAsF,GACxFI,EAAYC,YAAQJ,GAAQA,EAAOA,EAAKK,QAAQ,QAAS,IAC/D,OAAOD,YAAQJ,GAAQ,KAAhB,WAA2BG,EAA3B,QAERL,KAAK,KACR,UAEJ9B,EAAQC,IAGGqC,EAAiB,SAAChD,EAAM2B,GACnC,IAAIhB,EAAM,GACVX,EAAK4B,SAAQ,SAACE,EAAKmB,GACP,IAANA,IACFtC,GAAOgB,EAAQW,KAAI,gBAAGY,EAAH,EAAGA,KAAH,wBAAkBA,QAAlB,IAAkBA,IAAQ,GAA1B,QAAiCV,KAAK,KAAO,QAGlE,IAAIW,EAAUrB,EAAIsB,gBAAkBtB,EAAIsB,kBAAoBtB,EAE5DnB,GACEgB,EACGW,KAAI,YAAe,IAAD,EAAXY,EAAW,EAAXA,KACFR,EAAI,QAAYS,EAAQD,GAApB,EAA0CP,KAAKC,UAAUO,EAAQD,WAAjE,QAA4F,GAC9FL,EAAYC,YAAQJ,GAAQA,EAAOA,EAAKK,QAAQ,QAAS,IAC/D,OAAOD,YAAQJ,GAAQ,KAAhB,WAA2BG,EAA3B,QAERL,KAAK,KAAO,UAEnB9B,EAAQC,ICvEH,IAAM0C,EAAW,CACtBC,OAAQC,IACRC,OAAQC,IACR3D,MAAO4D,IACPC,SHfK,WAAgD,IAA/B9D,EAA8B,uDAAtBR,EAAcuE,EAAQ,uCACpD,OAAQA,EAAOjE,MACb,IAAK,kBACH,OAAOC,YAAYC,EAAO+D,GAC5B,IAAK,SACH,OAAOvE,EACT,QACE,OAAOQ,IGSXgE,SFjBqB,WAAmC,IAAlChE,EAAiC,uDAAzBL,EAAcoE,EAAW,uCACvD,MACO,aADCA,EAAOjE,KAEJ,2BACFE,GACA+D,EAAOlE,SAGLG,GEUXiE,SDoEK,WAAgD,IAA/BjE,EAA8B,uDAAtBL,EAAcoE,EAAQ,uCACpD,OAAQA,EAAOjE,MACb,IAAK,qBACH,IAAIO,EAAQ,eAAQL,GAEpB,OADAK,EAAS0D,EAAO9D,OAASiE,YAASH,EAAOlE,QAASG,EAAM+D,EAAO9D,QACxDI,EACT,IAAK,kBACH,OAAON,EAAYC,EAAO+D,GAC5B,IAAK,kBAEH,OADAnC,EAAkB5B,EAAO+D,EAAO9D,MAAO8D,EAAOlC,KACvC7B,EACT,IAAK,SACH,OAAOL,EACT,QACE,OAAOK,K,qDEnGbmE,GACEA,UACAA,SAAmB,CACjBC,OAAQD,YACRd,KAAK,GAAD,OAAKgB,EAAYhB,KAAjB,kBACJiB,QAAS,EACTC,KAAM,QACNC,UAAW,gBACXC,YAAY,GAAD,OAAKJ,EAAYhB,KAAjB,2BAGR,IAAMqB,EAAgB,CAC3BC,IAAK,MACLC,QAAST,G,8ECZLU,GAAqB,SAACC,GAC1B,IAAQC,EAAoDD,EAApDC,gBAAiBC,EAAmCF,EAAnCE,eAAgBC,EAAmBH,EAAnBG,eAKzC,OAJAC,aAAgB,WACdD,EAAeF,EAAiBC,KAC/B,CAACD,EAAiBC,EAAgBC,IAE9B,gCAGHE,GAAYC,cAAW,kBAC3BC,aAAa,CACXC,WAAY,CACVC,SAAU,SACVC,SAAU,QACVC,MAAO,cACPC,OAAQ,eAEVC,OAAQ,CACNC,SAAU,EACVC,OAAQ,EACRN,SAAU,SACVC,SAAU,QACVM,QAAS,SACTL,MAAO,aAyBEM,GApBE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACZC,EAAUd,GAAU,IAC1B,EAAwBe,MAAxB,oBAAOR,EAAP,KAAeD,EAAf,KACMR,EAAiBiB,MACfzC,EAAW0C,eAAX1C,OACR,OACE,uCACE,sBAAK2C,UAAWH,EAAQX,WAAxB,SACE,eAAC,KAAD,UACG,gBAAGI,EAAH,EAAGA,OAAQD,EAAX,EAAWA,MAAX,OAA4B,eAAC,GAAD,CAAoBV,gBAAiBW,EAAQV,eAAgBS,EAAOR,eAAgBA,SAIrH,sBAAK/E,GAAG,WAAWkG,UAAWH,EAAQN,OAAQU,MAAO,CAAEX,SAAQD,QAAOa,gBAAiB7C,EAAO6C,iBAA9F,SACGN,Q,SCnDM,SAASO,KACtB,OAAO,sE,oJCuBHpB,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAASC,EAAZ,EAAYA,QAASC,EAArB,EAAqBA,WAAYjD,EAAjC,EAAiCA,OAAjC,OAC3B4B,aAAa,CACXsB,KAAM,GACNC,MAAO,CACLC,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQC,MAE9BC,YAAa,CACXC,aAAc,EACdC,aAAcZ,EAAQ,GACtBhB,MAAO,KAET6B,WAAY,CACVT,MAAOL,EAAQS,QAAQC,MAEzBK,UAAW,CAETV,MAAOL,EAAQS,QAAQC,KACvBM,aAAa,aAAD,OAAehB,EAAQS,QAAQC,OAE7CO,MAAM,2BACDf,EAAWgB,IADX,IAEHC,YAAalB,EAAQ,IACrBI,MAAOL,EAAQM,OAAOC,MACtBa,SAAUlB,EAAWmB,QAAQ,IAC7BC,WAAY,QAEdC,UAAW,CACTrC,OAAQ,GACRD,MAAO,GACPoB,MAAOL,EAAQM,OAAOC,MACtBiB,UAAW,GAEbC,KAAM,CACJ1C,SAAU,SACV8B,aAAcZ,EAAQ,GACtBkB,YAAalB,EAAQ,GACrBf,OAAQjC,EAAOyE,mBAAqB,GAEtCC,OAAQ,CACNrC,QAAS,aA8MAsC,OAzMf,SAAsBtD,GACpB,IAAMmB,EAAUd,GAAU,IAC1B,EAAoCD,YAAe,GAAnD,oBAAOmD,EAAP,KAAmBC,EAAnB,KACQ7E,EAAW0C,eAAX1C,OACAJ,EAA+GyB,EAA/GzB,KAAR,EAAuHyB,EAAzGyD,eAAd,MAAwB,GAAxB,EAA4BC,EAA2F1D,EAA3F0D,OAAQf,EAAmF3C,EAAnF2C,MAAOgB,EAA4E3D,EAA5E2D,iBAAkBC,EAA0D5D,EAA1D4D,KAAMC,EAAoD7D,EAApD6D,OAAnE,EAAuH7D,EAA5C8D,gBAA3E,WAAuH9D,EAA3B+D,sBAA5F,MAA6G,MAA7G,EAEA,EAA4BC,YAASzF,GAA7B0F,kBAAR,MAAqB,GAArB,EAEA7D,aAAgB,WACK,OAAf6D,QAAsC3I,IAAf2I,GAA2C,KAAfA,GACrDC,OAIJ,IAAMvD,EAAQwD,cAERD,EAAmB9D,eAAkB,kBAAMoD,GAAc,KAAO,CAACA,IAEjEY,EAAWhE,SAAa,MAExBiE,EAAcC,cAEdC,EAAcnE,eAClB,SAAAxF,GAAK,OACHyJ,EAAY,CACVjJ,GAAImD,EACJ0F,WAAYrJ,MAEhB,CAAC2D,EAAM8F,IAGHG,EAAcpE,eAClB,SAAAqE,GACEF,EAAY,IACZf,GAAc,KAEhB,CAACe,EAAaf,IAGVkB,EAAgBtE,eACpB,SAAAqE,GACoB,WAAdA,EAAM5E,MACR4E,EAAME,iBACNH,EAAYC,MAGhB,CAACD,IAGHpE,aAAgB,WACd,IAAMwE,EAAUR,GAAYA,EAASQ,QASrC,OARIrB,EACEqB,IACFA,EAAQC,QACRD,EAAQE,iBAAiB,UAAWJ,IAGtCE,EAAQG,oBAAoB,UAAWL,GAElC,WACDE,GAAWrB,GACbqB,EAAQG,oBAAoB,UAAWL,MAG1C,CAACN,EAAUb,EAAYmB,IAE1B,IAAMM,EAAe5E,eACnB,SAAAqE,GACEF,EAAYE,EAAMQ,OAAOrK,SAE3B,CAAC2J,IAEGW,EAAaC,eAEbC,EACJ,eAACC,GAAA,EAAD,CAAa/D,UAAWH,EAAQkB,YAAhC,SACE,eAACiD,GAAA,EAAD,CACEC,kBAAkB,EAClBpE,QAAS,CAAEsB,UAAWtB,EAAQsB,WAC9B7H,MAAOqJ,GAA0B,GACjCuB,SAAUR,EACVS,YAAa9B,EACb+B,eACE,eAACC,GAAA,EAAD,CAAgBjF,SAAS,QAAzB,SACE,eAAC,KAAD,CAAcY,UAAWH,EAAQqB,eAGrCoD,aACE,gBAACD,GAAA,EAAD,CAAgBjF,SAAS,MAAzB,UACE,gBAACmF,GAAA,EAAD,CAAYvE,UAAWH,EAAQqB,WAAYsD,QAAStB,EAApD,UACE,eAAC,KAAD,IAAgB,OACJ,OAGlBJ,SAAUA,MAwBZ2B,EAAU,EAlBD,IAAXlC,GAAoBA,EAClB,qCACE,eAAC,KAAD,CACEmC,UAAU,SACVrD,MACE,eAACsD,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,UAA/B,oBAHJ,SAQE,gBAACoE,GAAA,EAAD,CAAKD,QAAQ,WAAWzG,KAAK,QAAQsC,MAAM,UAAU+D,QAAS5B,EAA9D,UACE,eAAC,KAAD,KACEgB,GAAc,sBAAK3D,MAAO,CAAE6E,WAAY,EAAGC,YAAa,GAA1C,2BAIpB,MAEQ,mBAAkBjH,YAASqE,EAASzD,KAAQ1C,QAAO,SAAAgJ,GAAC,OAAIA,KAIhEC,EAAS,CACbC,eAAwC,EAAxB7H,EAAO6H,eACvBC,cAAe,GACfC,UAAW,GACXC,aAAc,EACdC,cAAe,GACfC,uBAPkB,GAOMd,EAAQrI,OARZ,GAQoDqI,EAAQrI,OAAS,EAAIqI,EAAQrI,OAAS,EAAI,IAG9GoJ,EAAsB1J,OAAOC,KAAKkJ,GACrC5I,KAAI,SAAAoJ,GAAC,OAAIR,EAAOQ,MAChBC,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GAGrBC,EAAoBxG,GAASmG,EAC7BM,EAAmBzG,GAHMmG,EAAsBP,EAAOI,aAAeJ,EAAOK,cAK5ES,EAAa,OAAGzD,QAAH,IAAGA,IAAQ0D,KAExBC,EACJ,eAACC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACD,GAAA,EAAD,CAAME,WAAS,EAACC,UAAU,MAAMC,QAAQ,WAAWC,WAAW,SAASlG,QAvBrD,EAuBlB,SACE,gBAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,sBAAKlG,MAAO,CAAEP,QAASuC,EAAa,GAAK,QAAzC,SAAoD6B,KAClD7B,GACA,eAACiE,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACGoE,EAAQpI,KAAI,SAAC2I,EAAGhI,GAAJ,OACX,eAACkJ,GAAA,EAAD,CAAcC,MAAI,EAAlB,SACGrI,YAASkH,IADDhI,eAWzB,OACE,uCACsB,QAAnByF,GACC,eAAC+D,GAAA,EAAD,CAAOC,UAAW,EAAGrE,OAAQA,EAA7B,SACE,gBAAC8D,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,gBAAgBC,WAAW,SAASvG,UAAWH,EAAQgC,KAA3F,UACE,eAACqE,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACC,cAAY,EAA1B,SACE,eAACT,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,aAAaC,WAAW,aAEjDN,OAIP,eAACO,GAAA,EAAD,CAAOxG,UAAWH,EAAQW,MAAO4B,OAAQA,EAAzC,SACE,gBAAC8D,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,gBAAgBC,WAAW,SAASvG,UAAWH,EAAQgC,KAA3F,UACE,eAACqE,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACC,cAAY,EAA1B,SACE,gBAACT,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,aAAaC,WAAW,SAAhD,UACGT,IAAiC,IAAbtD,GACnB,eAAC0D,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAS9E,MAAOA,EAAhB,SACE,eAAC0E,EAAD,CAAe/F,UAAWH,EAAQ8B,gBAIvCkE,GACC,eAACK,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACC,cAAY,EAA1B,SACGtF,GACC,eAACsD,GAAA,EAAD,CAAYC,QAAQ,QAAQgC,QAAM,EAAC5G,UAAWH,EAAQwB,MAAtD,SACGA,WAOO,QAAnBoB,GAA4BwD,W,sBC7PxBY,GAPQ,SAAA/M,GACrB,IAAMgN,EAAWC,cAGjB,MAAO,CAFOC,aAAY,SAACpN,GAAD,OAAqBA,EAAM8D,SAAS5D,IAAOV,KACpD0F,IAAMmI,aAAY,SAAAxN,GAAO,OAAIqN,ERAlB,SAAChN,EAAIL,GAAL,MAAkB,CAAEC,KAAM,kBAAmBI,KAAIL,WQAtByN,CAAepN,EAAIL,MAAW,CAACK,EAAIgN,MCQtF/H,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXsB,KAAM,gBAAG4G,EAAH,EAAGA,QAAH,MAAkB,CACtBvG,WAAYR,EAAQgH,KAAK,KACzBC,aAAcF,OAAUnN,EAAY,IAEtCsN,KAAM,kBAAyB,CAC7BC,UADI,EAAGA,UAEPF,aAAc,YAEhBG,UAAW,CACT5G,WAAYR,EAAQS,QAAQC,KAC5BxB,OAAQ,OACRG,OAAQ,EACR4H,aAAc,WAEhBI,UAAW,gBAAGF,EAAH,EAAGA,UAAH,MAAyB,CAClC9G,MAAOL,EAAQM,OAAOC,MACtBlB,OAAQ,EACR8H,cAEFG,QAAS,gBAAGH,EAAH,EAAGA,UAAH,MAAyB,CAChCI,QAAS,EACTlH,MAAOL,EAAQM,OAAOC,MACtBlB,OAAQ,EACRmI,SAAU,GACVL,cAEFM,QAAS,CACPnI,QAAS,cACT6G,WAAY,SACZuB,eAAgB,SAChBzI,MAAO,OACP0I,cAAe,SACfV,aAAc,gBAoELW,GAxDK,SAAC,GAA6F,IAA3FlO,EAA0F,EAA1FA,GAA0F,IAAtFwN,YAAsF,MAA/E,GAA+E,EAA3EW,EAA2E,EAA3EA,YAAaC,EAA8D,EAA9DA,QAA8D,IAArDX,iBAAqD,MAAzC,GAAyC,MAArCJ,QACpEtH,EAAUd,GAAU,CAAEwI,YAAWJ,aADwE,WAG/G,EAAsCN,GAAe/M,GAArD,oBAAOqO,EAAP,KAAoBC,EAApB,KACMC,EAAWF,EAAY7O,MAEvBgP,EAAQhB,EAAK,IAAMA,EAAK,GAAGxN,GACjCgF,aAAgB,WACdjC,YAAQwL,IAAaD,EAAe,CAAE9O,MAAOgP,IAC7CC,gBACC,CAACH,EAAgBC,EAAUC,IAE9BxJ,aAAgB,WACdyJ,gBACC,CAACN,IAEJ,IAAMvE,EAAe5E,eACnB,SAACqE,EAAO7J,GACN8O,EAAe,CAAE9O,YAEnB,CAAC8O,IAGH,EAA+BD,EAAvB7O,aAAR,MAAgBgO,EAAK,GAAGxN,GAAxB,EAEA,OACE,eAAC0M,GAAA,EAAD,CAAOxG,UAAWH,EAAQU,KAA1B,SACE,eAACiI,GAAA,EAAD,CAAM5D,QAAQ,YAAY5E,UAAWH,EAAQyH,KAAMmB,cAAc,MAAMnP,MAAOA,EAAO4K,SAAUR,EAAc7D,QAAS,CAAE2H,UAAW3H,EAAQ2H,WAA3I,SACIF,EAGAA,EAAKjL,KAAI,SAAAsJ,GAAC,OACR,eAAC+C,GAAA,EAAD,CAEE7I,QAAS,CACPU,KAAMV,EAAQ6H,QACdD,UAAW5H,EAAQ4H,UACnBI,QAAShI,EAAQgI,QACjBK,QAASrI,EAAQ4H,WAEnBkB,KAAMhD,EAAEgD,MAAQ,eAAChD,EAAEgD,KAAH,CAAQ1I,MAAO,CAAEe,aAAc,KAC/C1H,MAAOqM,EAAE7L,GACToO,QAASA,EACTU,MACE,eAACjE,GAAA,EAAD,CAAYC,QAAQ,UAAU3E,MAAO,CAAE4I,SAAS,eAAD,OAAiB,EAAjB,QAA2BjC,QAASsB,EAAnF,SACGvC,EAAEiD,MAAQjD,EAAEiD,MAAQjD,EAAE7L,MAZtB6L,EAAE7L,OAJX,oCCjEKgP,gBAVS,SAAClP,EAAiBmP,GACxC,IAAMC,EAAapP,EAAMC,MAAMkP,EAAQ9L,MACvC,OAAO,2BACF8L,GADL,IAEE9L,KAAM8L,EAAQ9L,KACdgM,IAAKF,EAAQE,KAAQD,GAAcA,EAAWC,IAC9ChB,YAAarO,EAAMyD,OAAOiC,OAAS1F,EAAMyD,OAAOgC,MAAQ,UAAY,gBAIzDyJ,EAZU,SAAC,GAAD,IAAGxB,EAAH,EAAGA,KAAM2B,EAAT,EAASA,IAAKhB,EAAd,EAAcA,YAAd,OAAgD,eAAC,GAAD,CAAagB,IAAKA,EAAK3B,KAAMA,EAAMW,YAAaA,O,oMCAnHiB,GAAc,CAClBC,QAASC,KACTC,QAASC,KACTC,MAAOC,KACPC,KAAMC,MAGF3K,GAAYC,cAAW,SAAA2K,GAAK,MAAK,CACrCR,QAAS,CACPjJ,gBAAiB0J,KAAM,MAEzBL,MAAO,CACLrJ,gBAAiByJ,EAAMvJ,QAAQmJ,MAAMM,MAEvCJ,KAAM,CACJvJ,gBAAiByJ,EAAMvJ,QAAQS,QAAQC,MAEzCuI,QAAS,CACPnJ,gBAAiB4J,KAAM,MAEzBnB,KAAM,CACJnH,SAAU,IAEZuI,YAAa,CACXC,QAAS,GACTjF,YAAa4E,EAAMtJ,QAAQ,IAE7B4J,QAAS,CACPvK,QAAS,OACT6G,WAAY,cAID,SAAS2D,GAAT,GAAwD,IAAD,IAAnClK,iBAAmC,WAAvBhG,EAAuB,EAATmQ,EAAS,mBAC9DtK,EAAUd,GAAU,IAC1B,EC5CyB,WACzB,IAAM+H,EAAWC,cAGjB,MAAO,CAFsBC,aAAY,SAACpN,GAAD,OAAqBA,EAAMgE,WAAUwM,KAC7DtL,eAAkB,SAACrF,GAAD,OAA4BqN,EAAStN,EAAeC,MAAW,CAACqN,KDyCrCuD,GAA9D,2BAASC,EAAT,EAASA,KAAML,EAAf,EAAeA,QAAf,IAAwBrF,eAAxB,MAAkC,UAAlC,EAA+C2F,EAA/C,KACMC,EAAc1L,eAAkB,SAACqE,EAAOsH,GAAR,MAA8B,cAAXA,GAA0BF,EAAY,CAAED,MAAM,MAAU,CAACC,IAC5GjI,EAAO4G,GAAYtE,GACzB,OACE,eAAC,KAAD,CACE8F,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdN,KAAMA,EACNO,iBAAkB,IAClBC,QAASN,EAPX,SASE,eAACO,GAAA,EAAD,aACE/K,UAAWgL,mBAAKnL,EAAQ+E,GAAU5E,GAClC,mBAAiB,kBACjBiK,QACE,wBAAMnQ,GAAG,kBAAkBkG,UAAWH,EAAQoK,QAA9C,UACE,eAAC3H,EAAD,CAAMtC,UAAWgL,mBAAKnL,EAAQ8I,KAAM9I,EAAQkK,eAC3CE,KAGLtM,OAAQ,CACN,eAAC4G,GAAA,EAAD,CAAwB,aAAW,QAAQ9D,MAAM,UAAU+D,QAASgG,EAApE,SACE,eAAC,KAAD,CAAWxK,UAAWH,EAAQ8I,QADhB,WAIdwB,M,+NEjDCc,GAAiB,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAO5R,EAAkB,EAAlBA,MAAO6R,EAAW,EAAXA,KACrCrR,EAA0BoR,EAA1BpR,GAAIsR,EAAsBF,EAAtBE,OAAQhF,EAAc8E,EAAd9E,UAoBpB,OAnBIA,IAAc+E,EAAK/E,KACrB+E,EAAK/E,GAAa,IAEhBA,GAAagF,IAAWD,EAAK/E,GAAWgF,KAC1CD,EAAK/E,GAAWgF,GAAU,IAEvBhF,IAAagF,GAAWD,EAAKC,KAChCD,EAAKC,GAAU,IAGbhF,GAAagF,EACfD,EAAK/E,GAAWgF,GAAQtR,GAAMR,EACrB8M,EACT+E,EAAK/E,GAAWtM,GAAMR,EACb8R,EACTD,EAAKC,GAAQtR,GAAMR,EAEnB6R,EAAKrR,GAAMR,EAEN6R,GAIIE,GAAW,SAACC,EAAGC,GAAJ,OAAgBD,EAAED,SAAWC,EAAED,SAASC,EAAGC,GAD/C,SAAC,EAA2BA,GAA5B,OApCG,SAACzR,EAAIsR,EAAQhF,GAA4B,IAAjBmF,EAAgB,uDAAP,GACtD,OAAInF,GAAagF,EACRG,EAAOnF,IAAcmF,EAAOnF,GAAWgF,IAAWG,EAAOnF,GAAWgF,GAAQtR,GAC1EsM,EACFmF,EAAOnF,IAAcmF,EAAOnF,GAAWtM,GACrCsR,EACFG,EAAOH,IAAWG,EAAOH,GAAQtR,GAEjCyR,EAAOzR,GA4ByC0R,CAAvC,EAAG1R,GAAH,EAAOsR,OAAP,EAAehF,UAA8DmF,GACpBE,CAAYH,EAAGC,IAE/EG,GAAa,SAACJ,EAAGC,GAAJ,MAAsC,oBAAfD,EAAEK,SAA0BL,EAAEK,SAASJ,EAAQD,GAAKA,EAAEK,UAC1FC,GAAW,SAAC,EAAYL,GAAb,IAAGM,EAAH,EAAGA,OAAH,MAA2C,oBAAXA,EAAwBA,EAAON,GAAUM,GACpFC,GAAW,SAAC,EAAYP,GAAb,IAAGxJ,EAAH,EAAGA,OAAH,MAA2C,oBAAXA,EAAwBA,EAAOwJ,GAAUxJ,GAuDpFgK,GAAY,SAAAzS,GAAK,OAAc,IAAVA,QAA4BU,IAAVV,GAEvC0S,GAAkB,SAACC,GAAD,IAAYC,EAAZ,4DAA0BlS,EAA1B,OAC7B8E,IAAMmI,aACJ,SAAAiE,GAAK,OAAI,SAAAiB,GACP,IAAI7S,EAAQ6S,GAAKA,EAAExI,QAAUwI,EAAExI,OAAOrK,MAClC4R,GAASA,EAAMkB,YAAcC,YAAW/S,KAC1CA,EAAQA,EAAMgT,eAEhBL,GAAU,SAAAd,GAAI,OAAIF,GAAe,CAAEC,QAAO5R,QAAO6R,KAAK,eAAMA,QAC5De,GAAeA,IACfhB,EAAMhH,UAAYgH,EAAMhH,SAAS,CAAE5K,QAAO4R,QAAOe,iBAEnD,CAACA,EAAWC,KAgBHK,GAAY,SAAC,GAWnB,IAVLjC,EAUI,EAVJA,KAUI,IATJkC,cASI,MATK,GASL,MARJC,qBAQI,MARY,GAQZ,MAPJ7S,aAOI,MAPI,GAOJ,EANJ8S,EAMI,EANJA,SACAC,EAKI,EALJA,SAKI,IAJJC,sBAII,WAJa5S,EAIb,MAHJ6S,yBAGI,WAHgB7S,EAGhB,MAFJkK,gBAEI,WAFOlK,EAEP,MADJ8S,yBACI,SACJ,EAAuDlT,EAA/CmT,qBAAR,MAAwB,GAAxB,EAA4BC,EAA2BpT,EAA3BoT,WAAYC,EAAerT,EAAfqT,WAClCC,EA1BwB,SAAAV,GAC9B,IAAMU,EAAgB,GAStB,OARAV,EAAO7Q,SAAQ,SAAAuP,QACUlR,IAAvBkR,EAAMiC,cACJlC,GAAe,CACbC,QACA5R,MAAO4R,EAAMiC,aACbhC,KAAM+B,OAGLA,EAgBeE,CAAiBZ,GACnCa,EAAsBC,KAAMJ,EAAeT,GAC/CY,EAAsBC,KAAMD,EAAqBN,GACjD,MAA4CjO,IAAMyO,SAASF,GAA3D,oBAAOG,EAAP,KAAuBC,EAAvB,KACMlC,EAASqB,GAAkCY,EAE3CvB,EAAYnN,IAAMmI,aACtB,SAAAyG,GACEb,EAAoBA,EAAkBa,GAAQD,EAAkBC,GAChExJ,GAAYA,EAASwJ,KAEvB,CAACb,EAAmBY,EAAmBvJ,IAGzC,EAA8BpF,IAAMyO,SAAS,IAA7C,oBAAOI,EAAP,KAAgBC,EAAhB,KAEMC,EAAyBnR,KAAKC,UAAU0Q,GACxCS,EAAmBhP,IAAMmI,aAAY,WACzC2G,EAAW,IACX3B,EAAUvP,KAAKqR,MAAMF,MACpB,CAAC5B,EAAW4B,IAEf/O,IAAMkP,WAAU,WAEd1D,IAASwC,GAAqBb,EAAUvP,KAAKqR,MAAMF,IACnDvD,IAASwC,GAAqBc,EAAW,MACxC,CAACtD,EAAMuD,EAAwBf,EAAmBb,IAErD,IAAMgC,EAAiB3D,EAAO4D,GAAiB,CAAE3C,SAAQiB,SAAQ2B,OAAQvU,EAAMuU,SAAY,GACrFC,EAAiB9D,GAAQqC,EAAWA,EAASpB,EAAQ3R,GAAS,GAC9DuU,EAASb,KAAMW,EAAgBG,GAC/BC,EAAa7B,EAASA,EAAOxQ,QAAO,SAAAsP,GAAC,OAAIgD,GAAQhD,EAAGC,EAAQ4C,MAAS/R,OAAS,EAE9EmS,EAAc3U,EAAMuU,OACpBjC,EAAcpN,IAAMmI,aAAY,kBAAMuH,aAAiBD,IAAgB7B,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBgD,OAAQ,UAAQ,CAACzB,EAAU6B,IAC/H7K,EAAesI,GAAgBC,EAAWC,GAC1CuC,EAAa3P,IAAMmI,aACvB,SAAAiE,GAAK,OAAI,WACP0C,GAAW,SAAAzC,GAAI,OAAIF,GAAe,CAAEC,QAAO5R,OAAO,EAAM6R,KAAK,eAAMA,WAErE,CAACyC,IAgBH,MAAO,CACLrC,SACAU,YACAyC,WAAYA,YAAWnD,EAAQ8B,GAC/BM,UACAQ,SACAE,aACA3K,eACA+K,aACAE,SAtBe,SAAArD,GAAC,OA1IK,SAAC,GAA6G,IAA3GA,EAA0G,EAA1GA,EAAGC,EAAuG,EAAvGA,OAAQwB,EAA+F,EAA/FA,cAAeoB,EAAgF,EAAhFA,OAAiBzK,GAA+D,EAAxEiK,QAAwE,EAA/DjK,cAAc+K,EAAiD,EAAjDA,WAAYzB,EAAqC,EAArCA,WAAqC,IAAzBC,kBAAyB,SAElI2B,EAkBEtD,EAlBFsD,SACAlV,EAiBE4R,EAjBF5R,KACAmV,EAgBEvD,EAhBFuD,UACAC,EAeExD,EAfFwD,WACAC,EAcEzD,EAdFyD,WACAC,EAaE1D,EAbF0D,KACAC,EAYE3D,EAZF2D,IACAC,EAWE5D,EAXF4D,IACAjG,EAUEqC,EAVFrC,IACAkG,EASE7D,EATF6D,UACAC,EAQE9D,EARF8D,KACAC,EAOE/D,EAPF+D,SACAC,EAMEhE,EANFgE,qBACAjR,EAKEiN,EALFjN,YACAkR,EAIEjE,EAJFiE,QACAzS,EAGEwO,EAHFxO,QACAqH,EAEEmH,EAFFnH,YACA1D,EACE6K,EADF7K,MAEI/B,EAAK,aACTmQ,YACAD,WACAlV,OACAJ,MAAO+R,GAASC,EAAGC,GACnB4B,aAAc9B,GAASC,EAAGyB,GAC1BxD,OAAQ0D,GAAc3B,EAAEkE,YAAcnE,GAASC,EAAG6C,GAClDvF,MAAO6G,YAASnE,GAChBK,SAAUD,GAAWJ,EAAGC,IAAWyB,EACnC9I,SAAUR,EAAa4H,GACvBoE,OAAQjB,EAAWnD,GACnBqE,MAAOrE,EAAEtP,OAASsP,EAAEtP,OAAOsP,EAAEqE,MAAOpE,GAA6B,oBAAZD,EAAEqE,MAAuBrE,EAAEqE,MAAMpE,GAAUD,EAAEqE,MAClGb,aACAC,aACAC,OACAC,MACAC,MACAjG,MACAkG,YACAC,OACAE,uBACAjR,cACAkR,UACAzS,UACAqH,cACA1D,SACI4O,GAAYA,EAAS9D,IAG3B,OADAzP,OAAOC,KAAK2C,GAAO/C,SAAQ,SAAA4C,GAAG,YAAmBvE,IAAf0E,EAAMH,WAA6BG,EAAMH,MACpEG,EAyFLkR,CAAU,CACRtE,IACAC,SACAwB,cAAeM,EACfc,SACAR,UACAjK,eACA+K,aACAzB,aACAC,gBAaFa,qBAISI,GAAmB,SAAC,GAAwC,IAAtC3C,EAAqC,EAArCA,OAAQiB,EAA6B,EAA7BA,OAAgBqD,EAAa,EAArB1B,OAC7CA,EAAM,eAAQ0B,GAalB,OAZArD,EAAO7Q,SAAQ,SAAA2P,IACTA,EAAEwE,OAAUzD,YAAWhB,GAASC,EAAGC,KAAawE,YAAc1E,GAASC,EAAGC,IAEnED,EAAEsD,UAAYvC,YAAWhB,GAASC,EAAGC,IAC9CN,GAAe,CAAEC,MAAOI,EAAGhS,MAAO,WAAY6R,KAAMgD,KAC3C7C,EAAE0E,MAAS3D,YAAWhB,GAASC,EAAGC,KAAa0E,YAAgB5E,GAASC,EAAGC,IAE3ED,EAAEqB,UACX1B,GAAe,CAAEC,MAAOI,EAAGhS,MAAO4W,YAAe5E,EAAEqB,SAASpB,IAAUJ,KAAMgD,IAF5ElD,GAAe,CAAEC,MAAOI,EAAGhS,MAAO,2BAA4B6R,KAAMgD,IAJpElD,GAAe,CAAEC,MAAOI,EAAGhS,MAAO,wBAAyB6R,KAAMgD,OAU9DA,GAIIG,GAAU,SAACpD,EAAOK,EAAQ4C,GACrC,SACgC,IAA5BvC,GAASV,EAAOK,QACc,IAA9BG,GAAWR,EAAOK,QACU,IAA5BO,GAASZ,EAAOK,UACUvR,IAA5BqR,GAASH,EAAOiD,IAKPgC,GAAgB,SAAAC,GAC3B,MAA4BtR,IAAMyO,SAChC6C,EACGpU,QAAO,SAAAqU,GAAC,OAAIA,EAAE7D,UACdnQ,KAAI,SAAAgU,GAAC,OAAIA,EAAE7D,UACX9G,QAAO,SAACC,EAAGrJ,GAAJ,MAAY,sBAAOqJ,GAAP,YAAarJ,MAAK,KAJ1C,oBAAOkQ,EAAP,KAAe8D,EAAf,KAeA,OARAxR,IAAMkP,WAAU,WACdsC,EACEF,EACGpU,QAAO,SAAAqU,GAAC,OAAIA,EAAE7D,UACdnQ,KAAI,SAAAgU,GAAC,OAAIA,EAAE7D,UACX9G,QAAO,SAACC,EAAGrJ,GAAJ,MAAY,sBAAOqJ,GAAP,YAAarJ,MAAK,OAEzC,CAAC8T,EAAOE,IACJ9D,G,sFCxPM+D,GAfF,SAAC,GAAD,QAAGjX,aAAH,MAAW,GAAX,MAAekX,wBAAf,aAAyCjH,aAAzC,WAAiDvP,EAAjD,EAAyFmQ,GAAzF,EAA4DgD,aAA5D,2BACX,eAACsD,GAAA,EAAD,aACEnX,MAAOA,EACPiQ,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,EAC9CoH,OAAO,QACP/L,QAAQ,WACRgM,WAAS,EACTC,gBAAiB,CACfC,QAAQ,IAEN3G,K,2ICTF4G,GAAkB,SAACvE,EAAQ9Q,EAASE,GACxC,IAAMoV,EAAYxE,EAAOpQ,OACnB6U,EAAUvV,EACVwV,EAAeC,KAAKC,KAAKJ,EAAYC,GACrCI,EAAaH,EAAetV,EAC5B0V,EAAWH,KAAKlC,IAAIoC,EAAaH,EAAe,EAAGF,EAAY,GACrE,OAAOxE,EAAOxQ,QAAO,SAACsP,EAAGtO,GAAJ,OAAUA,GAAKqU,GAAcrU,GAAKsU,MAG5CC,GAAW,SAAC,GAA0E,IAAxEC,EAAuE,EAAvEA,MAAOvR,EAAgE,EAAhEA,MAAO4L,EAAyD,EAAzDA,OAAyD,IAAjDnF,UAAiD,MAA5C,GAA4C,EAAxC6E,EAAwC,EAAxCA,OAAQoD,EAAgC,EAAhCA,SAAUiC,EAAsB,EAAtBA,UAActF,EAAQ,mBAC1FmG,EAAW7F,GAAS,CAAEC,UAAUN,GAEhCpF,EAAOqL,EAAQ,eAACA,EAAD,2BAAW7C,EAASrD,IAApB,IAAwBC,OAAQA,KAAac,YAAWf,EAAExR,SAAME,EAAY,eAAC,GAAD,eAAU2U,EAASrD,KAE5GxR,EAA0BwR,EAA1BxR,GAAIsM,EAAsBkF,EAAtBlF,UAAWgF,EAAWE,EAAXF,OACjB9R,EAAQ+R,GAASC,EAAGC,GAEpBmG,EACJ,eAAC,KAAD,CACErQ,MACE,uCACE,gBAACsD,GAAA,EAAD,qBAAqC,kBAAVrL,EAAqBoD,KAAKC,UAAUrD,GAASA,KACxE,eAACqL,GAAA,EAAD,UAAajI,KAAKC,UAAU,CAAE7C,KAAIsM,YAAWgF,gBAJnD,SAQE,+BAAMjF,MAGJwL,EAAOC,IAAcC,kBAAoBH,EAAcvL,EAE7D,OACE,eAACD,GAAA,EAAD,CAAsBC,MAAI,EAAClG,MAAOA,EAAOyG,GAAIkK,EAAY,GAAMlK,EAA/D,cACgB1M,IAAbyX,EAAyB,eAACK,GAAA,EAAD,CAAUC,GAAIN,EAAd,SAAyBE,IAAmBA,GADxE,UAAcrG,EAAExR,MA+BPkY,GAAc,SAAC,GAAsG,IAApGzG,EAAmG,EAAnGA,OAAQoD,EAA2F,EAA3FA,SAAUiC,EAAiF,EAAjFA,UAAWpE,EAAsE,EAAtEA,OAAQ1S,EAA8D,EAA9DA,GAA8D,IAA1DsR,cAA0D,WAAjDpR,EAAiD,MAAtCoM,iBAAsC,WAA1BpM,EAA0B,EAAZmQ,EAAY,mBACzHmB,EAAIkB,EAAOyF,MACf,SAAA3G,GAAC,OAAIA,EAAExR,KAAOA,SAAkBE,IAAXoR,GAAuBE,EAAEF,SAAWA,UAAiCpR,IAAdoM,GAA0BkF,EAAElF,YAAcA,MAExH,OAAQkF,GAAKQ,GAASR,EAAGC,GAAU,+BAAQ,eAAC,GAAD,uCAAcD,GAAOnB,GAArB,IAA4BoB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,MAGzGsB,GAhCA,SAATA,EAAU,GAAD,IAAG1F,EAAH,EAAGA,OAAQmC,EAAX,EAAWA,SAAUpD,EAArB,EAAqBA,OAArB,IAA6BqF,iBAA7B,aAAgDlV,eAAhD,MAA0D,EAA1D,MAA6DyW,sBAA7D,MAA8E,IAA9E,MAAmFC,sBAAnF,MAAoG,IAApG,SACb1W,EAAU,EACR,eAACwK,GAAA,EAAD,CAA6BC,MAAI,EAACO,GAAI,GAAIN,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,SAAxE,SACG+L,MAAMC,KAAKD,MAAM3W,GAASK,QAAQM,KAAI,SAAAW,GAAC,OACtC,eAACkJ,GAAA,EAAD,CAAcC,MAAI,EAACO,IAAIkK,GAAY,GAAW3Q,MAAO2Q,EAAY,GAAK,CAAEhJ,SAAUuK,EAAgBtJ,SAAUuJ,GAA5G,SACE,eAAClM,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACwL,EAAD,CACE1F,OAAQuE,GAAgBvE,EAAQ9Q,EAASsB,GACzC2R,SAAUA,EACVpD,OAAQA,EACRqF,WAAW,EACXlV,QAAS,EACTyW,eAAgBA,EAChBC,eAAgBA,SAVbpV,OAFL,oBAoBVwP,EAAOxQ,QAAO,SAAAsP,GAAC,OAAKQ,GAASR,EAAGC,MAASlP,KAAI,SAACqC,EAAO1B,GAAR,OAAc,eAAC,GAAD,aAAkBuO,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,GAAjE1B,OC/D/D,SAASuV,GAAT,GAAyC,IAApBhJ,EAAmB,EAAnBA,MAAO3J,EAAY,EAAZA,SACzC,OAAO2J,EACL,gBAACrD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAlB,+DAEF,eAACtM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,QAAjC,oBACU8I,UAKd3J,E,wNCKJ,SAAS6S,GAAe/T,GACtB,OACE,eAAC,KAAD,CAAWgU,OAAQ,mCAAnB,SACE,eAAClM,GAAA,EAAD,eAAW9H,MAKjB,IAAMK,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAASD,EAAZ,EAAYA,QAAS/C,EAArB,EAAqBA,OAArB,OAC3B4B,aAAa,CACX0T,OAAQ,CACNtT,MAAO,OACPwJ,SAAU,SAEZtL,OAAQ,CACNmC,QAAS,OACTqI,cAAe,SACf6K,QAAS,OACTC,OAAO,aAAD,OAAezS,EAAQS,UAE/BiS,aAAc,CACZlS,WAAYR,EAAQgH,KAAK,MAE3B2L,WAAY,CACVC,cAAe,cAEjBC,QAAS,CACPtL,QAAStH,EAAQ,IAEnB6S,QAAS,CACPvC,OAAQ,EACRhJ,QAAStH,EAAQ,GACjB8S,WAAY9S,EAAQ,IACpB+S,cAAe/S,EAAQ,KAEzBgB,MAAO,CACLT,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBgQ,OAAQ,EACRhJ,QAAS,EACTpG,YAAalB,EAAQ,GACrBY,aAAcZ,EAAQ,IAExBiT,YAAa,CACX7S,MAAO,WAET8S,aAAc,CACZ9S,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQmJ,MAAMzI,KAC1B,UAAW,CACTF,WAAYR,EAAQmJ,MAAMM,OAG9B2J,kBAAmB,CACjB/S,MAAOL,EAAQmJ,MAAMzI,MAEvBC,YAAa,CACXa,UAAW,GAEb6R,eAAgB,CACdhT,MAAOL,EAAQS,QAAQwS,MACvBjU,SAAU,WACVsU,IAAK,MACLC,KAAM,MACN/R,WAAavE,EAAOuW,aAAe,EACnC9O,YAAczH,EAAOuW,aAAe,QAsM3BC,GAvKO,SAAC,GAoBM,IAnB3B/Z,EAmB0B,EAnB1BA,GACOga,EAkBmB,EAlB1BzS,MACeoL,EAiBW,EAjB1BM,cAiB0B,IAhB1BgH,iBAgB0B,aAf1BC,mBAe0B,MAfZ,SAeY,MAd1BC,mBAc0B,MAdZ,SAcY,EAb1BC,EAa0B,EAb1BA,YAa0B,IAZ1BC,qBAY0B,aAX1BC,eAW0B,aAV1B5H,cAU0B,MAVjB,GAUiB,EAT1B6H,EAS0B,EAT1BA,SACAC,EAQ0B,EAR1BA,SACAxJ,EAO0B,EAP1BA,QACAyJ,EAM0B,EAN1BA,QACAC,EAK0B,EAL1BA,aACA7H,EAI0B,EAJ1BA,SACS8H,EAGiB,EAH1B5U,QACAD,EAE0B,EAF1BA,SACGuK,EACuB,mBAClB9M,EAAW0C,eAAX1C,OACR,EAA0BqX,aAAe5a,GAAzC,oBAAOF,EAAP,KAAc8S,EAAd,KACQhT,EAAoCE,EAApCF,KAAM4Q,EAA8B1Q,EAA9B0Q,KAAMqK,EAAwB/a,EAAxB+a,QAAS3H,EAAepT,EAAfoT,WACvB3L,EAAQzH,EAAMyH,MAAQzH,EAAMyH,MAAQyS,EAE1C,EAA0ChV,IAAMyO,UAAS,GAAzD,oBAAOqH,EAAP,KAAsBC,EAAtB,KACMC,EAAsBhW,IAAMmI,aAAY,kBAAM4N,GAAiB,SAAA1J,GAAI,OAAKA,OAAO,CAAC0J,IAEhFhV,EAAUd,GAAU,CAAEc,QAAS4U,IAC/B7Q,EAAaC,eAEnB,EAAwE0I,GAAU,CAChFjC,OACAkC,SACAC,gBACA7S,QACA8S,WACAC,aANMpB,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWyC,EAA3B,EAA2BA,WAAYP,EAAvC,EAAuCA,OAAQE,EAA/C,EAA+CA,WAAYM,EAA3D,EAA2DA,SAS3D7P,IAAMkP,WAAU,WACd1D,GAAQuK,GAAiB,KACxB,CAACvK,IAEJ,IAAMyK,EAAWrY,KAAKC,UAAU4O,GAC1ByJ,GAAelW,IAAMmI,aAAY,WACjCoH,EAAa,EACf3B,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB8B,YAAY,OAEzCoH,GAAYA,EAAS3X,KAAKqR,MAAMgH,GAAW9I,KAE5C,CAACS,EAAU2H,EAAUU,EAAU9I,EAAWoC,IAEvC4G,GAAenW,IAAMmI,aAAY,WACrCqN,GAAYA,EAAS5X,KAAKqR,MAAMgH,MAC/B,CAACT,EAAUS,IAERvK,GAAc1L,IAAMmI,aAAY,WACpCyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,OACnCQ,GAAWA,MACV,CAAC4B,EAAU5B,IAERoK,GAAY,aAChB1I,SACAmC,WACApD,SACAU,aACGuI,GAGCW,GAAaR,GAAW3H,EACxBrB,GAAWwJ,IAAchH,EAAM,QAErC,OACE,gBAAC3Q,GAAA,EAAD,yBACEiV,gBAAiB7O,GAAcmQ,EAAYtB,GAAiBjM,KAC5D5C,WAAYA,EACZ0G,KAAMA,EACNQ,QAASN,GACT,4BAAoB1Q,EAApB,iBACA,6BAAqBA,EAArB,uBACAkG,UAAWH,EAAQtC,OACnB6X,kBAAkB,EAClBvM,SAAS,KACT+H,WAAS,GACLzG,GAXN,cAaa,OAAV9I,GACC,uCACE,eAACgU,GAAA,EAAD,CAAavb,GAAE,UAAKA,EAAL,iBAAwBwb,mBAAiB,EAACtV,UAAWH,EAAQwB,MAA5E,SACE,gBAAC6E,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAAnD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAAChC,QAAQ,KAAK5E,UAAWH,EAAQkT,WAAnD,SACG1R,IAA0B,KAAVA,EAAe,GAAK,CAAC3H,EAAMI,GAAIyC,KAAK,UAGzD,eAAC2J,GAAA,EAAD,CAAMC,MAAI,EAAV,SACGqE,GACC,eAAC,KAAD,CAASnJ,MAAM,QAAQqD,UAAU,OAAjC,SACE,eAACH,GAAA,EAAD,CAAY,aAAW,QAAQvE,UAAWH,EAAQyT,YAAa9O,QAASgG,GAAxE,SACE,eAAC,KAAD,QAGF,YAIT4J,GAAW,eAACmB,GAAA,EAAD,OAGhB,eAAChD,GAAD,CAAWhJ,MAAO4E,EAAM,QAAxB,SACE,qCACGvO,IAEG2U,EACF,eAACA,EAAD,eAAaW,KAEb,gBAACM,GAAA,EAAD,CAAexV,UAAWH,EAAQoT,QAASwC,UAAQ,EAAnD,UACGN,IAAc,eAACO,GAAA,EAAD,CAAkBvX,KAAMd,EAAOuW,aAAc5T,UAAWH,EAAQ4T,iBAC/E,eAAC3B,GAAA,EAAD,CAAUC,IAAK6C,EAAf,SACE,eAAC1O,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,SACE,eAAC,GAAD,eAAY6U,SAGfN,GACC,gBAAC1O,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,SAASC,WAAW,SAAxD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQnR,QAASsQ,EAAqBrU,MAAM,YAA5C,sBAIF,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQnR,QAASyQ,GAAcjV,UAAWH,EAAQ0T,aAAlD,UACE,eAAC,KAAD,CAAYtT,MAAO,CAAE8E,YAAa,KADpC,WAEWkP,kBASxBE,IAAkBS,GACjB,gBAACgB,GAAA,EAAD,CAAe5V,UAAWH,EAAQqT,QAAlC,UACY,SAATxZ,QAAgCM,IAAbsa,GAClB,eAACqB,GAAA,EAAD,CAAQhK,SAAUA,GAAU3L,UAAWH,EAAQ2T,kBAAmBhP,QAASsQ,EAA3E,SACGb,IAGY,OAAhBD,GACC,eAAC2B,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAASgG,GAAjC,SACGwJ,IAGY,OAAhBE,GACC,eAACyB,GAAA,EAAD,CAAQ9G,WAAS,EAAClD,SAAUA,KAAa+C,EAAYjO,MAAM,UAAU+D,QAASwQ,GAA9E,SACGlX,YAASoW,EAAa3I,IAAW7R,Y,SC/Q1CqF,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXsB,KAAM,kBAAwB,CAC5BE,MADI,EAAGkL,SACWvL,EAAQyV,KAAKlK,SAAW,iBAOjCmK,GAFD,SAAC,GAAD,IAAGlN,EAAH,EAAGA,MAAO+C,EAAV,EAAUA,SAAV,OAAyB,eAAChH,GAAA,EAAD,CAAY3E,UAAWjB,GAAU,CAAE4M,aAAYpL,KAA/C,SAAsDqI,K,yECR9E,SAASmN,GAAT,GAA4H,IAAD,IAAtGzc,aAAsG,MAA9F,GAA8F,EAA1FsP,EAA0F,EAA1FA,MAA0F,IAAnF4H,wBAAmF,aAAzDjH,aAAyD,WAAjDvP,EAAiD,EAATmQ,GAAS,EAAtCgD,aAAsC,oBACxI,OACE,uCACGvE,GAAS,eAACjE,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BgE,IACvC,eAAC6H,GAAA,EAAD,aACEnX,MAAOA,EACPiQ,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,EAC9CoH,OAAO,QACP/L,QAAQ,WACRgM,WAAS,EACTC,gBAAiB,CACfC,QAAQ,IAEN3G,O,eCTNpL,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX+W,UAAW,CACTpV,WAAYR,EAAQ6V,UAAU5C,MAC9B5S,MAAOL,EAAQyV,KAAKhV,QACpB8G,QAAS,GACTN,aAPe,IASjB6O,WAAY,CACVzV,MAAOL,EAAQS,QAAQwS,OAEzB8C,iBAAkB,CAChBzU,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,WAKd,SAASuM,GAAT,GAA6C,IAAD,IAAvB5R,eAAuB,WAAbxK,EAAa,EACnD6F,EAAUd,KACVsX,EAAcC,eAEdC,EAAgBzX,IAAMmI,aAAY,WACtCoP,EAAYG,YAAU,eACtBhS,GAAWA,MACV,CAAC6R,EAAa7R,IAEjB,OACE,gBAAC0B,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGL,UAAWH,EAAQmW,UAAnE,UACE,eAAC9P,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK3E,MAAO,CAAEyB,WAAY,KAA9C,4CAIF,eAACwE,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,yHAEF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,wJAIF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,QAAvC,SACE,eAACd,GAAA,EAAD,CAAQ1V,MAAO,CAAEoH,aA5CJ,IA4CoB7C,QAAS+R,EAA1C,SACE,gBAACrQ,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY3E,UAAWH,EAAQsW,iBAA/B,2BAEF,eAACjQ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAqBnG,UAAWH,EAAQqW,yB,8DC5CzC7U,GAAQ,QAGf6M,GAAmB,SAAC,EAAawI,GAAiB,IAA5BzM,EAA2B,EAA3BA,QACtBkE,EAASwI,YAAYD,EAAYvI,QAUrC,OARKyI,YAAW3M,KACVA,EAAQ4M,SAAS,aAAe5M,EAAQ4M,SAAS,YACnD1I,EAAM,SAAelE,EAErBkE,EAAM,MAAYlE,GAIfkE,GAGH2I,GAAiB,SAAC,GAAiC,IAAD,IAA9Bxd,aAA8B,SAAf4K,EAAe,EAAfA,SAEvC,OACE,eAAC6S,GAAA,EAAD,CAActW,MAAM,QAAQmE,QAAQ,OAAO2K,QAAQ,GAAG/K,QAFpC,kBAAMN,EAAS,CAAEP,OAAQ,CAAErK,OAAQA,MAErD,SACGA,EAAQ,OAAS,qBAOlByF,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX+X,cAAe,CACb3P,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhCkV,UAAW,CACTpV,WAAYR,EAAQ6V,UAAU5C,MAC9B5S,MAAOL,EAAQyV,KAAKhV,QACpB8G,QAAS,GACTN,aAlBe,IAoBjB6O,WAAY,CACVzV,MAAOL,EAAQS,QAAQwS,OAEzB4D,cAAe,CACbrW,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtB0G,aA1Be,IA4BjB4L,QAAS,CACP1R,YAAa,GACbN,aAAc,GACdkS,WAAY,GACZC,cAAe,GACfxS,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,YAK5B,SAAS4T,GAAT,GAAgF,IAA7D/H,EAA4D,EAA5DA,OAAQjB,EAAoD,EAApDA,OAAQoD,EAA4C,EAA5CA,SAAUiC,EAAkC,EAAlCA,UAAW3E,EAAuB,EAAvBA,UAAcvN,EAAS,mBACvEwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQU,UAAWA,EAAW0C,SAAUA,EAAUiC,UAAWA,GAAelS,KAE7ImB,EAAUd,KACVoY,EAAKtT,aAAc,MAEzB,EAA0B6Q,aAAerT,IAAzC,oBAAOzH,EAAP,KAAc8S,EAAd,KAEQ0K,EAA6Bxd,EAA7Bwd,iBAAkBjJ,EAAWvU,EAAXuU,OACpBkJ,EAAiB3a,KAAKC,UAAU/C,GAChC0d,EAAUC,cAEVC,EAAc1Y,IAAMmI,aACxB,wEAAsE,GAAnEwQ,EAAH,EAAGA,eAAgBC,EAAnB,EAAmBA,iBAAkBC,EAArC,EAAqCA,YAAa7H,EAAlD,EAAkDA,MAAO8H,EAAzD,EAAyDA,SAAzD,OACE,WACMH,EACEL,EACFS,KAAKC,qBAAqBhI,EAAO4H,EAAkBC,GAChDI,MAAK,SAAAhe,GACJie,MAAM,kCACNH,KAAKI,OAAOnI,EAAO6H,GAChBI,MAAK,SAAAG,GACJC,QAAQC,IAAI,kBACZd,EAAQY,GACRxL,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,EAAOxG,OAAQ,WAEnEkK,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,oBACd4O,QAAQ5O,MAAM+O,GACd,IAAMC,EAAYrK,GAAiB,2BAAKC,GAAN,IAAclE,QAASqO,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACnF3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAO1H,YAAY,EAAMkB,OAAQoK,aAG5EF,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,4BACd4O,QAAQ5O,MAAM+O,GACd,IAAMC,EAAYrK,GAAiB,2BAAKC,GAAN,IAAclE,QAASqO,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACnF3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAO1H,YAAY,EAAMkB,OAAQoK,UAG3EV,KAAKJ,eAAe3H,GACjBiI,MAAK,SAAAhe,GACJie,MAAM,yEACNtL,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOyC,kBAAkB,UAEhEiB,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,0BACd,IAAMgP,EAAYrK,GAAiB,2BAAKC,GAAN,IAAclE,QAASqO,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACnF3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAO1H,YAAY,EAAMkB,OAAQoK,UAI7EV,KAAKI,OAAOnI,EAAO8H,GAChBG,MAAK,SAAAG,GACJC,QAAQC,IAAI,kBACZd,EAAQY,GACRxL,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,EAAOxG,OAAQ,WAEnEkK,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,oBACd4O,QAAQ5O,MAAM+O,GACd,IAAMC,EAAYrK,GAAiB,2BAAKC,GAAN,IAAclE,QAASqO,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACnF3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAO1H,YAAY,EAAMkB,OAAQoK,aAIjF,CAACnB,EAAkBE,EAASD,EAAgB3K,EAAUyB,IAGpD+F,EAAc3I,EAAOkM,eAAkBL,EAAmB,kBAAoB,gBAAmB,QAErG,OACE,eAAC5B,GAAA,EAAD,CAAexV,UAAWH,EAAQoT,QAAlC,SACE,gBAAC/M,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEmT,cAAe,IAAM/S,QAAS,EAAvD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,GAAK,EAAzB,SACE,gBAACjR,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGL,UAAWH,EAAQoX,cAAnE,UACE,eAAC/Q,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,gDAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,EAAGZ,aAAc,GAAKuF,WAAW,SAASlG,QAAS,EAAvF,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,WAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,cAGf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,yBAGf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,oBAGf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,sBAGf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,sBAInB,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,UAAvC,SACE,eAACd,GAAA,EAAD,CAAQnR,QAASgT,EAAYjM,GAASvL,UAAWH,EAAQmX,cAAzD,SACG9C,WAKT,eAAChO,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,GAAK,EAAzB,SACE,eAACf,GAAD,CAAW5R,QAAS,kBAAMkI,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,iBAOxD,SAASkO,GAAT,GAAsC,IAAD,IAAd1e,UAAc,MAATuH,GAAS,EAClD,EAAsBqT,aAAe5a,GAC7Bsd,EADR,qBACQA,iBAEFD,EAAKtT,aAAc,MAEzB,OACE,eAAC,GAAD,CACE/J,GAAIA,EACJ2e,WAAY,CACVxY,MAAO,CACLoH,aAAc8P,EAAK,EAAI,KAG3B9V,MAAM,GACN+S,SAAS,EACTD,eAAe,EACftL,SAzMW,KA0MX8D,SAAUuB,GACVqG,QAASA,GACT/H,OAAQ,CACN,CACE1S,GAAI,QACJqK,YAAa,gBACbyE,MAAO,gBACP4I,MAAOuE,GACPlH,WAAW,EACXD,UAAU,EACVkB,OAAO,EACP/N,OAAQqV,EACRtI,WAAY,CACV7O,MAAO,CAAEW,WAAY,WAGzB,CACE9G,GAAI,WACJ8O,MAAO,WACPgG,UAAU,EACV4C,MAAOuE,GACPhH,WAAY,CACVrV,KAAM,YAERqI,OAAQ,SAAAwJ,GAAM,OAAIA,EAAOkM,gBAAkBL,GAC3CtI,WAAY,CACV7O,MAAO,CAAEW,WAAY,WAGzB,CACE9G,GAAI,sBACJ8O,MAAO,kHACP4I,MAAOsE,GACP3I,cAAc,EACdpL,OAAQ,SAAAwJ,GAAM,OAAKA,EAAOkM,gBAAkBL,IAE9C,CACEtd,GAAI,iBACJ8O,MAAO,kBACP4I,MAAOsF,GACP3J,cAAc,EACdpL,OAAQqV,GAEV,CACEtd,GAAI,mBACJ8O,MAAO,gDACP4I,MAAOuE,GACPnH,UAAU,EACV7M,QAASqV,EACTjK,aAAc,GACd2B,WAAY,CACV7O,MAAO,CAAEW,WAAY,WAGzB,CACE9G,GAAI,cACJ8O,MAAO,eACP4I,MAAOuE,GACPnH,UAAU,EACVG,WAAY,CACVrV,KAAM,YAERqI,QAASqV,EACTtI,WAAY,CACV7O,MAAO,CAAEW,WAAY,c,yEC7Q3B8X,GAAoBC,EAAQ,KACrBtX,GAAQ,UAGfuX,GAAS,IAAIF,GAEnBE,GAAOC,KAAK5J,IAAI,GAAG6J,MAAM1M,YAAY0M,MAAMC,YAAYD,MAAME,SAASF,MAAMG,UAE5E,IAgBM/K,GAAmB,SAAC,EAA+DwI,GAAiB,IAA9EkB,EAA6E,EAA7EA,SAAUsB,EAAmE,EAAnEA,sBAAuBC,EAA4C,EAA5CA,gBAAiBlP,EAA2B,EAA3BA,QACxEkE,EAASwI,YAAYD,EAAYvI,QAEjCyJ,IAAauB,IACfhL,EAAM,gBAAsB,wBAC5BA,EAAM,SAAe,yBAGvB,IAAMiL,EAAwBR,GAAOjM,SAASiL,EAAU,CAAEyB,MAAM,IAkBhE,OAjBID,EAAsBhd,OAAS,IACjC+R,EAAM,SA1B0B,SAAAA,GAClC,IAAK,IAAInR,EAAI,EAAGA,EAAImR,EAAO/R,OAAQY,IAAK,CACtC,GAAkB,QAAdmR,EAAOnR,GACT,MAAO,oDACF,GAAkB,cAAdmR,EAAOnR,GAChB,MAAO,4CACF,GAAkB,cAAdmR,EAAOnR,GAChB,MAAO,4CACF,GAAkB,WAAdmR,EAAOnR,GAChB,MAAO,iCACF,GAAkB,YAAdmR,EAAOnR,GAChB,MAAO,mCAeYsc,CAA4BF,IAG9CxC,YAAW3M,KACVA,EAAQ4M,SAAS,aAAe5M,EAAQ4M,SAAS,aACnD1I,EAAM,gBAAsBlE,EAC5BkE,EAAM,SAAelE,GAErBkE,EAAM,MAAYlE,GAIjB2M,YAAWsC,KACd/K,EAAM,iBAAuB+K,GAGxB/K,GAGHoL,GAAwB,SAAC,GAAiC,IAAD,IAA9BjgB,aAA8B,SAAf4K,EAAe,EAAfA,SAE9C,OACE,eAAC6S,GAAA,EAAD,CAActW,MAAM,QAAQmE,QAAQ,OAAO2K,QAAQ,GAAG/K,QAFpC,kBAAMN,EAAS,CAAEP,OAAQ,CAAErK,OAAQA,MAErD,SACGA,EAAQ,OAAS,6BAOlByF,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX+X,cAAe,CACb3P,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhCkV,UAAW,CACTpV,WAAYR,EAAQ6V,UAAU5C,MAC9B5S,MAAOL,EAAQyV,KAAKhV,QACpB8G,QAAS,GACTN,aAlBe,IAoBjB6O,WAAY,CACVzV,MAAOL,EAAQS,QAAQwS,OAEzB4D,cAAe,CACbrW,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtB0G,aA1Be,IA4BjB4L,QAAS,CACP1R,YAAa,GACbN,aAAc,GACdkS,WAAY,GACZC,cAAe,GACfxS,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,YAK5B,SAAS4T,GAAT,GAAgF,IAA7D/H,EAA4D,EAA5DA,OAAQjB,EAAoD,EAApDA,OAAQoD,EAA4C,EAA5CA,SAAUiC,EAAkC,EAAlCA,UAAW3E,EAAuB,EAAvBA,UAAcvN,EAAS,mBACvEwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQU,UAAWA,EAAW0C,SAAUA,EAAUiC,UAAWA,GAAelS,KAE7ImB,EAAUd,KACVoY,EAAKtT,aAAc,MAEzB,EAA0B6Q,aAAerT,IAAzC,oBAAOzH,EAAP,KAAc8S,EAAd,KAEQyB,EAAWvU,EAAXuU,OACAqL,EAAYjO,EAAZiO,QACFnC,EAAiB3a,KAAKC,UAAU/C,GAChC0d,EAAUC,cAEVkC,EAAa/c,KAAKC,UAAU4O,GAE5BmO,EAAY5a,IAAMmI,aAAY,WAClC,IAAMsE,EAAS7O,KAAKqR,MAAM0L,GAClB3J,EAAoBvE,EAApBuE,MAAO8H,EAAarM,EAAbqM,SAEfC,KAAK8B,OAAO,CACVC,SAAU9J,EACV8H,WACAiC,WAAY,CACV/J,QACA7S,KAAM6S,KAGPiI,MAAK,SAAA+B,GACJ3B,QAAQC,IAAI,+BACZ1L,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAMqK,SAAS,OAClD1I,GAAU,SAAAd,GAAI,kCAAUA,GAAV,IAAgBqO,SAAS,UAExCnB,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,uBACd,IAAMgP,EAAYrK,GAAiB,2BAAKC,GAAN,IAAclE,QAASqO,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACnF3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB8B,YAAY,EAAM0H,SAAS,EAAOxG,OAAQoK,YAE1E,CAAClB,EAAgB3K,EAAUyB,EAAQsL,EAAYxN,IAE5C8N,EAAgBjb,IAAMmI,aAAY,WACtC,IAAMsE,EAAS7O,KAAKqR,MAAM0L,GAClB3J,EAAsCvE,EAAtCuE,MAAO8H,EAA+BrM,EAA/BqM,SAAUF,EAAqBnM,EAArBmM,iBACzBG,KAAKmC,cAAclK,EAAO4H,GACvBK,MAAK,WACJI,QAAQC,IAAI,sBACZ1L,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,EAAO6E,SAAS,OACnE3B,KAAKI,OAAOnI,EAAO8H,GAChBG,MAAK,SAAAG,GACJC,QAAQC,IAAI,kBACZd,EAAQY,MAETG,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,oBACd4O,QAAQ5O,MAAM+O,SAGnBD,OAAM,SAAAC,GACLH,QAAQ5O,MAAM,gBACd4O,QAAQ5O,MAAM+O,GACd,IAAMC,EAAYrK,GAAiB,2BAAKC,GAAN,IAAc+K,sBAAuBZ,EAAIrO,UAAWvN,KAAKqR,MAAMsJ,IACjG3K,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAO1H,YAAY,EAAMkB,OAAQoK,YAE1E,CAACjB,EAASD,EAAgB3K,EAAUyB,EAAQsL,IAE3CvF,EAAcsF,EAAU,UAAY,iBAExC,OACE,eAAChE,GAAA,EAAD,CAAexV,UAAWH,EAAQoT,QAAlC,SACE,gBAAC/M,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEmT,cAAe,IAAM/S,QAAS,EAAvD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,GAAK,EAAzB,SACE,gBAACjR,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGL,UAAWH,EAAQoX,cAAnE,UACE,gBAAC/Q,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,sBACA,eAACD,GAAA,EAAD,CAAYC,QAAQ,KAApB,kDAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,EAAGZ,aAAc,GAAKuF,WAAW,SAASlG,QAAS,EAAvF,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,WAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,cAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,qBAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,sBAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,kBAInB,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,UAAvC,SACE,eAACd,GAAA,EAAD,CAAQnR,QAASgV,EAAUO,EAAgBL,EAAW1Z,UAAWH,EAAQmX,cAAzE,SACG9C,WAKT,eAAChO,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,GAAK,EAAzB,SACE,eAAC8C,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC9D,GAAD,CAAW5R,QAAS,kBAAMkI,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,mBAQ1D,SAAS6P,GAAT,GAAyC,IAAD,IAAdrgB,UAAc,MAATuH,GAAS,EACrD,EAAsBqT,aAAe5a,GAC7B0f,EADR,qBACQA,QAEFrC,EAAKtT,aAAc,MAEzB,OACE,eAAC,GAAD,CACE/J,GAAIA,EACJ+O,SAAS,KACT4P,WAAY,CACVxY,MAAO,CACLoH,aAAc8P,EAAK,EAAI,KAG3B9V,MAAM,GACN+S,SAAS,EACTD,eAAe,EACfxH,SAAUuB,GACVqG,QAASA,GACT/H,OAAQ,CACN,CACE1S,GAAI,QACJ8O,MAAO,QACPiG,WAAW,EACXD,UAAU,EACVkB,OAAO,EACP0B,MAAOuE,GACPjH,WAAY,CACV7O,MAAO,CAAEW,WAAY,WAGzB,CACE9G,GAAI,WACJ8O,MAAO,WACP4I,MAAOuE,GACPnH,UAAU,EACVG,WAAY,CACVrV,KAAM,YAERoV,WAAY,CACV7O,MAAO,CAAEW,WAAY,UAEvBmB,OAAQ,qBAAGyX,UAEb,CACE1f,GAAI,kBACJ8O,MAAO,mBACP4I,MAAOuE,GACPnH,UAAU,EACVG,WAAY,CACVrV,KAAM,YAERoV,WAAY,CACV7O,MAAO,CAAEW,WAAY,UAEvBmB,OAAQ,qBAAGyX,UAEb,CACE1f,GAAI,mBACJ8O,MAAO,sDACP4I,MAAOuE,GACPnH,WAAU4K,EACVzX,OAAQ,qBAAGyX,SACX1K,WAAY,CACV7O,MAAO,CAAEW,WAAY,WAGzB,CACE9G,GAAI,UACJ8O,MAAO,0BACP4I,MAAO+H,GACPpM,cAAc,EACd2B,WAAY,CACV7O,MAAO,CAAEW,WAAY,c,eCvR3B7B,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXsB,KAAM,kBAAkB,CACtB8G,aADI,EAAGF,aACiBnN,EAAY,EACpC2N,QAAS,IAEXL,KAAM,kBAAyB,CAC7BC,UADI,EAAGA,UAEPF,aAAc,YAEhBG,UAAW,CACT5G,WAAYR,EAAQS,QAAQwS,MAC5BrS,aAAc,EACd1B,OAAQ,EACRG,OAAQ,EACR4H,aAAc,GAEhBI,UAAW,kBAAyB,CAClChI,OAAQ,EACR8H,UAFS,EAAGA,YAIdG,QAAS,kBAAyB,CAChCC,QAAS,EACTlI,OAAQ,EACRmI,SAAU,EACVL,UAJO,EAAGA,YAMZM,QAAS,CACPnI,QAAS,cACT6G,WAAY,SACZuB,eAAgB,SAChBzI,MAAO,OACP0I,cAAe,SACfV,aAAc,gBA4FL+S,GA/Ec,SAAC,GAAuG,IAAD,EAApGtgB,EAAoG,EAApGA,GAAoG,IAAhGwN,YAAgG,MAAzF,GAAyF,EAArFW,EAAqF,EAArFA,YAAaC,EAAwE,EAAxEA,QAAwE,IAA/DX,iBAA+D,MAAnD,GAAmD,MAA/CJ,eAA+C,SAA/BjD,EAA+B,EAA/BA,SAC7FrE,EAAUd,GAAU,CAAEwI,YAAWJ,YAEvC,EAAsCN,GAAe/M,GAArD,oBAAOqO,EAAP,KAAoBC,EAApB,KACMC,EAAWF,EAAY7O,MAErB+gB,EAAaC,eAAbD,SAEF/R,EAAQhB,EAAK,IAAMA,EAAK,GAAGxN,GAC3BygB,EAAQ,UAAGjT,EAAK2K,MAAK,SAAAtM,GAAC,OAAIA,EAAE7L,KAAOuO,YAA3B,aAAG,EAAmCmS,MAC9CC,EAAcJ,IAAaE,GAAYjT,EAAK2K,MAAK,SAAAtM,GAAC,OAAIA,EAAE6U,QAAUH,KAElEhE,EAAcC,eAEpBxX,aAAgB,gBACM9E,IAAhBygB,EACFrS,EAAe,CAAE9O,MAAOmhB,KAExB5d,YAAQwL,IAAaD,EAAe,CAAE9O,MAAOgP,IAC7CmS,GAAerS,EAAe,CAAE9O,MAAOmhB,EAAY3gB,MAErDyO,gBACC,CAACH,EAAgBC,EAAUC,EAAOmS,IAErC3b,aAAgB,WACdyJ,gBACC,CAACN,IAEJ,IAAMvE,EAAe5E,eACnB,SAACqE,EAAO7J,GACN8O,EAAe,CAAE9O,UACjB4K,GAAYA,EAAS5K,KAEvB,CAAC8O,EAAgBlE,IAGnB,EAA8BiE,EAAtB7O,aAAR,WAAgBU,EAAhB,EAEM0gB,EAAc5b,eAClB,SAAC0b,EAAO5gB,GAAR,IAAe4K,EAAf,4DAAyBxK,EAAzB,OACE,WACEqc,EAAYmE,EAAO5gB,GACnB4K,GAAWA,OAEf,CAAC6R,IAGH,OACE,eAACsE,GAAA,EAAD,CAAW3a,UAAWH,EAAQU,KAA9B,SACE,eAACiI,GAAA,EAAD,CAAM5D,QAAQ,YAAY5E,UAAWH,EAAQyH,KAAMmB,cAAc,MAAMnP,MAAOA,EAAO4K,SAAUR,EAAc7D,QAAS,CAAE2H,UAAW3H,EAAQ2H,WAA3I,SACIF,EAGAA,EAAKjL,KAAI,SAACsJ,GAAD,OACP,eAAC+C,GAAA,EAAD,CAEElE,QAASkW,EAAY/U,EAAE6U,MAAH,OAAU7U,QAAV,IAAUA,OAAV,EAAUA,EAAGiV,WAAb,OAAyBjV,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAGnB,SAChD3E,QAAS,CACPU,KAAMV,EAAQ6H,QACdD,UAAW5H,EAAQ4H,UACnBI,QAAShI,EAAQgI,QACjBK,QAASrI,EAAQ4H,WAEnBkB,KAAMhD,EAAEgD,MAAQ,eAAChD,EAAEgD,KAAH,CAAQ1I,MAAO,CAAEe,aAAc,KAC/C1H,MAAOqM,EAAE7L,GACToO,QAASA,EACTU,MACE,eAACjE,GAAA,EAAD,CAAYC,QAAQ,UAAU3E,MAAO,CAAE4I,SAAS,eAAD,OAAiB,EAAjB,QAA2BjC,QAASsB,EAAnF,SACGvC,EAAEiD,MAAQjD,EAAEiD,MAAQjD,EAAE7L,MAbtB6L,EAAE7L,OAJX,oC,wFC5GJiF,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaxd,EAAhB,EAAgBA,OAAhB,OAC3B4B,aAAa,CACX6b,KAAM,kBAAGC,EAAH,EAAGA,SAAH,UACJxZ,YAAa,EACbN,aAAc,GACd3B,OAAQjC,EAAO2d,cAAgB,IAH3B,cAIHH,EAAYI,KAAK,MAAQ,CACxBvb,QAASqb,EAAW,OAAS,SAL3B,uBAOI,WAPJ,GASNG,SAAU,kBAAGH,EAAH,EAAGA,SAAH,UACR1b,MAAO,IACPoB,MAAO,UACPmB,WAAY,EACZuZ,cAAe,GAJP,cAKPN,EAAYI,KAAK,MAAQ,CACxBvb,QAASqb,EAAW,OAAS,SANvB,uBAQA,WARA,QAgBC,SAASK,GAAT,GAAqD,IAAD,IAApCL,gBAAoC,aAAnBM,gBAAmB,SAC3Dxb,EAAUd,GAAU,CAAEgc,aACtBO,EAAoBC,eAE1B,OACE,gBAACrV,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAAS/B,QAAS8W,EAAkB9E,YAAU,MAAzE,UACE,eAACtQ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKnG,UAAWH,EAAQib,KAAMU,IC1CvB,yjHD0CkCC,IAAI,WAE9CJ,GACC,eAACnV,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASvG,UAAWH,EAAQqb,SAAvD,UACE,eAAChV,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,UAApB,SAhBG,uBAkBL,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAE2B,WAAY,GAAxC,SACE,eAAC+C,GAAA,EAAD,CAAYC,QAAQ,UAApB,SAlBY,kC,cEbpB7F,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAS/C,EAAzB,EAAyBA,OAAzB,OAC3B4B,aAAa,CACXyc,OAAQ,CACN9a,WAAYR,EAAQS,QAAQF,MAC5BY,YAAalE,EAAO6H,eACpBjE,aAAc5D,EAAO6H,gBAEvByW,iBAAkB,CAChB/a,WAAYR,EAAQS,QAAQF,OAE9BkL,OAAQ,CACN3L,gBAAiBE,EAAQS,QAAQgJ,MAEnC+R,QAAS,CACPhb,WAAYR,EAAQO,OAEtBkb,gBAAiB,CACfC,cAAe,OACflb,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,OAExBob,WAAW,aACTjX,WAAY,EACZrE,MAAO2G,KAAK,MACXyT,EAAYmB,GAAG,MAAQ,CACtBtc,QAAS,cAMXuc,GAAU,WACd,MAA2BpV,GAAe,sBAAjCuB,EAAT,qBACMsS,EAAc5b,eAAkB,WACpCsJ,EAAe,CAAE9O,MAAO,WACvB,CAAC8O,IACJ,MAAO,CACL,CAAEtO,GAAI,sBAAuB6O,KAAM3C,KAAYwU,MAAO,SACtD,CAAE1gB,GAAI,aAAc6O,KAAM3C,KAAkBwU,MAAO,cACnD,CAAE1gB,GAAI,QAAS6O,KAAM3C,KAAiBwU,MAAO,SAAUI,WAAY,CAAEsB,SAAU,YAC/E,CAAEpiB,GAAI,YAAa6O,KAAM3C,KAAmBwU,MAAO,uBACnD,CAAE1gB,GAAI,YAAa6O,KAAM3C,KAAawU,MAAO,WAAYI,WAAY,CAAEsB,SAAU,OAAQC,SAAU,QAAU3X,QAASkW,IACtH1e,QAAO,SAAA2J,GAAC,OAAIA,MAIVyW,GAAoB,SAAA1d,GACxB,IAAM2d,EAAUC,eACVC,EAAWC,eACXlV,EAAO2U,KAEb,OACE,eAAC,GAAD,aACEniB,GARK,SASLwN,KAAMA,EAAKtL,QAAO,SAAA2J,GAAC,MAAc,eAATA,EAAE7L,GAAsByiB,IAAYF,GAAoB,UAAT1W,EAAE7L,OACrE4E,KAKK,SAAS+d,GAAT,GAAwC,IAAZC,EAAW,EAAXA,QACnC7c,EAAUd,KAChB,EAAmD2V,aAAeyF,IAAlE,oBAAewC,EAAf,KAASrS,KAAsBsS,EAA/B,KACA,EAA6ClI,aAAe8D,IAA5D,oBAAeqE,EAAf,KAASvS,KAAmBwS,EAA5B,KACMP,EAAWC,eACjB,EAAgC1d,WAAmC,MAAnE,oBAAOie,EAAP,KAAiBC,EAAjB,KACM1S,EAAO2S,QAAQF,GAEfzF,EAAUC,cAEV2F,EAAepe,eAAkB,WACrC6d,GAAgBC,GAAiB,SAAAzR,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,OAC3EkI,GAAaC,GAAc,SAAA3R,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,OACrE2C,OAAQtd,GACRgjB,EAAY,QACX,CAAC1F,EAASqF,EAAcE,EAAWD,EAAkBE,EAAeE,IAEjElN,EAAQ9I,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,SAEpFuG,EAAcC,eAEdhP,EAAO2U,KAEPoB,EAAkBve,eACtB,SAAAxF,GACE,MAAmCgO,EAAK2K,MAAK,SAAAtM,GAAC,OAAIA,EAAE7L,KAAOR,KAAnDkhB,EAAR,EAAQA,MAAR,IAAeI,kBAAf,MAA4B,GAA5B,EACAvE,EAAYG,YAAUgE,GAAQI,KAEhC,CAACtT,EAAM+O,IAOH7L,EAAc,WAClBwS,EAAY,OAGRpZ,EAAaC,aAAc,MAEjC,EAAiDyZ,cAAjD,oBAASC,EAAT,KAA4BC,EAA5B,KACMC,EAAuB3e,eAAkB,kBAAMye,GAAkB,KAAO,CAACA,IAE/E,OACE,uCAEGG,aAAmBlF,GACnBkF,aAAmBvD,GACpB,eAACwD,GAAA,EAAD,CAAOC,QAAQ,EAAOvX,UAAU,OAAO0L,IAAK2K,EAA5C,SACE,eAACrjB,GAAA,EAAD,CAAQwkB,IAAKC,eAAsB1e,SAAS,QAAQqB,MAAM,UAAUgG,UAAW,EAAGzG,UAAW4D,EAAa/D,EAAQ8b,iBAAmB9b,EAAQ6b,OAA7I,SACE,gBAAC,KAAD,CAAS1b,UAAWH,EAAQ+b,QAASmC,gBAAgB,EAArD,UACGP,GACC,eAACjZ,GAAA,EAAD,CAAY,aAAW,cAAcyZ,KAAK,QAAQxZ,QAASiZ,EAAsBzd,UAAWH,EAAQkc,WAApG,SACE,eAAC,KAAD,MAGJ,gBAAC7V,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACiV,GAAD,MAEF,eAAClV,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,GAAjC,SACE,eAAC,GAAD,CAAmB1D,SAAUmZ,MAE/B,eAACnX,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACD,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAWC,WAAW,SAA9C,SACE,gBAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,eAAC5B,GAAA,EAAD,CAAY9D,MAAM,UAAU,aAAW,0BAA0B,gBAAc,OAAO+D,QApCrF,SAACrB,GAClB6Z,EAAY7Z,EAAM8a,gBAmCF,SACG1B,EAAW,eAAC,KAAD,IAAiC,eAAC,KAAD,MAE/C,eAAC2B,GAAA,EAAD,CACEpkB,GAAG,cACHijB,SAAUA,EACVrS,aAAc,CACZC,SAAU,MACVC,WAAY,SAEduT,aAAW,EACXC,gBAAiB,CACfzT,SAAU,MACVC,WAAY,SAEdN,KAAMA,EACNQ,QAASN,EACT6T,cAAe,CAAEpe,MAAO,CAAEkT,WAAYoJ,EAAW,OAAIviB,IAdvD,SAgBGuiB,EACG,CACE,eAAC+B,GAAA,EAAD,CAAsBte,UAAWH,EAAQgc,gBAAzC,SACG/L,GADW,SAGd,eAACyF,GAAA,EAAD,GAAa,WACb,eAAC+I,GAAA,EAAD,CAAuB9Z,QAAS0Y,EAAhC,mBAAc,WAIhB,CACE,CAAEtU,MAAO,QAAS2V,OAAQ/F,EAAahU,QAASgG,GAChD,CAAE5B,MAAO,SAAU2V,OAAQpE,EAAgB3V,QAASgG,IACpDnO,KAAI,gBAAGuM,EAAH,EAAGA,MAAO2V,EAAV,EAAUA,OAAQ/Z,EAAlB,EAAkBA,QAAlB,OACJ,eAACuS,GAAA,EAAD,CAA0BwH,OAAQA,EAAQ/Z,QAASA,EAASI,QAAQ,WAAW2K,QAAQ,GAAGiP,OAAO,EAAjG,SACG5V,GADgBA,4B,eC7KhC,SAAS6V,KACtB,OACE,gBAACvY,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAA3B,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,SAAvC,SACE,eAAC9R,GAAA,EAAD,CAAYC,QAAQ,KAAK4N,MAAM,QAA/B,SANY,6BAUd,eAACtM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,SAAvC,SACE,eAACiI,GAAA,EAAD,CAAMC,KAAI,iBAAYC,gBAAgBzd,UAAU,SAASwC,OAAO,SAASiB,QAAQ,QAAQnE,MAAM,UAA/F,SACGme,sBCTX,IAEM7f,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,EAAYC,QAAZ,OAC3BpB,aAAa,CACXsB,KAAM,CACJK,WAAYR,EAAQ6V,UAAU5C,MAC9B1L,QAAS,IAEXvB,UAAW,CACT/G,MAAO,QAETvE,KAAM,CACJ0G,SAAU,GACVf,MAAOL,EAAQS,QAAQgJ,KACvBgV,OAAQ,gBAKRvX,GAAO,CACX,CAAExN,GAAI,QAAS0gB,MAAO,UACtB,CAAE1gB,GAAI,cAAe0gB,MAAO,SAC5B,CAAE1gB,GAAI,cAAe0gB,MAAO,SAC5B,CAAE1gB,GAAI,YAAa0gB,MAAO,uBAC1B,CAAE1gB,GAAI,YAAa0gB,MAAO,aAIb,SAASsE,GAAT,GAA2C,IAAD,IAAtBla,eAAsB,MAAZ,SAAY,EACjD/E,EAAUd,KACVoY,EAAKtT,eAELyX,EAAoBC,eAGtBF,IADUxY,eACU,KAElBwZ,EAAUC,eAEhB,OACE,sBAAKuB,IAAKkB,eAAsB/e,UAAWH,EAAQU,KAAnD,SACE,gBAAC2F,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQuG,UAAW/F,QAAS,EAAxE,UACe,UAAZuE,GACC,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBjG,QA5CpC,EA4CJ,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAE2B,UAAW,EAAGkD,YAAa,GAA/C,SACE,eAACsW,GAAD,CAAML,UAAU,EAAOM,SAAUA,MAEnC,eAACnV,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC+X,GAAD,WAKR,eAACvY,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,GAAjC,SACE,eAAC1B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBjG,QAvDlC,EAuDN,SACGiH,GACEtL,QAAO,SAAA2J,GAAC,QAAM0W,GAAoB,UAAT1W,EAAE7L,MAC3BuC,KAAI,gBAAGvC,EAAH,EAAGA,GAAI0gB,EAAP,EAAOA,MAAP,OACH,eAACtU,GAAA,EAAD,CAAeC,MAAI,EAAnB,SACE,eAACuY,GAAA,EAAD,CAAM1e,UAAWH,EAAQ/E,KAAM0J,QAAS8W,EAAkBd,GAAQ5V,QAAQ,KAA1E,SACG9K,KAFMA,UAQnB,eAACoM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,aAAxB,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,EAAI,EAAGxQ,cAAY,EAAvC,SACE,eAAChC,GAAA,EAAD,CAAYiC,QAAM,EAAC4L,MAAM,OAAzB,SACE,eAACkM,GAAA,EAAD,CAAMC,KAAK,gCAAgC/Z,QAAQ,UAAUjB,OAAO,SAASlD,MAAM,UAAnF,iDAKF0W,GACA,eAACjR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,EAAGC,cAAY,EAA9B,SACE,eAAChC,GAAA,EAAD,CAAYiC,QAAM,EAAC4L,MAAM,SAAzB,SACE,eAACkM,GAAA,EAAD,CAAMC,KAAK,6BAA6B/Z,QAAQ,UAAUjB,OAAO,SAASlD,MAAM,UAAhF,qFAMN,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIyQ,EAAK,EAAI,EAAGxQ,cAAY,EAAvC,SACE,eAAChC,GAAA,EAAD,CAAYiC,QAAM,EAAC4L,MAAM,QAAzB,SACE,eAACkM,GAAA,EAAD,CAAMC,KAAK,yBAAyB/Z,QAAQ,UAAUjB,OAAO,SAASlD,MAAM,UAA5E,yE,wRC9DV1B,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAS/C,EAAZ,EAAYA,OAAZ,OAC3B4B,aAAa,CACXsU,aAAc,CACZ9S,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQmJ,MAAMzI,KAC1B,UAAW,CACTF,WAAYR,EAAQmJ,MAAMM,OAG9B2J,kBAAmB,CACjB/S,MAAOL,EAAQmJ,MAAMzI,MAEvB2S,eAAgB,CACdhT,MAAOL,EAAQS,QAAQwS,MACvBjU,SAAU,WACVsU,IAAK,MACLC,KAAM,MACN/R,WAAavE,EAAOuW,aAAe,EACnC9O,YAAczH,EAAOuW,aAAe,GAEtCoL,KAAM,oBAAG3f,MAAH,MAA2B,CAC/BA,WADI,MAAW,IAAX,SAMK,SAAS4f,GAAT,GAwBK,IAvBlBnlB,EAuBiB,EAvBjBA,GAEe2S,GAqBE,EAtBjBsQ,SAsBiB,EArBjBhQ,eAqBiB,KApBjBiH,YAoBiB,EAnBjBC,oBAmBiB,MAnBH,SAmBG,OAlBjBC,YAkBiB,EAjBjB1H,eAiBiB,MAjBR,GAiBQ,EAhBjBnN,EAgBiB,EAhBjBA,MAEAiV,GAciB,EAfjBD,SAeiB,EAdjBC,UAGAC,GAWiB,EAbjBzJ,QAaiB,EAZjBoU,QAYiB,EAXjB3K,SACA5H,EAUiB,EAVjBA,SACAjR,EASiB,EATjBA,QACAyW,EAQiB,EARjBA,eACAC,EAOiB,EAPjBA,eAOiB,IANjB7G,OAAQqB,OAMS,WANQ5S,EAMR,MALjBiS,UAAWY,OAKM,WALc7S,EAKd,MAJjB8S,yBAIiB,WAJG9S,EAIH,EAHjByK,EAGiB,EAHjBA,QACA7E,EAEiB,EAFjBA,SACGuK,EACc,mBACT9M,EAAW0C,eAAX1C,OACR,EAA0BqX,aAAe5a,GAAzC,oBAAOF,EAAP,KAAc8S,EAAd,KACQpC,EAAoC1Q,EAApC0Q,KAAM5Q,EAA8BE,EAA9BF,KAAMib,EAAwB/a,EAAxB+a,QAAS3H,EAAepT,EAAfoT,WAE7B,EAA0ClO,IAAMyO,UAAS,GAAzD,oBAAOqH,EAAP,KAAsBC,EAAtB,KACMC,EAAsBhW,IAAMmI,aAAY,kBAAM4N,GAAiB,SAAA1J,GAAI,OAAKA,OAAO,CAAC0J,IAEhFhV,EAAUd,GAAU,CAAEM,UAE5B,EAAgDkN,GAAU,CACxDjC,OACAkC,SACAC,gBACA7S,QACA8S,WACAC,WACAE,oBACAD,iBACAE,sBATMvB,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWkC,EAA3B,EAA2BA,OAAQQ,EAAnC,EAAmCA,SAY7BwQ,EAAcrgB,IAAMmI,aAAY,kBAAMgF,EAAU,MAAK,CAACA,IAEtDiJ,EAAe,CACnB1I,SACAmC,WACApD,SACA7P,UACAyW,iBACAC,kBAGI+C,EAAaR,GAAW3H,EACxBrB,EAAWwJ,GAAchH,EAAM,QAErC,OACE,uCACE,eAACoE,GAAD,CAAWhJ,MAAO4E,EAAM,QAAxB,SACE,qCACGvO,IAEG2U,EACF,eAACA,EAAD,eAAaW,IAEb,uCACGC,GAAc,eAACO,GAAA,EAAD,CAAkBvX,KAAMd,EAAOuW,aAAc5T,UAAWH,EAAQ4T,iBAC/E,eAAC3B,GAAA,EAAD,CAAUC,IAAK6C,EAAf,SACE,eAAC1O,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,SACE,eAAC,GAAD,eAAY6U,gBAOxB,eAAC+E,GAAA,EAAD,CAAKC,GAAI,IACRzV,EACC,eAACA,EAAD,2BAAa0F,GAAb,IAAoBoB,OAAQA,EAAQU,UAAWA,EAAWkT,YAAaA,KAE9D,SAATzlB,QACaM,IAAbsa,GACE,eAACqB,GAAA,EAAD,CAAQxX,KAAK,QAAQwN,SAAUA,EAAU3L,UAAWH,EAAQ2T,kBAAmBhP,QAASsQ,EAAxF,SACGb,O,yIClHEmL,GA5BD,SAAC,GAWR,IAAD,IAVJxW,aAUI,MAVI,GAUJ,MATJhE,eASI,WATM5K,EASN,MARJuP,aAQI,WARIvP,EAQJ,MAPJV,aAOI,WAPIU,EAOJ,MANJ2W,cAMI,MANK,QAML,MALJzM,gBAKI,WALOlK,EAKP,MAJJwW,wBAII,SADDrG,GACC,EAHJzQ,KAGI,EAFJyT,aAEI,oBACEzJ,EAAe5E,eACnB,SAAAqE,GACEA,EAAMQ,OAAOrK,OAAiC,IAAzB6J,EAAMQ,OAAO0b,QAAmB,EAAI,EACzDnb,GAAYA,EAASf,KAEvB,CAACe,IAGH,OACE,gBAACH,GAAA,EAAD,CAAaa,QAASA,EAAS2E,MAAO+E,YAAQ/E,GAAQqH,WAAS,EAACD,OAAQA,EAAxE,UACE,eAAC2O,GAAA,EAAD,CAAkB1W,MAAOA,EAAO2W,QAAS,eAACC,GAAA,EAAD,aAAUH,QAASI,YAAKnmB,GAAQ4K,SAAUR,GAAkByG,OACnGqG,GAAoBjH,IAAU,eAACmW,GAAA,EAAD,UAAiBnW,Q,gLCrBjDxK,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXmH,UAAW,CACT,UAAW,CACTxF,WAAYR,EAAQgH,KAAK,YAMlB,SAASuY,GAAT,GAcX,IAAD,IAbDrmB,aAaC,MAbO,GAaP,MAZD4K,gBAYC,WAZUlK,EAYV,MAXD4O,aAWC,WAXO5O,EAWP,OAVDmK,YAUC,EATDyM,UASC,EARDjF,SAQC,EAPDxN,KAOC,EANDwR,cAMC,MANO,GAMP,OALDL,qBAKC,EAJDnC,aAIC,EAHD2B,WAGC,EAFDrO,cAEC,WAFOzG,EAEP,EACK6F,GADL,mBACed,MAChB,EAA4BD,WAAexF,EAAM8C,OAAS,GAA1D,oBAAOwjB,EAAP,KAAeC,EAAf,KACMnc,EAAe5E,eACnB,SAACghB,EAAWxmB,GAAZ,OAAsB,SAAA6S,GACpB,IAAMkT,EAAUlT,EAAExI,OAAOrK,MACnBymB,EAAWzmB,EAAM0C,QAAO,SAAAgkB,GAAC,OAAIA,IAAMF,KACpCL,YAAKJ,GAGRnb,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOymB,EAASE,OAAOH,MAFxD5b,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOymB,QAK5C,CAAC7b,IAGGwW,EAAc5b,eAClB,SAAAqN,GACEA,EAAE+T,kBACEN,GACF1b,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO,MAE1CumB,GAAWD,KAEb,CAACA,EAAQC,EAAW3b,IAGhB5B,EAAQsd,EAAwBtmB,EAAM8C,OAAS,EAAI4J,KAAcA,KAAhDA,KAEvB,OACE,gBAACiU,GAAA,EAAD,CAAKkG,GAAI,EAAGC,GAAI,EAAGngB,MAAO,CAAEmT,cAAe,GAA3C,UACE,gBAAClN,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAASvG,UAAWH,EAAQuG,UAAWnG,MAAO,CAAE4e,OAAQ,WAAara,QAASkW,EAAjI,UACE,eAACxU,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACC,cAAc,EAA5B,SACE,eAAChC,GAAA,EAAD,CAAYC,QAAQ,QAAQ3E,MAAO,CAAEQ,QAAOiB,WAAY,KAAxD,SACGkH,MAGL,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC5B,GAAA,EAAD,CAAYpG,KAAK,QAAjB,SACE,eAACmE,EAAD,CAAMrC,MAAO,CAAEQ,kBAIrB,eAACwZ,GAAA,EAAD,CAAKkG,GAAI,EAAGC,GAAI,EAAhB,SACE,eAACla,GAAA,EAAD,CAAME,WAAS,EAAf,SACE,eAAC0L,GAAA,EAAD,CAAUC,GAAI6N,EAAd,SACGjQ,EAAMtT,KAAI,SAACW,EAAGpB,GAAJ,OACT,eAACsK,GAAA,EAAD,CAAkBC,MAAI,EAAtB,SACE,eAAC,GAAD,CACEyC,MAAQ,eAACjE,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B5H,EAAE4L,QACvC3I,MAAO,CAAEQ,SACTkQ,OAAO,OACPrX,QAAOA,EAAM2Y,MAAK,SAAA+N,GAAC,OAAIA,IAAMhjB,EAAE1D,SAC/B4K,SAAUR,EAAa1G,EAAE1D,MAAOA,GAEhC6E,KAAK,WAREvC,e,6GCzDnBykB,GAAW,CACfC,cAAe,CACb9T,OAAQ,CAAC,OAAQ,iBAAkB,eAErC+T,iBAAkB,CAChB/T,OAAQ,CAAC,kBAAmB,SAE9B,mBAAoB,CAClBA,OAAQ,CAAC,WAAY,gBAEvB,sBAAuB,CACrBA,OAAQ,CAAC,wBAEXgU,QAAS,CACPhU,OAAQ,CAAC,aAMb,SAAS+H,GAAT,GAAiG,IAA9E/H,EAA6E,EAA7EA,OAAQjB,EAAqE,EAArEA,OAAQoD,EAA6D,EAA7DA,SAAUiC,EAAmD,EAAnDA,UAAW3E,EAAwC,EAAxCA,UAA+BvN,GAAS,EAA7B9E,MAA6B,EAAtB8S,SAAsB,oBACxFwK,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQU,UAAWA,EAAW0C,SAAUA,EAAUiC,UAAWA,GAAelS,KAEnJ,OACE,eAACwH,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,aAAxB,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIC,cAAc,EAAjC,SACG7K,OAAOC,KAAKskB,IAAUhkB,KAAI,SAACoJ,EAAGzI,GAC7B,IAAQwP,EAAW6T,GAAS5a,GAApB+G,OACR,OACE,+BACGA,EAAOnQ,KAAI,SAACvC,EAAIkD,GAAL,OACV,+BAA+Bka,EAAYpd,IAA3C,UAAaA,EAAb,YAAmBkD,EAAnB,eAFJ,UAAayI,EAAb,YAAkBzI,WAYf,SAASyjB,GAAT,GAA4D,IAAD,IAAxB3mB,UAAwB,MAvBrD,gBAuBqD,EAATqQ,EAAS,mBACxE,EAAgCrL,IAAMyO,UAAS,GAA/C,oBAAOmT,EAAP,KAAiBC,EAAjB,KACMC,EAAuB9hB,IAAMmI,aAAY,WAC7C0Z,GAAY,SAAAxV,GAAI,OAAKA,OACpB,CAACwV,IAEEjiB,EAAK,aACT5E,KACA4mB,WACAE,uBACA1M,YAAa,KACbF,YAAa,QACbxH,OAAQ,CACN,CACE1S,GAAI,OACJ0X,MAAOqP,GACPlR,MAAOmR,KAAMzkB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAE7C,CACE9O,GAAI,iBACJ8O,MAAO,kBACP4I,MAAOqP,GACPlR,MAAOoR,KAAe1kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEtD,CACE9O,GAAI,WACJ0X,MAAOqP,GACPlR,MAAOqR,KAAS3kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,MAAOqY,aAAgBrY,QAEvE,CACE9O,GAAI,kBACJ0X,MAAOqP,GACPlR,MAAOuR,KAAgB7kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEvD,CACE9O,GAAI,aACJ8O,MAAO,uBACP4I,MAAOqP,GACPlR,MAAOwR,KAAW9kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAElD,CACE9O,GAAI,cACJ0X,MAAOqP,GACPlR,MAAOyR,KAAY/kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEnD,CACE9O,GAAI,UACJ0X,MAAOqP,GACPlR,MAAO0R,KAAUhlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEjD,CACE9O,GAAI,OACJ0X,MAAOqP,GACPlR,MAAO2R,KAAKjlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAE5C,CACE9O,GAAI,sBACJ8O,MAAO,kCACP4I,MAAOqP,GACPlR,MAAO4R,KAAoBllB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,cAE3DvM,KAAI,SAAAW,GAAC,wCAAUA,GAAV,IAAayD,MAAK,UAAE+gB,KAAWxkB,EAAElD,WAAf,aAAE,EAAkB2G,YAC1C0J,GAGL,EAA4BsX,YAAqB,gBAAjD,oBAAOlW,EAAP,KAAeU,EAAf,KAEA,OAAO,eAACgT,GAAD,2BAAoBvgB,GAApB,IAA2B6V,QAASA,GAAShJ,OAAQA,EAAQU,UAAWA,EAAWa,mBAAmB,KC9HxG,IAAM4U,GAAiB,WAA6B,IAA5B7nB,EAA2B,uDAAnB,eACrC,EAeI4nB,YAAqB5nB,GAfzB,+BAEImnB,gBAFJ,MAEe,GAFf,MAGII,mBAHJ,MAGkB,GAHlB,MAIIO,cAJJ,MAIa,GAJb,MAKIC,eALJ,MAKc,GALd,MAMIV,uBANJ,MAMsB,GANtB,MAOIC,kBAPJ,MAOiB,GAPjB,MAQIU,iBARJ,MAQgB,GARhB,MASIC,YATJ,MASW,GATX,MAUItB,eAVJ,MAUc,GAVd,MAWIc,YAXJ,MAWW,GAXX,MAYIP,sBAZJ,MAYqB,GAZrB,MAaIQ,2BAbJ,MAa0B,GAb1B,EAiBA,MAAO,CAACP,EAAUI,EAAaO,EAAQC,EAASV,EAAiBC,EAAYU,EAAWC,EAAMtB,EAASc,EAAMP,EAAgBQ,GAAqB7b,QAChJ,SAACC,EAAGrJ,GAAJ,OAAeqJ,EAAIrJ,EAAEF,SACrB,I,oBCnBW2lB,iBAAW,SAAApY,GAAK,OAC7B1K,aAAa,CACX+iB,MAAO,CACL1iB,OAAQ,GACRD,MAAO,GACPqU,IAAK,EACLuO,MAAO,GACPpP,OAAO,aAAD,OAAelJ,EAAMvJ,QAAQgH,KAAK,MACxCxG,WAAY+I,EAAMvJ,QAAQS,QAAQwS,WARzB0O,CAWbG,M,sCCTWC,GAAgB,SAAAtoB,GAC3B,IAAMiN,EAAWC,cAGjB,MAAO,CAFYC,aAAY,SAACpN,GAAD,uBAAqBA,EAAMiE,SAAShE,UAApC,QAA8C,MACvDiF,eAAkB,SAAArF,GAAO,OAAIqN,EjCsBrB,SAACjN,EAAOJ,GAAR,MAAqB,CAAEC,KAAM,qBAAsBG,QAAOJ,WiCtB5B2oB,CAAiBvoB,EAAOJ,MAAW,CAACI,EAAOiN,MAM5Fub,GAAiB,SAACxoB,EAAOC,GACpC,IAAMgN,EAAWC,cAGjB,MAAO,CAFKC,aAAY,SAACpN,GAAD,aAAqB,UAACA,EAAMiE,SAAShE,UAAhB,QAA0B,IAAIC,IAAO,MAChEgF,eAAkB,SAAArF,GAAO,OAAIqN,EAAStM,EAAeX,EAAOC,EAAIL,MAAW,CAACI,EAAOC,EAAIgN,MCZ9Fwb,GAAa,kBAAMH,GAAcI,KAAOnoB,UCCxCooB,GAAgB,WAC3B,MAAuBF,KAAdG,EAAT,qBACMlG,EAAWC,eACXkG,EAAM1b,aAAY,SAACqJ,GAAD,uBAAYA,EAAEhT,OAAO6a,YAArB,aAAY,EAAe0B,YAG7C+I,EAAa7jB,eAAkB,WACnC,IAAM8jB,EAAQ,yCAAG,iCAAAhd,EAAA,sDACXid,EAAc,GAEdC,EAAS,CACXC,UAAWR,KAAOnoB,QAClB4oB,uBAAmBhpB,GALN,uBAQCipB,KAAOC,KAAKJ,GAAQK,UARrB,QAQbxT,EARa,QASPyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAVpB,UAW2B,oBAA1B3T,EAAM2T,iBAXP,uBAYfb,EACEI,EACG7mB,QAAO,SAACunB,GAAD,OAAYA,EAAEb,MAAQA,IAAoB,IAAba,EAAEC,UACtC9d,QAAO,SAAC4F,EAAGhP,GAEV,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,KAlBQ,2CAAH,qDAsBViR,GACFqG,MAED,CAACF,EAAKnG,EAAUkG,IAEnB,OAAOE,GAGM,SAASe,KACtB,IAAMnH,EAAWC,eACXkG,EAAM1b,aAAY,SAACqJ,GAAD,uBAAYA,EAAEhT,OAAO6a,YAArB,aAAY,EAAe0B,YAC7C+I,EAAaH,KACnB1jB,aAAgB,WACd6jB,MACC,CAACD,EAAKnG,EAAUoG,IC7Cd,IAAMgB,GAAoB,WAC/B,IAAM7c,EAAWC,cACjB,OAAOjI,eAAkB,gBAAGjF,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAIL,EAAd,EAAcA,QAAd,OAA4BqN,EAAStM,EAAeX,EAAOC,EAAIL,MAAW,CAACqN,KCSzF8c,GAAiB,WAC5B,IAAM9c,EAAWC,cACXvM,EAAiBmpB,KACvB,OAAO7kB,eAAkB,SAAC+kB,GAAD,OAA0B/c,EAASgd,GAAYD,EAAKrpB,MAAkB,CAACsM,EAAUtM,K,SAS7FupB,G,yFAAf,WAAkCF,EAAKG,EAAMxpB,EAAgBsM,GAA7D,gCAAAlB,EAAA,sDACiBnI,EAAqFomB,EAA5FI,MADV,EACsGJ,EAA9EK,cADxB,MACiC,IADjC,IACsGL,EAAhEM,gBADtC,WACsGN,EAA/CO,iBADvD,WACmEpqB,EADnE,IACsG6pB,EAAxBQ,eAD9E,WACwFrqB,EADxF,EAGiB,MAAXkqB,GAA6B,MAAXA,GAA6B,MAAXA,EACtCjB,KAAOqB,IAAI,CAAEvB,UAAWtlB,EAAOkU,KAAMqS,IAAQ,SAAU1L,EAAKve,GAC1D,GAAIue,EAAK,CACP,IAAIrO,EAAO,0CAAsCxM,GACjD0mB,GAAYrd,EAAStN,EAAe,CAAE8Q,MAAM,EAAM1F,QAAS,QAASqF,aACpEoa,GAAWA,EAAQ/L,EAAK0L,GACxB7L,QAAQ5O,MAAM,CAAEU,UAASqO,MAAK0L,cAE9BG,GAAYrd,EAAStN,EAAe,CAAE8Q,MAAM,EAAM1F,QAAS,UAAWqF,QAAS,aAC/Ema,GAAaA,EAAUrqB,EAAMiqB,IACjB,MAAXE,GAA6B,MAAXA,GAA6B,MAAXA,IAAmB1pB,EAAe,CAAEX,MAAO4D,EAAO3D,GAAIkqB,EAAKP,IAAKhqB,QAAQ,2BAAMuqB,GAAP,IAAaO,KAAMP,EAAKO,YAIxItB,KAAOuB,IAAI,CAAEzB,UAAWtlB,EAAOgnB,IAAKT,IAAQ,SAAU1L,EAAKve,GACzD,GAAIue,EAAK,CACP,IAAIrO,EAAO,0CAAsCxM,GACjD0mB,GAAYrd,EAAStN,EAAe,CAAE8Q,MAAM,EAAM1F,QAAS,QAASqF,aACpEoa,GAAWA,EAAQ/L,EAAK0L,GACxB7L,QAAQ5O,MAAM,CAAEU,UAASqO,MAAK0L,cAE9BG,GAAYrd,EAAStN,EAAe,CAAE8Q,MAAM,EAAM1F,QAAS,UAAWqF,QAAS,aAC/Ema,GAAaA,EAAUrqB,EAAMiqB,MAzBrC,4C,sBA+BA,IAAMF,GAAc,SAACD,EAAsBrpB,GAAvB,gDAA0C,WAAOsM,EAAe4d,GAAtB,kCAAA9e,EAAA,sDAC7CnI,EAA8EomB,EAArFI,MAAoBU,EAAiEd,EAAvEG,KADsC,EACiCH,EAAvDK,cADsB,MACb,IADa,IACiCL,EAAzCM,gBADQ,WACiCN,EAAxBQ,eADT,WACmBrqB,EADnB,EAEtDgqB,EAFsD,2BAE1CW,GAF0C,IAEhCnB,OAAmB,MAAXU,IAAoC,MAAXA,GAAyBS,EAAiBnB,UACvG,IACEO,GAAmBF,EAAKG,EAAMxpB,EAAgBsM,GAC9C,MAAOyC,GACE,OAALA,QAAK,IAALA,KAAOqb,WAKP3a,EANe,iDAMqCxM,GACxD0mB,GAAYrd,EAAStN,EAAe,CAAE8Q,MAAM,EAAM1F,QAAS,QAASqF,aACpEoa,GAAWA,EAAQ9a,EAAOya,GAC1B7L,QAAQ5O,MAAM,CAAEU,UAASV,QAAOya,SAd0B,2CAA1C,yDAkBLJ,M,wECxETnU,GAAW,SAAAoV,GAAM,aAAI,QAAE,EAAkB,kBAAXA,GAAuBA,EAASA,EAAOjc,MAAQic,SAAxD,QAAmE,IAAIC,YAC5FzZ,GAAW,SAAAwZ,GAAM,uBAAuB,kBAAXA,GAAuBA,EAASA,EAAOvrB,MAAQurB,SAA3D,QAAsE,IACvFE,GAAoB,SAACzrB,EAAO0rB,GAAR,aACxB3S,MAAM4S,QAAQD,IAAd,UAAyBA,EAAQ/S,MAAK,SAAAiT,GAAC,MAAkB,kBAANA,EAAiBA,EAAE5rB,QAAUA,EAAQ4rB,IAAM5rB,YAA9F,QAA8G,IAGjG,SAAS6rB,GAAT,GAQX,IAAD,IAPDxV,MAAOqV,OAON,MAPgB,GAOhB,MAND1rB,aAMC,MANO,GAMP,MALD4K,gBAKC,WALUlK,EAKV,MAJD2R,gBAIC,SADExB,GACF,EAHDhM,KAGC,EAFDinB,SAEC,oBACK1hB,EAAe5E,eACnB,SAACqN,EAAG0Y,GACF3gB,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO+R,GAASwZ,QAEnD,CAAC3gB,IAGH,OACE,eAACmhB,GAAA,EAAD,CACE1Z,SAAUA,EACVrS,MAAOyrB,GAAkBzrB,EAAO0rB,GAChCA,QAASA,EACTM,eAAa,EACbC,eAAgB,SAAAV,GAAM,OAAIpV,GAASoV,IACnCW,aAAc,SAAAX,GAAM,OAAIpV,GAASoV,IACjC3gB,SAAUR,EACV+hB,YAAa,SAAA3C,GAAM,OACjB,eAAC,GAAD,2BACMA,GADN,IAEE/T,WAAU,2BACL+T,EAAO/T,YADF,IAER2W,aAAc,iBAEhB7U,gBAAiB,CACfC,QAAQ,GAEVnF,SAAUA,GACNxB,OCpCP,IAAM9I,GAAQ,gBAEN,SAASskB,GAAT,GAAuC,IAAD,IAAd7rB,UAAc,MAATuH,GAAS,EACnD,EAAqBqT,aAAe5a,GAA3B4S,EAAT,qBAEMiW,EAAaH,KACbsB,EAAcF,KASpB,EAAkBtB,KAAXloB,EAAP,qBAEMuV,EAAQ7T,OAAOC,KAAK3B,GAASiC,KAAI,SAAAoJ,GAAC,MAAK,CAAEmD,MAAOxO,EAAQqL,GAAGxI,KAAM3D,MAAOc,EAAQqL,OAEtF,OACE,eAAC,GAAD,CACE3L,GAAIA,EACJuH,MAAOvH,EACPoa,YAAapa,EACbua,SAhBiB,SAAC,GAAqB,IAAnBuR,EAAkB,EAAlBA,YAClBA,GACF9B,EAAY,CAAEI,OAAQ,IAAKD,MAAO1B,KAAOnoB,QAAS4pB,KAAK,2BAAM4B,GAAP,IAAoBC,MAAM,IAAIlrB,MAAOmrB,YAAa1B,UAAWzB,IAErHjW,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO2C,YAAY,EAAM0H,SAAS,QAanEnI,OAAQ,CACN,CACE1S,GAAI,SACJ0X,MAAOsE,GACPlN,MAAO,4BAET,CACE9O,GAAI,cACJ8O,MAAO,SACP+G,QACA6B,MAAO2T,O,sBClCJ9jB,GAAQ,cAEN,SAAS0kB,GAAT,GAAqC,IAAD,IAAdjsB,UAAc,MAATuH,GAAS,EACjD,EAAqBqT,aAAe5a,GAA3B4S,EAAT,qBACMoX,EAAcF,KACpB,EAAiBnC,YAAqB,gBAA/BlW,EAAP,qBACMmX,EAAM1b,aAAY,SAACqJ,GAAD,uBAAYA,EAAEhT,OAAO6a,YAArB,aAAY,EAAe0B,YACnD,EAAkB0I,KAAXloB,EAAP,qBACMuV,EAAQ7T,OAAOC,KAAK3B,GAASiC,KAAI,SAAAoJ,GAAC,MAAK,CAAEmD,MAAOxO,EAAQqL,GAAGxI,KAAM3D,MAAOc,EAAQqL,OAE9EmgB,EAAgBra,EAAhBqa,YAEFI,EAAaJ,EAAcA,EAAY3oB,KAAO,GAqBpD,OACE,eAAC,GAAD,CACEnD,GAAIA,EACJuH,MAAOvH,EACPoa,YAAapa,EACbua,SAxBiB,SAAC,GAAc,IAAZpX,EAAW,EAAXA,KACtB,GAAIA,EAAM,CAAC,IAAD,EACJ+mB,EAAI,2BAAQzY,GAAR,IAAgBmX,MAAKzlB,OAAM4oB,MAAM,IAAIlrB,MAAOmrB,YACpD,GAAI7oB,IAAS+oB,EAAY,CAEvB,MAAgChC,EAAhC,EAAQP,IAAR,EAAac,KACbP,EADA,mBAIEnnB,YAAO,UAACmnB,SAAD,aAAC,EAAMP,OAChBO,EAAKP,IAAMwC,eAGbnC,EAAY,CAAEG,MAAO1B,KAAOnoB,QAAS4pB,SAGvCtX,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO2C,YAAY,EAAM0H,SAAS,QASnEnI,OAAQ,CACN,CACE1S,GAAI,SACJ0X,MAAOsE,GACPlN,MAAO,2DAET,CACE9O,GAAI,OACJ8O,MAAO,cACP+G,YCnDH,IAAMtO,GAAQ,cAEN,SAAS6kB,GAAT,GAAqC,IAAD,IAAdpsB,UAAc,MAATuH,GAAS,EACjD,EAAqBqT,aAAe5a,GAA3B4S,EAAT,qBACA,EAAsB+U,YAAqB,gBAAlCxV,EAAT,qBACA,EAAkBqW,KAAXloB,EAAP,qBACMuV,EAAQ7T,OAAOC,KAAK3B,GAASiC,KAAI,SAAAoJ,GAAC,MAAK,CAAEmD,MAAOxO,EAAQqL,GAAGxI,KAAM3D,MAAOc,EAAQqL,OAOtF,OACE,eAAC,GAAD,CACE3L,GAAIA,EACJuH,MAAOvH,EACPoa,YAAapa,EACbua,SAViB,SAAA9I,GACnBU,GAAU,SAAAd,GAAI,kCAAUA,GAAV,IAAgBya,YAAW,OAAEra,QAAF,IAAEA,OAAF,EAAEA,EAAQqa,iBACnDlZ,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO2C,YAAY,EAAM0H,SAAS,QASnEnI,OAAQ,CACN,CACE1S,GAAI,SACJ0X,MAAOsE,GACPlN,MAAO,4BAET,CACE9O,GAAI,cACJ8O,MAAO,SACP+G,QACA6B,MAAO2T,OC5BF,SAASgB,GAAT,GAA6E,IAAD,IAAnDvhB,eAAmD,MAAzC,gBAAyC,MAAxBzD,iBAAwB,MAAZ,SAAY,EACnFob,EAAWC,eACjB,EAA4BiF,YAAqB,gBAAjD,oBAAOlW,EAAP,KAAeU,EAAf,KACQ2Z,EAAgBra,EAAhBqa,YACFQ,EAAiB1pB,KAAKC,UAAUipB,GAEtC9mB,IAAMkP,WAAU,WACdoY,GAAkBna,GAAU,SAAAd,GAAI,kCAAUzO,KAAKqR,MAAMqY,IAArB,IAAsCR,YAAaza,EAAKya,mBACvF,CAACQ,EAAgBna,IAEpB,IAAMkT,EAAcrgB,IAAMmI,aAAY,kBAAMgF,EAAU,MAAK,CAACA,IAE5D,OACE,eAAC/F,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,eAAeC,WAAW,SAA9D,SACE,uCACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcnS,QAASA,EAASzD,UAAWA,EAAWqD,QAAS2a,EAA/D,4BAIF,eAACjZ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcpL,UAAW4Q,EAAUgC,OAAQ8H,EAAkBzhB,QAASA,EAASzD,UAAWA,EAA1F,2BAIF,eAAC+E,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcpL,UAAW4Q,EAAUgC,OAAQ+H,EAAkB1hB,QAASA,EAASzD,UAAWA,EAA1F,2BAIF,eAAC+E,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcpL,UAAW4Q,EAAUgC,OAAQgI,EAAoB3hB,QAASA,EAASzD,UAAWA,EAA5F,8BAIAob,GACA,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,UAAUnE,MAAM,gBAApC,qFCrCZ,IAAM1B,GAAYC,cAAW,SAAC2K,GAAD,OAC3B1K,aAAa,CACXunB,OAAQ,CACN7e,QAAS,GAEX8e,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOkJ,EAAMvJ,QAAQS,QAAQgJ,MAE/B8I,OAAQ,CACN/Q,UAAW+H,EAAMtJ,QAAQ,GACzB0E,YAAa4E,EAAMtJ,QAAQ,SAKlB,SAASqmB,GAAT,GAAwD,IAAD,IAA1B7sB,aAA0B,MAAlB,eAAkB,EAC9DgG,EAAUd,KAEV4nB,EAAcjF,GAAe7nB,GAEnC,OACE,uCACE,sBAAKmG,UAAWH,EAAQ2mB,OAAxB,SACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAxB,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,UAAUnE,MAAM,cAAcT,UAAWH,EAAQ4mB,YAArE,8BAIF,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACygB,GAAD,CAAaC,aAAcF,EAAalmB,MAAM,mBAIpD,eAACwZ,GAAA,EAAD,CAAKkG,GAAI,EAAGC,GAAI,EAAG0G,GAAI,EAAvB,SACE,eAACvR,GAAA,EAAD,MAEF,eAACkL,GAAD,IACA,eAACxG,GAAA,EAAD,CAAKkG,GAAI,EAAGC,GAAI,EAAG0G,GAAI,EAAvB,SACE,eAACvR,GAAA,EAAD,MAEF,eAAC0E,GAAA,EAAD,CAAK8M,EAAG,EAAR,SACE,eAACZ,GAAD,SC7CR,IAAMpnB,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaxd,EAAhB,EAAgBA,OAAhB,OAC3B4B,aAAa,CACX+nB,OAAO,eACJnM,EAAYmB,GAAG,MAAQ,CACtB3c,MAAOhC,EAAO4pB,gBACdC,WAAY,IAGhBC,YAAa,gBAAG7nB,EAAH,EAAGA,OAAQ8nB,EAAX,EAAWA,aAAX,oBACXC,UAAW,SACXzlB,UAAWwlB,EAAe,EAC1B/nB,MAAOhC,EAAO4pB,gBACd3nB,OAAQA,EAAS8nB,GAChBvM,EAAYI,KAAK,MAAQ,CACxB3b,OAAQ,UAGZgoB,qBAAsB,CACpBjoB,MAAOhC,EAAO4pB,sBAyCLM,GApCI,WACjB,IAAMjoB,EAASkoB,cACT5jB,EAAaC,eACbujB,EAAeK,cACf5nB,EAAUd,GAAU,CAAEO,SAAQ8nB,iBACpC,EAAoC9J,cAApC,oBAAOoK,EAAP,KAAmBC,EAAnB,KACMC,EAAwB9oB,eAAkB,kBAAM6oB,GAAc,KAAQ,CAACA,IAE7E,OACE,uBAAK3nB,UAAWH,EAAQmnB,OAAQ,aAAW,oBAA3C,UACE,eAACa,GAAA,EAAD,CACEjjB,QAAQ,YACR0F,KAAM1G,GAAc8jB,EACpB5c,QAAS8c,EACT/nB,QAAS,CACPW,MAAOX,EAAQynB,sBAEjBQ,WAAY,CACV3J,aAAa,GARjB,SAWE,eAACuI,GAAD,MAEF,eAACmB,GAAA,EAAD,CACEhoB,QAAS,CACPW,MAAOX,EAAQsnB,aAEjBviB,QAAQ,aACR0F,KAAMod,EALR,SAOE,eAAChB,GAAD,UCzDF3nB,GAAYC,cAAW,iBAAO,CAClC+oB,SAAU,CACR7nB,gBAAiB,QACjBO,MAAO,QACPe,SAAU,EACVlC,OAAQ,EACRD,MAAO,EACPD,SAAU,gBAIC,SAAS4oB,KACtB,IAAMnoB,EAAUd,GAAU,IAC1B,OAAO,sBAAKiB,UAAWH,EAAQkoB,SAAxB,SAAmCA,aCJ5C,IAAMhpB,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAS/C,EAAzB,EAAyBA,OAAzB,OAC3B4B,aAAa,CACXsB,KAAM,CACJb,QAAS,UAEXuT,QAAS,gBAAGgV,EAAH,EAAGA,eAAH,IAAmB9oB,gBAAnB,MAA8B,OAA9B,sBACPK,SAAU,EACVL,WACAkoB,UAAW,SACX/nB,OAAQ,QACRY,gBAAiBE,EAAQM,OAAOC,MAChCmE,WAAYmjB,EAAiB5qB,EAAO4pB,gBAAkB,GACrDpM,EAAYI,KAAK,MAAQ,CACxBnW,WAAY,EACZoiB,WAAY,KAGhBgB,aAAc,gBAAGC,EAAH,EAAGA,WAAY5gB,EAAf,EAAeA,UAAW6gB,EAA1B,EAA0BA,cAA1B,MAA+C,CAC3D7gB,UAAWA,EACXjI,OAAQ6oB,OAAanuB,EAAYouB,EACjCjpB,SAAU,WAEZyc,QAAS,gBAAGwL,EAAH,EAAGA,aAAH,MAA4B,CACnCxmB,WAAYR,EAAQO,MACpBrB,OAAQ8nB,SAKRiB,GAAc,CAAC,QAAS,QAAS,cACjCC,GAAgB,CAAC,QAAS,SAAU,cACpCC,GAAgB,CAAC,QAAS,SAAU,cAC7BC,GAAa,CAAC,QAAS,IAAK,SAE1B,SAASC,GAAT,GAAiC,IAAb7oB,EAAY,EAAZA,SACjC,EAAyB0d,cAAlB2K,EAAP,qBACM3oB,EAASkoB,cACTJ,EAAeK,cACfiB,EAAeC,cAEfphB,EAAYjI,EAAS8nB,EAAesB,EAAe,EACrDN,EAAgB9oB,EAFK,CAAC8nB,EAAcsB,GAEMhjB,QAAO,SAACC,EAAGrJ,GAAJ,OAAUqJ,EAAIrJ,IAAG,GAElEuhB,EAAM/e,WAEFub,EAAaC,eAAbD,SACFzV,EAAUyjB,GAAYpW,MAAK,SAAA2W,GAAC,OAAIA,IAAMvO,KAAY,QAAU,SAE5Dxa,EAAUd,GAAU,CACxBkpB,iBACAE,YAAY,EACZhpB,SAAUmpB,GAAcrW,MAAK,SAAA2W,GAAC,OAAIA,IAAMvO,KAAY,SAAW,OAC/D+N,gBACAhB,eACAsB,eACAnhB,cAGImV,EAAUmM,aAAiB,CAAEllB,OAAQka,EAAIva,UAEzCwlB,EAAWC,aAAgB,YAC3BC,EAAqBD,aAAgB,sBACrCE,EAAQF,aAAgB,SAExB1S,EAAcC,eAQpB,OANAxX,aAAgB,WACTjC,YAAQisB,IAAcjsB,YAAQosB,IACjC5S,EAAYG,YAAU,mBAAoB,CAAEsS,WAAUE,qBAAoBC,YAE3E,CAAC5S,EAAayS,EAAUE,EAAoBC,IAG7C,sBAAK,cAAY,gBAAgBjpB,UAAWH,EAAQU,KAApD,SACE,wBAAMzG,GAAG,cAAc+jB,IAAKA,EAAK7d,UAAWH,EAAQoT,QAApD,UACE,eAACwJ,GAAD,CAAkBC,QAASA,IAC3B,eAAC,GAAD,IACA,sBAAK1c,UAAWH,EAAQ+b,UACxB,sBAAK5b,UAAWH,EAAQqoB,aAAxB,SAAuCtoB,KACrC2oB,GAActW,MAAK,SAAA2W,GAAC,OAAIA,IAAMvO,MAAa,eAACyE,GAAD,CAAUla,QAASA,IAChE,eAACsF,GAAD,IACA,eAAC8d,GAAD,S,8MClFFkB,GAAepqB,QAAW,kBAAM,wDA2BvB,SAASqqB,GAAsBzqB,GAC5C,IACEzB,EAmBEyB,EAnBFzB,KACAmF,EAkBE1D,EAlBF0D,OACQgnB,EAiBN1qB,EAjBFY,OACAsc,EAgBEld,EAhBFkd,QACAyN,EAeE3qB,EAfF2qB,QACAC,EAcE5qB,EAdF4qB,mBACAjoB,EAaE3C,EAbF2C,MACAkB,EAYE7D,EAZF6D,OACA+E,EAWE5I,EAXF4I,KACSiiB,EAUP7qB,EAVFhD,QAVF,EAoBIgD,EATF8D,gBAXF,SAYEmS,EAQEjW,EARFiW,QACAxS,EAOEzD,EAPFyD,QAbF,EAoBIzD,EANF8qB,eAdF,MAcY,GAdZ,EAeEC,EAKE/qB,EALF+qB,YACAnnB,EAIE5D,EAJF4D,KACAonB,EAGEhrB,EAHFgrB,gBAjBF,EAoBIhrB,EAFF+D,sBAlBF,MAkBmB,MAlBnB,EAmBKknB,EAnBL,aAoBIjrB,EApBJ,IAsBQrB,EAAW0C,eAAX1C,OACFusB,EAAepC,cACfloB,EAAS8pB,GAAkBQ,EAC3BluB,EAAUoC,YAASyrB,EAAS7qB,IAEP,SAAChD,GAC1BA,GACEA,EAAQC,SAAQ,SAACa,GACXA,EAAOqtB,WAETrtB,EAAOC,KAAO,SAACZ,EAAUiuB,GAAX,OAAwBttB,EAAOqtB,WAAWhuB,EAAIkuB,UAAYluB,EAAIkuB,YAAcluB,EAAKW,IACtFA,EAAOwtB,OAChBxtB,EAAOC,KAAO,SAACZ,EAAUiuB,GAAX,OArCH,SAACG,EAAD,OAAcF,EAAd,EAAcA,UAAWG,EAAzB,EAAyBA,cAAzB,OAA6C,eAACD,EAAD,2BAAeF,KAAf,IAA4BG,cAAeA,KAqC7DC,CAAa3tB,EAAOwtB,KAAMnuB,QASxEuuB,CAAmB1uB,GAEnB,IAAM2uB,EAAWzO,GACf,eAAC,GAAD,CACE3e,KAAMA,EACNsF,OAAkB,MAAVA,GAAiBA,EACzBlB,MAAOA,IAAgBpE,GAAc,IACrCmF,OAAQA,EACRC,iBAAkBinB,EAClB9mB,SAAUA,EACVL,QAASrE,YAASqE,EAASzD,GAC3B4D,KAAMA,EACNG,eAAgBA,IAGhB6nB,EAAYhjB,GAAQ,eAAC,GAAD,CAAkBrK,KAAMA,EAAMqK,KAAMA,EAAMpD,SAnB1C,SAAC5K,GACvBmwB,GAAeA,EAAYnwB,EAAOoF,MAoB9B0Q,EAAO,CACX,CAAEtV,GAAI,KAAMywB,UAAWb,EAAiBpqB,OAAQjC,EAAOyE,oBACvD,CAAEhI,GAAI,UAAWywB,UAAWF,EAAU/qB,OAAQjC,EAAOyE,oBACrD,CACEhI,GAAI,YACJywB,UAAWD,EACXhrB,OAAQjC,EAAOmtB,uBAEjBxuB,QAAO,SAAAyuB,GAAC,OAAIA,EAAEF,aAEVnD,EAAeK,cAEbpN,EAAaC,eAAbD,SACFqQ,EAAiBlC,GAAWmC,WAAU,SAAA/B,GAAC,OAAIA,IAAMvO,MAAa,EAWhEuQ,EAAmBtrB,EATE,CACvB8nB,EACAsD,EAAiB,EAAIrtB,EAAO6H,eAC5BmkB,EAAUhsB,EAAOmtB,qBAAuBntB,EAAOwtB,kBAAoB,EAClEjP,GAAkC,QAAnBnZ,EAA2BpF,EAAOyE,mBAAqBzE,EAAOyE,mBAAqB,GAAKzE,EAAOwtB,kBAApG,EACXH,EAAiB,EAAIrtB,EAAO6H,eAC5B7H,EAAOytB,cAGwCplB,QAAO,SAACC,EAAGrJ,GAAJ,OAAUqJ,EAAIrJ,IAAG,GAElD,kBAAZ+sB,IACTuB,GAAoBvB,GAGtB,IAAM0B,EACJ,eAACvkB,GAAA,EAAD,CAAOC,UAAW,EAAGxG,MAAO,CAAEX,OAAQsrB,GAAtC,SACE,eAAC1kB,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEX,OAAQsrB,GAAoBvkB,UAAU,SAASE,WAAW,SAASD,QAAQ,SAASjG,QAAS,EAAtH,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACuP,GAAA,EAAD,CAAkBjV,MAAM,UAAUtC,KAAMysB,EAAmB,EAAGI,UAAW,UAM3EnxB,EACJ,eAAC,WAAD,CAAgBoxB,SAAUF,EAA1B,SACGpW,EAAUoW,EAAU,eAAC7B,GAAD,aAAcjsB,KAAMA,EAAMqC,OAAQsrB,EAAkBlvB,QAASA,EAASyI,aAAchC,GAAW,KAASwnB,MAMjI,OAFAva,EAAKiU,KAAK,CAAEvpB,GAAI,QAASywB,UAAW1wB,EAAOyF,OAAQsrB,IAGjD,uCACGpB,EAAQntB,KAAI,SAACknB,EAAGvmB,GAAJ,OACX,+BAAcumB,GAAJvmB,MAEZ,eAACkJ,GAAA,EAAD,CAAME,WAAS,EAAf,SACGgJ,EAAK/S,KAAI,SAAC6uB,EAAGluB,GAAJ,OACR,eAACkJ,GAAA,EAAD,CAAiBC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEmT,cAAepW,IAAMoS,EAAKhT,OAAS,EAAI,EAAIiB,EAAOwtB,mBAAzF,SACGK,EAAEX,WADMW,EAAEpxB,Y,2MCpJjB6O,GAAO,eAAC,KAAD,CAA0BnH,SAAS,UAC1C2pB,GAAc,eAAC,KAAD,CAAc3pB,SAAS,UAE5B,SAAS4pB,GAAT,GAaX,IAAD,IAZD9xB,aAYC,MAZO,GAYP,MAXD4K,gBAWC,WAXUlK,EAWV,MAVD4O,aAUC,WAVO5O,EAUP,MATDmK,mBASC,WATanK,EASb,MARD4W,iBAQC,aAPDjF,gBAOC,cANDxN,KAMC,EALDwR,cAKC,MALO,GAKP,MAJDL,4BAIC,cAHDnC,aAGC,EAFD2B,mBAEC,WAFY9U,EAEZ,EADEmQ,EACF,mBACKzG,EAAe5E,eAAkB,SAACqN,GAAD,IAAI7S,EAAJ,uDAAY,GAAZ,OAAmB4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOA,EAAM+C,KAAI,SAAAW,GAAC,OAAIA,EAAE1D,cAAa,CAAC4K,IAEjI,OACE,eAACmhB,GAAA,EAAD,aACElnB,KAAK,QACLktB,UAAQ,EACRrG,QAASrV,EACTL,qBAAsBA,EACtBiW,eAAgB,SAAAV,GAAM,OAAIA,EAAOjc,OACjC4c,aAAc,SAACX,EAAD,OAAWxc,EAAX,EAAWA,SAAX,OACZ,uCACE,eAACmX,GAAA,EAAD,CAAU7W,KAAMA,GAAMwiB,YAAaA,GAAalrB,MAAO,CAAE8E,YAAa,GAAKsa,QAAShX,IACnFwc,EAAOjc,UAGZ6c,YAAa,SAAA3C,GAAM,OACjB,eAAC,GAAD,2BACMA,GADN,IAEEla,MAAOA,EACPzE,YAAaA,EACbyM,UAAWA,EACX9B,WAAU,kCAAOgU,QAAP,IAAOA,OAAP,EAAOA,EAAQhU,YAAeA,GACxC+B,gBAAiB,CACfC,QAAQ,IAEN3G,KAIRwB,SAAUA,EACVrS,MAAOqW,EAAM3T,QAAO,SAAAgB,GAAC,OAAI1D,EAAMud,SAAS7Z,EAAE1D,UAC1C4K,SAAUR,GACNyG,I,kDCpDK,SAASmhB,GAAT,GAAgF,IAAlD9e,EAAiD,EAAjDA,OAAQjB,EAAyC,EAAzCA,OAAQoD,EAAiC,EAAjCA,SAAUiC,EAAuB,EAAvBA,UAAclS,EAAS,mBACtFwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,KAC7H,OACE,gBAACwH,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,KAA3B,SACG6X,EAAY,eAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACG6W,EAAY,eACZA,EAAY,WACZA,EAAY,mBCfR,WAA0B,8CCA1B,OAA0B,wCCA1B,OAA0B,gCCG1B,SAASqU,GAAT,GAAoC,IAAhB3iB,EAAe,EAAfA,MAAOD,EAAQ,EAARA,KACxC,OACE,gBAACzC,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKlG,MAAO,CAAEX,OAAQ,IAAMkc,IAAK7S,EAAM8S,IAAK7S,MAE9C,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC/B,GAAA,EAAD,UAAaiE,SCPrB,IAae4iB,GAbO,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,IAAK7iB,EAAY,EAAZA,MACtB8iB,EAAa5sB,eAAkB,WACzB6sB,OAAOrhB,KAAKmhB,EAAK,UACvBloB,UACH,CAACkoB,IAEJ,OACE,eAAC/M,GAAA,EAAD,CAAMvd,UAAU,SAASqD,QAASknB,EAAYzrB,MAAO,CAAE4e,OAAQ,WAA/D,SACGjW,K,8BCCQgjB,G,qFAAf,WAA0B3C,EAAOvvB,GAAjC,kBAAAkM,EAAA,sEACyBimB,KAAMrH,IAAN,UAAasH,KAAb,kBAAyC7C,EAAzC,iBAAuDvvB,IADhF,uBACUK,EADV,EACUA,KADV,kBAESA,GAFT,4C,sBAKA,IAAMgF,GAAYC,cAAW,SAAC2K,GAAD,MAAiB,CAC5CpJ,KAAM,CACJf,SAAU,GAEZmI,QAAS,CACPA,QAASgC,EAAMtJ,QAAQ,IAEzBiH,KAAM,CACJpH,gBAAiB,WAEnB+I,IAAK,CACH+J,cAAe,OACftR,WAAYiI,EAAMrJ,WAAWyrB,kBAC7BvqB,SAAUmI,EAAMrJ,WAAWmB,QAAQ,IACnCsD,YAAa4E,EAAMtJ,QAAQ,GAC3B,UAAW,CACT2J,QAAS,IAGbxC,UAAW,CACT9H,QAAS,OACToI,eAAgB,SAChB5H,gBAAiB,cACjB,UAAW,CACTb,MAAO,OACPa,gBAAiByJ,EAAMvJ,QAAQS,QAAQwS,YAKvC2Y,GAAW,CACfC,IAAK,cACLC,QAAS,oBACTC,IAAK,OAGDC,GAAU,CACdH,IAAKI,GACLH,QAASI,GACTH,IAAKI,IAGDC,GAAS,CACbP,IAAK,aACLC,QAAS,eACTC,IAAK,YAGMM,GAAkB,SAAC,GAAiE,IAA/D7yB,EAA8D,EAA9DA,MAAO2R,EAAuD,EAAvDA,OAAQ2L,EAA+C,EAA/CA,YAAa1K,EAAkC,EAAlCA,OAAQP,EAA0B,EAA1BA,UAAWS,EAAe,EAAfA,SACzE7M,EAAUd,KAEV2E,EAAesI,GAAgBC,GAC/BygB,EAAoBlgB,EAAOyF,MAAK,SAAA3G,GAAC,MAAa,iBAATA,EAAExR,MACvC6yB,EAAkBngB,EAAOyF,MAAK,SAAA3G,GAAC,MAAa,eAATA,EAAExR,MAErC8yB,EAAcC,YAAoBthB,EAAOrR,aAAa4yB,aACtDC,EAAaC,YAAkBzhB,EAAOrR,aAAa+yB,SAEnDC,EAAmBpuB,IAAMmI,aAAY,WAAM,8CAC/C,+BAAArB,EAAA,mEAEmC,IAA3B8mB,EAAkBS,MAAkBtwB,YAAQ+vB,GAFpD,gCAG4BhB,GAAWgB,EAAa,UAHpD,OAGYQ,EAHZ,OAIM1pB,EAAagpB,EAAbhpB,CAAgC,CAAEC,OAAQ,CAAErK,MAAO8zB,KAJzD,WAMiC,IAAzBT,EAAgBQ,MAAkBtwB,YAAQkwB,GANlD,iCAOiCnB,GAAWmB,EAAY,SAPxD,OAOYM,EAPZ,OAQM3pB,EAAaipB,EAAbjpB,CAA8B,CAAEC,OAAQ,CAAErK,MAAO+zB,KARvD,QAUI3gB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAV1C,kDAYIjI,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAZ1C,2DAD+C,sBAgB/CjI,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAhBU,WAAD,wBAiB/C2Y,KACC,CAACV,EAAaG,EAAYrgB,EAAUhJ,EAAcgpB,EAAmBC,IAExE7tB,IAAMkP,WAAU,aACZnR,YAAQ+vB,KAAiB/vB,YAAQkwB,KAAgBG,MAClD,CAACA,EAAkBN,EAAaG,IAEnC,IAAQpY,EAAY/a,EAAZ+a,QAER,EAAsB7V,IAAMyO,SAAS,GAArC,oBAAOtE,EAAP,KAAYskB,EAAZ,KAMA,OACE,uBAAKvtB,UAAWH,EAAQU,KAAxB,UACE,uBAAKP,UAAWH,EAAQyH,KAAxB,UACE,eAACkB,GAAA,EAAD,CACE3I,QAAS,CAAE2H,UAAW3H,EAAQ2H,WAC9BlO,MAAO2P,EACP/E,SAVgB,SAACf,EAA8B4c,GACrDwN,EAAOxN,IAUD,aAAW,sBACXyN,kBAAmB,CAAE5tB,SAAU,0BALjC,SAOG2L,EAAOrR,aAAauzB,UAAUpxB,KAAI,SAAAusB,GAAC,OAClC,eAAClgB,GAAA,EAAD,CAAa1I,UAAWH,EAAQoJ,IAAKL,MAAO,eAAC2iB,GAAD,CAAU3iB,MAAOojB,GAASpD,GAAIjgB,KAAMyjB,GAAQxD,KAAQ8E,eAAa,GAAnG9E,QAGd,eAACjkB,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8H,aAEhC4D,EAAOrR,aAAauzB,UAAUpxB,KAC7B,SAACusB,EAAG5rB,GAAJ,OACEiM,IAAQjM,IACP2X,GAAW,+BAAoB,QAANiU,EAAc,eAAC,GAAD,CAAe6C,IAAKlgB,EAAOrR,aAAayzB,QAAS/kB,MAAO,kBAAsBsO,EAAYsV,GAAO5D,KAAnHA,U,6ECxHjB,SAASgF,GAAT,GAAyG,IAAD,EAA7EphB,EAA6E,EAA7EA,OAAQjB,EAAqE,EAArEA,OAAQoD,EAA6D,EAA7DA,SAAUiC,EAAmD,EAAnDA,UAAW3E,EAAwC,EAAxCA,UAAWrS,EAA6B,EAA7BA,MAAO8S,EAAsB,EAAtBA,SAAahO,EAAS,mBAC/GwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,KACvH+uB,EAAS,UAAGliB,EAAOgX,KAAOroB,cAAcuzB,iBAA/B,QAA4C,GAE3D,OACE,gBAACvnB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE4I,SAAU,KAAjC,SACE,eAAC,GAAD,CAAiBjP,MAAOA,EAAO2R,OAAQA,EAAQ2L,YAAaA,EAAa1K,OAAQA,EAAQP,UAAWA,EAAWS,SAAUA,MAE3H,eAACxG,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACwB,IAArBotB,EAAUrxB,QAAiC,QAAjBqxB,EAAU,IACnC,uCACGvW,EAAY,QACZA,EAAY,cAGhBA,EAAY,cACZA,EAAY,SACZA,EAAY,kBACZA,EAAY,mBACZA,EAAY,YACZA,EAAY,eACZA,EAAY,QACZA,EAAY,UACZA,EAAY,mBC/BR,WAA0B,iCCMnCnY,GAAYC,cAAW,kBAC3BC,aAAa,CACXsB,KAAM,GACNoS,OAAQ,CACNrT,OAAQ,GACRD,MAAO,UAKE,SAASwuB,GAAT,GAAkC,IAAXC,EAAU,EAAVA,OAC9BjuB,EAAUd,GAAU,IACpB4K,EAAQ5J,eACd,EAA0BjB,WAAe,GAAzC,oBAAOlD,EAAP,KAAcmyB,EAAd,KAEMC,EAAalvB,eAAkB,kBAAMivB,GAAS,SAAA5iB,GAAI,OAAIA,EAAO,OAAI,CAAC4iB,IAClEE,EAAanvB,eAAkB,kBAAMivB,GAAS,SAAA5iB,GAAI,OAAIA,EAAO,OAAI,CAAC4iB,IAElEhsB,GAAU8B,aAAc,MAE9B,OACE,uCACE,gBAACqC,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACO,GAAI,GAAIJ,QAAQ,gBAAgBC,WAAW,SAASlG,QAAS,EAAlF,UACE,eAAC6F,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACG,QAAQ,SAASI,IAAE,EAAxC,SACE,eAACqQ,GAAA,EAAD,CACEpL,SAAU/P,GAAS,EACnBoE,UAAWH,EAAQ8S,OACnBxU,KAAK,QACLyG,QAAQ,WACR2K,QAAQ,yBACRjN,KAAM,KACNkC,QAASypB,EACTC,cAAevkB,EAAMvJ,QAAQyV,KAAKlK,SARpC,oBAaD5J,GACC,eAACmE,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,gBAAjC,UACG7E,EAAQ,EADX,OACkBkyB,EAAO1xB,YAI7B,eAAC8J,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACG,QAAQ,SAASI,IAAE,EAAxC,SACE,eAACqQ,GAAA,EAAD,CACEpL,SAAU/P,GAASkyB,EAAO1xB,OAAS,EACnC4D,UAAWH,EAAQ8S,OACnBxU,KAAK,QACLyG,QAAQ,WACR2K,QAAQ,qBACRjN,KAAM,KACNkC,QAASwpB,EACTE,cAAevkB,EAAMvJ,QAAQyV,KAAKlK,SARpC,uBAcJ,eAACsO,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACvR,GAAA,EAAD,MAEF,eAACrP,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACO,GAAI,GAAIJ,QAAQ,SAArC,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACK,GAAA,EAAD,UACE,sBAAKvG,MAAO,CAAEZ,MAAO,QAAUmc,IAAKsS,EAAOlyB,GAAQ6f,IAAG,gBAAW7f,cCjEtE,IAAMyF,GAAQ,cAEN,SAAS8sB,GAAT,GAA4C,IAAD,IAAdr0B,UAAc,MAATuH,GAAS,EACxD,EAAiCqT,aAAe5a,GAAhD,uBAASiT,cACT,QADA,MAAyB,GAAzB,GACQ+gB,cAAR,MAAiB,GAAjB,EACA,OACE,qCACE,eAAC,GAAD,CAAeh0B,GAAIA,EAAIuH,MAAOvH,EAAIoa,YAAa,KAAMF,YAAY,QAAQnL,SAAS,KAAlF,SACE,eAAC2M,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,eAACoY,GAAD,CAAaC,OAAQA,UC0C/B,IA0DeM,GA1DM,SAAC,GAAyC,IAAD,IAAtC90B,aAAsC,MAA9B,GAA8B,EAC5D,EAAsHA,EAA9GqP,YAAR,MAAemS,GAAf,EAAqBzZ,EAAiG/H,EAAjG+H,MAAOgtB,EAA0F/0B,EAA1F+0B,UAAWhwB,EAA+E/E,EAA/E+E,YAAaiwB,EAAkEh1B,EAAlEg1B,SAAUC,EAAwDj1B,EAAxDi1B,UAAWC,EAA6Cl1B,EAA7Ck1B,KAAMC,EAAuCn1B,EAAvCm1B,YAAahD,EAA0BnyB,EAA1BmyB,IAA5F,EAAsHnyB,EAArBo1B,mBAAjG,MAA+G,GAA/G,EAEA,OACE,uCACE,gBAACxoB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKlG,MAAO,CAAEX,OAAQ,KAAOkc,IAAK7S,EAAM8S,IAAI,WAE9C,eAACvV,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BvD,MAE5B,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmC4tB,MAErC,eAACnoB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,UACG0pB,EADH,aACuBC,GAAa,sBADpC,IAC4DC,GAAQ,UADpE,IACgFC,GAAe,uBAGjG,eAACvoB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CAAeslB,IAAKA,EAAK7iB,MAAO,gCAEjC8lB,EAAYtyB,OAAS,GACpB,uCACE,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAAV,eACA,eAACD,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CACEwH,OAAQ4P,EACRhwB,KAAK,QACLyG,QAAQ,OACR+pB,YAAY,UACZxtB,UAAU,SACVoO,QAAQ,gBACRjN,KAAM,KACNyK,cAAe,CAAE+gB,OAAQY,GAR3B,gDAoBhB,eAACzU,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,UAAatG,UCRNuwB,GA1DI,SAAC,GAAuC,IAAD,IAApCt1B,aAAoC,MAA5B,GAA4B,EACxD,EAAoFA,EAA5EqP,YAAR,MAAemS,GAAf,EAAqBzZ,EAA+D/H,EAA/D+H,MAAOgtB,EAAwD/0B,EAAxD+0B,UAAWhwB,EAA6C/E,EAA7C+E,YAAamwB,EAAgCl1B,EAAhCk1B,KAAM/C,EAA0BnyB,EAA1BmyB,IAA1D,EAAoFnyB,EAArBo1B,mBAA/D,MAA6E,GAA7E,EAEA,OACE,uCACE,gBAACxoB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKlG,MAAO,CAAEX,OAAQ,KAAOkc,IAAK7S,EAAM8S,IAAI,WAE9C,eAACvV,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BvD,MAE5B,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmC4tB,MAErC,eAACnoB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,SACG4pB,GAAQ,WAGb,eAACtoB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CAAeslB,IAAKA,EAAK7iB,MAAO,0BAEjC8lB,EAAYtyB,OAAS,GACpB,uCACE,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAAV,eACA,eAACD,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CACEwH,OAAQ4P,EACRhwB,KAAK,QACLyG,QAAQ,OACR+pB,YAAY,UACZxtB,UAAU,SACVoO,QAAQ,gBACRjN,KAAM,KACNyK,cAAe,CAAE+gB,OAAQY,GAR3B,gDAoBhB,eAACzU,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,UAAatG,U,oIC1FfwwB,GAAc,SAAC5f,EAAKC,EAAK5V,GAAX,OACjB+S,YAAW/S,GAA+HA,EAArHw1B,YAAU7f,IAAQ8f,OAAOz1B,GAASy1B,OAAO9f,GAAOA,EAAM6f,YAAU5f,IAAQ6f,OAAOz1B,GAASy1B,OAAO7f,GAAOA,EAAM5V,GAEpI,SAAS01B,GAAT,GAAuG,IAA1ElsB,EAAyE,EAAzEA,SAAUoB,EAA+D,EAA/DA,SAAU+K,EAAqD,EAArDA,IAAKC,EAAgD,EAAhDA,IAAgD,IAA3C+f,yBAA2C,WAAvBj1B,EAAuB,EAATmQ,EAAS,mBACpG,OACE,eAAC,KAAD,aACE+kB,YAAapsB,EACbqsB,cAAe,SAAA5jB,GACbrH,EAAS,CACPP,OAAQ,CACNrK,MAAOu1B,GAAY5f,EAAKC,EAAK3D,EAAOjS,WAI1C81B,aAAc,EACdC,eAAe,EACfJ,kBAAmBA,EACnBK,iBAAe,GACXnlB,IAKK,SAASolB,GAAT,GAA6H,IAAD,IAArGzgB,kBAAqG,WAAxF9U,EAAwF,MAA7E+U,kBAA6E,WAAhE/U,EAAgE,EAArDiV,EAAqD,EAArDA,IAAKC,EAAgD,EAAhDA,IAAgD,IAA3C+f,yBAA2C,WAAvBj1B,EAAuB,EAATmQ,EAAS,mBACzI,OACE,eAAC,GAAD,aACE2E,WAAU,aACR0gB,eAAgBR,IACblgB,GAELC,WAAU,aACRE,MACAC,MACA+f,qBACGlgB,IAED5E,I,6FCuDKslB,GA3FW,SAAC,GASpB,IAAD,IARJn2B,aAQI,WARIU,EAQJ,MAPJiV,WAOI,WAPEjV,EAOF,MANJkV,WAMI,WANElV,EAMF,MALJgV,YAKI,MALG,EAKH,MAJJrD,gBAII,aAHJzH,gBAGI,WAHOlK,EAGP,MAFJ8U,kBAEI,WAFS9U,EAET,EADDmQ,EACC,mBACEulB,EAAW5wB,eAAkB,WAC5B6wB,MAAM3gB,KACJ2gB,MAAMr2B,GAaJq2B,MAAM1gB,GAGT/K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO,KAFxC4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO2V,UAZ9BjV,IAARkV,GAAsBygB,MAAMzgB,IAC1B6f,OAAOz1B,GAASy1B,OAAO/f,IAAS+f,OAAO7f,GAM3ChL,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOy1B,OAAOz1B,GAASy1B,OAAO/f,MAH7D9K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO2V,QAc/C,CAAC3V,EAAO4V,EAAKD,EAAKD,EAAM9K,IAErB0rB,EAAa9wB,eAAkB,WAC9B6wB,MAAM3gB,KACJ2gB,MAAMr2B,GAaJq2B,MAAM1gB,GAGT/K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO,KAFxC4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO2V,UAZ9BjV,IAARiV,GAAsB0gB,MAAM1gB,IAC1B8f,OAAOz1B,GAASy1B,OAAO/f,IAAS+f,OAAO9f,GAM3C/K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOy1B,OAAOz1B,GAASy1B,OAAO/f,MAH7D9K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAO4V,QAc/C,CAAC5V,EAAO2V,EAAKC,EAAKF,EAAM9K,IAE3B,OACE,eAACqrB,GAAD,aACEtgB,IAAKA,EACLC,IAAKA,EACLF,KAAMA,EACNrD,SAAUA,EACVzH,SAAUA,EACV5K,MAAOA,EACPwV,WAAU,2BACLA,GADK,IAERxK,aACE,uCACGwK,GAAcA,EAAWxK,aAC1B,gBAAC4B,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEZ,MAAO,GAAI0F,aAAc,GAAlD,UACE,eAACmB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACnC,GAAA,EAAD,CAAYoH,SAAUA,EAAU,aAAW,KAAK1L,MAAO,CAAE2B,WAAY,EAAGZ,cAAe,GAAK7C,KAAK,QAAQqG,QAASkrB,EAAlH,SACE,eAAC,KAAD,CAAmBluB,SAAS,gBAGhC,eAAC0E,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACnC,GAAA,EAAD,CAAY,aAAW,OAAOtE,MAAO,CAAE2B,WAAY,EAAGZ,cAAe,GAAK7C,KAAK,QAAQwN,SAAUA,EAAUnH,QAASorB,EAApH,SACE,eAAC,KAAD,CAAqBpuB,SAAS,yBAOtC2I,K,yHCrCK0lB,GAhDQ,SAAC,GAWjB,IAAD,IAVJv2B,aAUI,MAVI,GAUJ,MATJqX,cASI,MATK,QASL,MARJ/L,eAQI,MARM,WAQN,MAPJ4L,wBAOI,aANJjH,aAMI,WANIvP,EAMJ,OALJmT,aAKI,EAJJ2B,mBAII,WAJS9U,EAIT,MAHJ2R,gBAGI,WAHO3R,EAGP,MAFJ4W,iBAEI,WAFQ5W,EAER,EADDmQ,EACC,mBAKEuhB,EAAaoE,aAAcx2B,GAEjC,OACE,eAACmX,GAAA,EAAD,aACEnX,MAAOA,EACPiQ,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,EAC9CoH,OAAQA,EACR/L,QAASA,EACTgM,UAAWA,EACX3Q,MAAO,CAAEZ,MAAO,KAChBwR,gBAAiB,CACfC,QAAQ,GAEVhC,WAAU,aACRxK,aACE,eAAC,KAAD,CAASjD,MAAM,gBAAf,SACE,eAACgD,GAAA,EAAD,CAAgBjF,SAAS,MAAzB,SACE,eAACmF,GAAA,EAAD,CAAYoH,SAAU9O,YAAQvD,GAAQ,aAAW,YAAYkL,QAASknB,EAAYqE,YAtBtE,SAAA5sB,GACtBA,EAAME,kBAqBoH2a,KAAK,MAArH,SACE,eAAC,KAAD,WAKLlP,GAELnD,SAAUA,GACNxB,K,gCC3CJpL,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAS4vB,EAAZ,EAAYA,MAAZ,OAC3B/wB,aAAa,CACXsB,KAAM,CACJnB,SAAU,WACVC,MAAO,QAET+G,UAAW,CACThH,SAAU,YAEZ6T,QAAS,CACP1L,UAAW,GACXhG,YAAa,GACbN,aAAc,GACdkS,WAAY,EACZC,cAAe,EACf/L,aAAc2oB,EAAM3oB,aACpB4oB,YAA8B,UAAjB7vB,EAAQ1G,KAAmB,sBAAwB,4BAChE,UAAW,CACTu2B,YAAa7vB,EAAQyV,KAAKhV,UAG9BqvB,WAAY,CACV9wB,SAAU,WACVuU,KAAM,EACND,IAAK,EAELyc,UAAW,+BAEbC,eAAgB,gBAAG7mB,EAAH,EAAGA,MAAH,MAAqB,CACnC0mB,YAAa3hB,YAAQ/E,GAASnJ,EAAQmJ,MAAMzI,KAAO,iBAM1C,SAASuvB,GAAT,GAUX,IAAD,IATDznB,aASC,MATO,GASP,MARDW,aAQC,WAROvP,EAQP,MAPDqF,aAOC,WAPOrF,EAOP,MAND6O,gBAMC,WANU7O,EAMV,MALD2W,cAKC,WALQ3W,EAKR,MAJD4H,iBAIC,WAJW5H,EAIX,MAHDgH,oBAGC,WAHchH,EAGd,MAFDsF,cAEC,WAFQtF,EAER,MADD4F,gBACC,WADU5F,EACV,EACK6F,EAAUd,GAAU,CAAEwK,UAC5B,EAAoCzK,IAAMyO,SAAS,GAAnD,oBAAO+iB,EAAP,KAAmBC,EAAnB,KACMC,EAAW1xB,IAAM2xB,OAAO,MAM9B,OALA3xB,IAAMkP,WAAU,WACd,IAAM0iB,EAAiBC,IAASC,YAAYJ,EAASltB,SACrDitB,EAA2B,MAAbG,EAAoBA,EAAUG,YAAc,KACzD,CAACjoB,IAGF,uBAAK5I,UAAWH,EAAQU,KAAMN,MAAO,CAAEZ,QAAOwJ,WAAU8H,SAAQ/O,YAAWZ,eAAc1B,UAAzF,UACE,eAACwxB,GAAA,EAAD,CAAYjT,IAAK2S,EAAUO,QAASnoB,EAAOhE,QAAQ,WAAW5E,UAAWH,EAAQqwB,WAAYpf,QAAM,EAAnG,SACGlI,IAEH,sBAAK5I,UAAWH,EAAQuG,UAAxB,SACE,gBAACF,GAAA,EAAD,CAAME,WAAS,EAACtM,GAAI8O,EAAO5I,UAAWH,EAAQoT,QAAS1M,WAAW,SAAlE,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACG9G,IAEH,eAAC,KAAD,CAAgBI,UAAWH,EAAQuwB,eAAgBY,SAAO,EAACV,WAAYA,Y,0BC3DlEW,GATMlP,cAAW,SAACpY,GAAD,MAAmB,CACjD4F,QAAQ,2BACH5F,EAAMrJ,WAAW4wB,OADf,IAELhxB,gBAAiByJ,EAAMvJ,QAAQM,OAAOC,MACtCF,MAAOkJ,EAAMvJ,QAAQyV,KAAKhV,QAC1BswB,UAAWxnB,EAAMynB,QAAQ,QALRrP,CAOjBsP,M,8ICqDWC,GAxDD,SAAC,GAeR,IAAD,IAdJ1oB,aAcI,MAdI,GAcJ,MAbJhE,eAaI,WAbM5K,EAaN,MAZJmE,YAYI,MAZG,QAYH,MAXJsC,aAWI,MAXI,UAWJ,MAVJ8I,aAUI,WAVIvP,EAUJ,MATJV,aASI,WATIU,EASJ,MARJuV,eAQI,WARMvV,EAQN,MAPJ2W,cAOI,MAPK,QAOL,MANJ4gB,sBAMI,MANa,QAMb,MALJrtB,gBAKI,WALOlK,EAKP,MAJJwW,wBAII,SADDrG,GACC,EAHJzQ,KAGI,EAFJyT,aAEI,oBACEzJ,EAAe5E,eAAkB,SAAAxF,GAAK,OAAI,kBAAM4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,cAAY,CAAC4K,IAE9F4R,EACJ,eAAC5P,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BgE,MAIjC,OACE,gBAAC7E,GAAA,EAAD,CAAaa,QAASA,EAAS2E,MAAO+E,YAAQ/E,GAAQqH,WAAS,EAACD,OAAQA,EAAxE,UACE,gBAACzK,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAASlG,QAAS,EAArE,UACsB,UAAnBkxB,GAA8Bzb,EAC/B,eAAC5P,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAWC,WAAW,SAASlG,QAAS,EAAhE,UACGkP,GACC,eAACrJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CAAc9E,MAAOkO,EAArB,SACE,eAAC,KAAD,CAAoB/N,SAAS,QAAQf,MAAM,gBAIjD,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAAC,KAAD,yBAAahI,KAAMA,EAAMsC,MAAOA,EAAO,uBAAemI,EAAf,kBAAyCuB,GAAhF,cACE,eAACwL,GAAA,EAAD,CAAQ/Q,QAAS4sB,YAAOl4B,GAAS,iBAAcU,EAAWwK,QAASd,GAAa,GAAhF,iBAGA,eAACiS,GAAA,EAAD,CAAQ/Q,QAAS6sB,YAAQn4B,GAAS,iBAAcU,EAAWwK,QAASd,GAAa,GAAjF,2BAOY,QAAnB6tB,GAA4Bzb,MAE7BtF,GAAoBjH,IAAU,eAACmW,GAAA,EAAD,UAAiBnW,Q,wICJxCmoB,GA/CI,SAAC,GAab,IAAD,IAZJ9oB,aAYI,MAZI,GAYJ,MAXJvK,mBAWI,WAXUrE,EAWV,MAVJ2V,aAUI,MAVI,GAUJ,MATJ/K,eASI,WATM5K,EASN,OARJmE,KAQI,EAPJsC,MAOI,EANJ8I,cAMI,WANIvP,EAMJ,MALJwW,wBAKI,aAJJlX,aAII,MAJI,GAIJ,MAHJqX,cAGI,MAHK,QAGL,MAFJzM,gBAEI,WAFOlK,EAEP,EADDmQ,EACC,mBACEzG,EAAe5E,eACnB,SAAAP,GAAG,OAAI,SAAA4E,GACL,IAAM2c,EAAY3c,EAAMQ,OAAOrK,MAC/B4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOk4B,YAAO1R,GAAa,sBAAIxmB,GAAJ,CAAWiF,IAAKvC,OAAOC,KAAc3C,EAAM0C,QAAO,SAAAgkB,GAAC,OAAIA,IAAMzhB,WAE3H,CAACjF,EAAO4K,IAGJmH,EAAW,SAAA9M,GAAG,OAAIjF,EAAMud,SAAStY,IAEvC,OACE,eAACwF,GAAA,EAAD,CAAaa,QAASA,EAAS2E,MAAO+E,YAAQ/E,GAAQqH,WAAS,EAACD,OAAQA,EAAxE,SACE,eAAC0f,GAAD,CAAaznB,MAAOA,EAApB,SACE,gBAACqR,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,UACGzoB,GACC,eAACsG,GAAA,EAAD,CAAYgtB,WAAW,EAAMlxB,MAAM,gBAAgBmE,QAAQ,UAA3D,SACGvG,IAGJsR,EACE3T,QAAO,SAAAgB,GAAC,OAAKc,YAASd,EAAE+E,OAAQzI,MAChC+C,KAAI,gBAAGuM,EAAH,EAAGA,MAAcrK,EAAjB,EAAUjF,MAAes4B,EAAzB,0BACH,+BACE,eAAC,GAAD,yBAAOhpB,MAAOA,EAAOtP,MAAO+R,EAAS9M,GAAM2F,SAAUR,EAAanF,IAAU4L,GAAWynB,KAD/ErzB,OAIZiS,GAAoBjH,IAAU,eAACmW,GAAA,EAAD,UAAiBnW,Y,6ECtC5C,SAASsoB,GAAT,GAAqG,IAA9ErlB,EAA6E,EAA7EA,OAAQjB,EAAqE,EAArEA,OAAQoD,EAA6D,EAA7DA,SAAUiC,EAAmD,EAAnDA,UAAW3E,EAAwC,EAAxCA,UAAWrS,EAA6B,EAA7BA,MAAO8S,EAAsB,EAAtBA,SAAahO,EAAS,mBAC3GwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,KACvHozB,EAAYvmB,EAAOrR,aAAa43B,WAAa,GAEnD,OACE,gBAAC5rB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE4I,SAAU,KAAjC,SACE,eAAC,GAAD,CAAiBjP,MAAOA,EAAO2R,OAAQA,EAAQ2L,YAAaA,EAAa1K,OAAQA,EAAQP,UAAWA,EAAWS,SAAUA,MAE3H,eAACxG,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,eAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACoL,GAAA,EAAD,CAAUC,GAAI+f,EAAUjb,SAAS,sBAAjC,SACE,eAACwZ,GAAD,CAAaznB,MAAM,+BAAnB,SACE,gBAAC1C,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASD,QAAQ,gBAAgBjG,QAAS,EAArE,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,2DAEF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAWC,WAAW,SAASlG,QAAS,EAAhE,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CACE9E,MACE,yIAFJ,SAKE,eAAC,KAAD,CAAoBG,SAAS,QAAQf,MAAM,gBAG/C,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,IAA3B,SACG6X,EAAY,wC,iFCjCtB,SAAS6a,GAAT,GAAgH,IAA9EvlB,EAA6E,EAA7EA,OAAQjB,EAAqE,EAArEA,OAAQoD,EAA6D,EAA7DA,SAAUiC,EAAmD,EAAnDA,UAAW3E,EAAwC,EAAxCA,UAAWrS,EAA6B,EAA7BA,MAAO8S,EAAsB,EAAtBA,SAAahO,EAAS,mBACtHwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,KACvHszB,EAAsBzmB,EAAOrR,aAAa83B,qBAAuB,GAEvE,OACE,gBAAC9rB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE4I,SAAU,KAAjC,SACE,eAAC,GAAD,CAAiBjP,MAAOA,EAAO2R,OAAQA,EAAQ2L,YAAaA,EAAa1K,OAAQA,EAAQP,UAAWA,EAAWS,SAAUA,MAE3H,eAACxG,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACGwQ,EAAY,yBAEf,eAAChR,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACoL,GAAA,EAAD,CAAUC,GAAIigB,EAAoBnb,SAAS,sBAA3C,SACE,eAACwZ,GAAD,CAAaznB,MAAM,qBAAnB,SACG,CACC,CAAE9O,GAAI,qBAAsB8O,MAAO,2CACnC,CAAE9O,GAAI,yBAA0B8O,MAAO,GAAIvJ,MAAO,KAClD,CACEvF,GAAI,oBACJ8O,MAAO,iDACP2G,QAAQ,+OAEV,CAAEzV,GAAI,kBAAmB8O,MAAO,uCAChC,CAAE9O,GAAI,sBAAuB8O,MAAO,GAAIvJ,MAAO,KAC/C,CACEvF,GAAI,iBACJ8O,MAAO,8CACP2G,QAAQ,6OAEVlT,KAAI,gBAAGuM,EAAH,EAAGA,MAAO9O,EAAV,EAAUA,GAAV,IAAcuF,aAAd,MAAsB,GAAtB,EAA0BkQ,EAA1B,EAA0BA,QAA1B,OACJ,gBAACrJ,GAAA,EAAD,CAAeE,WAAS,EAACG,WAAW,SAASD,QAAQ,gBAAgBjG,QAAS,EAA9E,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,UAAaiE,MAEf,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAWC,WAAW,SAASlG,QAAS,EAAhE,UACGkP,GACC,eAACrJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CAAc9E,MAAOkO,EAArB,SACE,eAAC,KAAD,CAAoB/N,SAAS,QAAQf,MAAM,gBAIjD,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,SAApB,SACG6X,EAAYpd,YAdVA,oB,iFCpCd,SAASm4B,GAAT,GAAgG,IAA9EzlB,EAA6E,EAA7EA,OAAQjB,EAAqE,EAArEA,OAAQoD,EAA6D,EAA7DA,SAAUiC,EAAmD,EAAnDA,UAAW3E,EAAwC,EAAxCA,UAAWrS,EAA6B,EAA7BA,MAAO8S,EAAsB,EAAtBA,SAAahO,EAAS,mBACtGwY,EAAc,SAAApd,GAAE,OAAI,eAAC,GAAD,aAAaA,GAAIA,EAAI0S,OAAQA,EAAQjB,OAAQA,EAAQoD,SAAUA,EAAUiC,UAAWA,GAAelS,KAE7H,OACE,gBAACwH,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE4I,SAAU,KAAjC,SACE,eAAC,GAAD,CAAiBjP,MAAOA,EAAO2R,OAAQA,EAAQ2L,YAAaA,EAAa1K,OAAQA,EAAQP,UAAWA,EAAWS,SAAUA,MAE3H,eAACxG,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,eAAC3C,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACG6W,EAAY,iBCavB,IA2Ve9G,GA3VD,eAAC1W,EAAD,4DAAQM,EAAWD,EAAnB,uDAA0B,GAA1B,MAAiC,CAC7C,CACE6O,MAAO,6FACPspB,SAAU5G,GACV9e,OAAQ,CACN,CACE1S,GAAI,YACJ8O,MAAO,YACP4I,MAAO2gB,GACPxiB,MAAOkS,KAAUxlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,YAC/CgG,UAAU,EACVzB,aAAuB,QAATzT,EAAiBmoB,UAAY7nB,GAE7C,CACEF,GAAI,cACJ8O,MAAO,yCACPgG,UAAU,EACVoB,MAAM,EACNrD,SAAU,SAAApB,GACR,IAAM6mB,EAAQr4B,EAAKsC,KAAI,SAAAknB,GAAC,sBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAGwG,mBAAP,iBAAI,EAAgB+C,mBAApB,aAAI,EAA6BuF,iBACnDv3B,EAAOyQ,EAAOrR,aAAP,YACb,MAAa,QAATR,IAAmBmD,YAAQ/B,IAASs3B,EAAMngB,MAAK,SAAAqgB,GAAE,OAAIA,IAAOx3B,EAAKu3B,iBAC5D,sCAEFx1B,YAAQgwB,YAAoB/xB,KAAU,yDAE/CiH,OAAQ,SAAAwJ,GAAM,gBAAM8G,MAAM4S,QAAN,UAAc1Z,EAAOgX,KAAOroB,qBAA5B,aAAc,EAA6BuzB,YAA3C,UAAyDliB,EAAOgX,KAAOroB,qBAAvE,OAAyD,EAA6BuzB,UAAU5W,SAAS,cAE/H,CACE/c,GAAI,UACJ8O,MAAO,2CACPgG,UAAU,EACVoB,MAAM,EACNrD,SAAU,SAAApB,GACR,IAAM6mB,EAAQr4B,EAAKsC,KAAI,SAAAknB,GAAC,sBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAGwG,mBAAP,iBAAI,EAAgBkD,eAApB,aAAI,EAAyBoF,iBAC/Cv3B,EAAOyQ,EAAOrR,aAAP,QACb,MAAa,QAATR,IAAmBmD,YAAQ/B,IAASs3B,EAAMngB,MAAK,SAAAqgB,GAAE,OAAIA,IAAOx3B,EAAKu3B,iBAC5D,sCAEFx1B,YAAQmwB,YAAkBlyB,KAAU,yDAE7CiH,OAAQ,SAAAwJ,GAAM,gBAAM8G,MAAM4S,QAAN,UAAc1Z,EAAOgX,KAAOroB,qBAA5B,aAAc,EAA6BuzB,YAA3C,UAAyDliB,EAAOgX,KAAOroB,qBAAvE,OAAyD,EAA6BuzB,UAAU5W,SAAS,UAE/H,CACE/c,GAAI,UACJ8O,MAAO,wBACPgG,UAAU,EACVoB,MAAM,EACNjO,OAAQ,SAAAwJ,GAAM,gBAAM8G,MAAM4S,QAAN,UAAc1Z,EAAOgX,KAAOroB,qBAA5B,aAAc,EAA6BuzB,YAA3C,UAAyDliB,EAAOgX,KAAOroB,qBAAvE,OAAyD,EAA6BuzB,UAAU5W,SAAS,WAE/Hxa,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,yDACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,GACPjB,MAAM,GAER,CACErzB,GAAI,aACJ0X,MAAOod,GACPzB,MAAM,GAER,CACErzB,GAAI,OACJ8O,MAAO,QAET,CACE9O,GAAI,UACJ8O,MAAO,WAET,CACE9O,GAAI,QACJ8O,MAAO,OACP4I,MAAOkgB,GACP/hB,MAAO4iB,MAET,CACEz4B,GAAI,iBACJ8O,MAAO,qBACPvK,YACE,6UACFmT,MAAOkgB,GACP/hB,MAAO6iB,MAET,CACE14B,GAAI,aACJ8O,MAAO,uBACP4I,MAAO2gB,GACPxiB,MAAOwR,KAAW9kB,KAAI,SAAA/C,GAAK,MAAK,CAAEA,QAAOsP,MAAOtP,MAChDsV,UAAU,IAEZvS,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,8DACPspB,SAAUL,GACVrlB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,YACJ8O,MAAO,qBACP4I,MAAOkgB,GACP/hB,MAAO8iB,MAET,CACE34B,GAAI,eACJ8O,MAAO,KACP4I,MAAOie,GACPxgB,IAAK,EACLC,IAAK,GACL/B,aAAc,IAEhB9Q,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,4EACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,kBACJ8O,MAAO,+BACP4I,MAAOkgB,GACP/hB,MAAO+iB,OAETr2B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,8EACPspB,SAAUH,GACVvlB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,sBACJ8O,MAAO,kCACP4I,MAAOkgB,GACP/hB,MAAOgjB,MAET,CACE74B,GAAI,qBACJ8O,MAAO,KACP4I,MAAOie,GACPxgB,IAAK,EACLC,IAAK,IACLN,UAAU,EACVzB,aAAc,GAEhB,CACErT,GAAI,yBACJ8O,MAAO,gDACP4I,MAAOqe,GACPjf,WAAW,EACX7O,OAAQ,SAAAwJ,GAAM,qBAAkDvR,KAAvC,OAANuR,QAAM,IAANA,GAAA,UAAAA,EAAQrR,oBAAR,eAAsB04B,qBAAoCC,SAAQ,OAACtnB,QAAD,IAACA,GAAD,UAACA,EAAQrR,oBAAT,aAAC,EAAsB04B,oBAAsB,KAEpI,CACE94B,GAAI,oBACJ8O,MAAO,KACP4I,MAAOie,GACPxgB,IAAK,EACLC,IAAK,KACLF,KAAM,GACND,WAAY,CACVqgB,aAAc,GAEhBxgB,UAAU,EACVzB,aAAc,GAEhB,CACErT,GAAI,kBACJ8O,MAAO,KACP4I,MAAOie,GACPxgB,IAAK,EACLC,IAAK,IACLN,UAAU,EACVzB,aAAc,GAEhB,CACErT,GAAI,sBACJ8O,MAAO,gDACP4I,MAAOqe,GACPjf,WAAW,EACX7O,OAAQ,SAAAwJ,GAAM,qBAA+CvR,KAApC,OAANuR,QAAM,IAANA,GAAA,UAAAA,EAAQrR,oBAAR,eAAsB44B,kBAAiCD,SAAQ,OAACtnB,QAAD,IAACA,GAAD,UAACA,EAAQrR,oBAAT,aAAC,EAAsB44B,iBAAmB,KAE9H,CACEh5B,GAAI,iBACJ8O,MAAO,KACP4I,MAAOie,GACPxgB,IAAK,EACLC,IAAK,KACLF,KAAM,GACND,WAAY,CACVqgB,aAAc,GAEhBxgB,UAAU,EACVzB,aAAc,IAEhB9Q,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,qDACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,WACJ8O,MAAO,uBACP4I,MAAOkgB,GACP/hB,MAAOojB,OAET12B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,wDACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,cACJ8O,MAAO,0BACP4I,MAAOkgB,GACP/hB,MAAOqjB,OAET32B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,mDACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,SACJ8O,MAAO,qBACP4I,MAAOkgB,GACP/hB,MAAOsjB,OAET52B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,oDACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,UACJ8O,MAAO,sBACP4I,MAAOkgB,GACP/hB,MAAOujB,OAET72B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,+DACPspB,SAAUtE,GACVphB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,OACJ8O,MAAO,mBACP4I,MAAOkgB,GACP/hB,MAAOwjB,OAET92B,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,mBAExC,CACE0O,MAAO,4BACPspB,SAAUD,GACVzlB,OAAQ,CACN,CACE1S,GAAI,eACJ0X,MAAO4c,IAET,CACEt0B,GAAI,aACJ0X,MAAOod,IAET,CACE90B,GAAI,SACJ8O,MAAO,SACPuG,WAAW,EACXC,KAAM,GACNjL,YAAa,qCACbpC,QAAQ,IAEV1F,KAAI,SAAAiP,GAAC,kCAAUA,GAAV,IAAalF,UAAWmc,KAAOroB,qB,yGCjW3Bk5B,GAfI,SAAC,GAAqE,IAAnEx3B,EAAkE,EAAlEA,MAAOy3B,EAA2D,EAA3DA,YAAaC,EAA8C,EAA9CA,WAAY1zB,EAAkC,EAAlCA,SAAU2L,EAAwB,EAAxBA,OAAQU,EAAgB,EAAhBA,UACtE,EAAkCnN,IAAMyO,UAAS,GAAjD,oBAAOgmB,EAAP,KAAkBC,EAAlB,KAWA,OAVA10B,IAAMkP,WAAU,WACVpS,IAAUy3B,GACM,IAAdE,IACFC,GAAa,GACbF,GAAcA,EAAW,CAAE/nB,SAAQU,gBAGvB,IAAdsnB,GAAsBC,GAAa,KAEpC,CAAC53B,EAAOy3B,EAAaE,EAAWC,EAAcF,EAAY/nB,EAAQU,IAC9DsnB,GAAa3zB,G,0KCUtB,SAAS6S,GAAe/T,GACtB,OACE,eAAC,KAAD,CAAWgU,OAAQ,mCAAnB,SACE,eAAClM,GAAA,EAAD,eAAW9H,MAKjB,IAAMK,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAASD,EAAZ,EAAYA,QAAS/C,EAArB,EAAqBA,OAArB,OAC3B4B,aAAa,CACX1B,OAAQ,CACNmC,QAAS,OACTqI,cAAe,SACf6K,QAAS,OACTC,OAAO,aAAD,OAAezS,EAAQS,UAE/BkS,WAAY,CACVC,cAAe,cAEjBmB,cAAe,CACbxD,OAAQ,EACRhJ,QAAStH,EAAQ,GACjB8S,WAAY9S,EAAQ,IACpB+S,cAAe/S,EAAQ,KAEzBozB,YAAa,CACX7yB,WAAYR,EAAQS,QAAQC,KAC5BL,MAAOL,EAAQM,OAAOC,MACtBgQ,OAAQ,EACRhJ,QAAS,EACTpG,YAAalB,EAAQ,GACrBY,aAAcZ,EAAQ,IAExBiT,YAAa,CACX7S,MAAO,WAET8S,aAAc,CACZ9S,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQmJ,MAAMzI,KAC1B,UAAW,CACTF,WAAYR,EAAQmJ,MAAMM,OAG9B6pB,cAAe,CACbl0B,SAAU,GAEZiU,eAAgB,CACdhT,MAAOL,EAAQS,QAAQwS,MACvBjU,SAAU,WACVsU,IAAK,MACLC,KAAM,MACN/R,WAAavE,EAAOuW,aAAe,EACnC9O,YAAczH,EAAOuW,aAAe,QAoP3B+f,GAzNc,SAAC,GAiBD,IAhB3B75B,EAgB0B,EAhB1BA,GACOga,EAemB,EAf1BzS,MAe0B,IAd1B0L,cAAeN,OAcW,MAdK,GAcL,MAb1BsH,iBAa0B,cAZ1BC,YAY0B,EAX1BC,oBAW0B,MAXZ,SAWY,EAV1BC,EAU0B,EAV1BA,YAU0B,IAT1BrL,gBAS0B,MATf,KASe,MAR1BuH,aAQ0B,MARlB,GAQkB,EAP1BiE,EAO0B,EAP1BA,SACAC,EAM0B,EAN1BA,SACAxJ,EAK0B,EAL1BA,QAEA6B,GAG0B,EAJ1B4H,QAI0B,EAH1B5H,UAG0B,IAF1BinB,eAE0B,MAFhBC,KAASC,SAEO,EADvB3pB,EACuB,mBAClB9M,EAAW0C,eAAX1C,OACR,EAA0CyB,IAAMyO,UAAS,GAAzD,oBAAOqH,EAAP,KAAsBC,EAAtB,KACA,EAAoC/V,IAAMyO,SAAS,GAAnD,oBAAOwmB,EAAP,KAAmBC,EAAnB,KACA,EAA0Btf,aAAe5a,GAAzC,oBAAOF,EAAP,KAAc8S,EAAd,KACQhT,EAAgDE,EAAhDF,KAAM4Q,EAA0C1Q,EAA1C0Q,KAAM0C,EAAoCpT,EAApCoT,WAAY2H,EAAwB/a,EAAxB+a,QAAS1H,EAAerT,EAAfqT,WACnCgnB,EAAgBn1B,IAAMmI,aAAY,SAAAitB,GAAI,OAAIxnB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB8B,WAAYinB,SAAU,CAACxnB,IAC9FrL,EAAQzH,EAAMyH,MAAQzH,EAAMyH,MAAQyS,EACpCtH,EAAS2D,GAAcC,GAE7B,EAA4D7D,GAAU,CACpEjC,OACAkC,SACAC,gBACA7S,QACA8S,WACAC,aANMpB,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWyC,EAA3B,EAA2BA,WAAYP,EAAvC,EAAuCA,OAAQQ,EAA/C,EAA+CA,SAU/C7P,IAAMkP,WAAU,WACd1D,GAAQ0pB,EAAc,GACtB1pB,GAAQuK,GAAiB,KACxB,CAACvK,IAEJ,IAAMzK,EAAUd,GAAU,IACpB6E,EAAaC,eAEbswB,EAAc/jB,EAAMpU,QAAO,SAAAqU,GAAC,OAAItE,GAA+B,oBAAdsE,EAAE+jB,QAAyB/jB,EAAE+jB,QAAQ7oB,GAAU8E,EAAE+jB,YAClGC,EAAeF,GAAeA,EAAYJ,IAAgB,GAC1DO,GAAeD,EAAY1nB,SAE3B4nB,GAAmBF,EAAY7nB,OAAS6nB,EAAY7nB,OAAOxQ,QAAO,SAAAsP,GAAC,OAAIgD,GAAQhD,EAAGC,EAAQ4C,MAAS/R,OAAS,EAE5G2Y,GAAWrY,KAAKC,UAAU4O,GAC1ByJ,GAAelW,IAAMmI,aAAY,WACjCstB,GAAmB,EACrBN,GAAc,GAEd5f,GAAYA,EAAS3X,KAAKqR,MAAMgH,OAEjC,CAACwf,GAAkBN,EAAe5f,EAAUU,KAEzCE,GAAenW,IAAMmI,aAAY,WACrCqN,GAAYA,EAAS5X,KAAKqR,MAAMgH,OAC/B,CAACT,EAAUS,KAERD,GAAsBhW,IAAMmI,aAAY,kBAAM4N,GAAiB,SAAA1J,GAAI,OAAKA,OAAO,CAAC0J,IAEhFrK,GAAc1L,IAAMmI,aAAY,WACpCyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,OACnCQ,GAAWA,MACV,CAAC4B,EAAU5B,IAERkjB,GAAalvB,IAAMmI,aAAY,WACnC,GAAIstB,GAAmB,EACrBN,GAAc,OACT,CACL,IAAMO,EAAO,WAA4B,IAA3BC,EAA0B,4DAAdz6B,EACxBy6B,GAAaxoB,GAAU,SAAAd,GAAI,OAAImC,KAAMnC,EAAMspB,MAC3CxnB,GAAcgnB,GAAc,GAC5BD,GAAc,SAAAU,GAAc,OAAIA,EAAiB,MAEnDJ,GAAeA,GAAa53B,KAAKqR,MAAMgH,IAAWyf,GAAQA,OAE3D,CAACP,EAAehoB,EAAWgB,EAAYqnB,GAAcN,EAAeO,GAAkBxf,KAEnFkZ,GAAanvB,IAAMmI,aAAY,kBAAM+sB,GAAc,SAAAU,GAAc,OAAIA,EAAiB,OAAI,CAACV,IAE3F7e,GAAaR,GAAW3H,EACxBrB,GAAWwJ,IAAchH,EAAM,QAErC,OACE,gBAAC3Q,GAAA,EAAD,yBACEiV,gBAAiB7O,GAAcmQ,EAAYtB,GAAiBjM,KAC5D5C,WAAYA,EACZ0G,KAAMA,EACNQ,QAASN,GACT,4BAAoB1Q,EAApB,iBACA,6BAAqBA,EAArB,uBACAkG,UAAWH,EAAQtC,OACnB6X,kBAAkB,EAClBvM,cAAmC7O,IAAzBq6B,EAAYxrB,SAAyBwrB,EAAYxrB,SAAWA,EACtE+H,WAAS,GACLzG,GAXN,cAaa,OAAV9I,GACC,uCACE,eAACgU,GAAA,EAAD,CAAavb,GAAE,UAAKA,EAAL,iBAAwBwb,mBAAiB,EAACtV,UAAWH,EAAQ4zB,YAA5E,SACE,gBAACvtB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAAnD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQkT,WAA5C,SACG1R,GAAgB,CAAC3H,EAAMI,GAAIyC,KAAK,SAGrC,eAAC2J,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAS9E,MAAM,QAAQqD,UAAU,OAAjC,SACE,eAACH,GAAA,EAAD,CAAY,aAAW,QAAQvE,UAAWH,EAAQyT,YAAa9O,QAASgG,GAAxE,SACE,eAAC,KAAD,eAMV,eAAC+K,GAAA,EAAD,KACEX,GACA,eAACgB,GAAA,EAAD,UACE,gBAAC1P,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEsB,YAAa,GAAIN,aAAc,IAAMsF,WAAW,SAAzE,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmC4zB,EAAYzrB,MAAQyrB,EAAYzrB,MAAQyrB,EAAYv6B,OAExFq6B,EAAY/3B,OAAS,GACpB,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAAMl0B,MAAM,UAAUmI,MAAK,UAAKmrB,EAAa,EAAlB,eAA0BI,EAAY/3B,oBAQ/E,eAACoZ,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,gBAAClD,GAAD,CAAWhJ,MAAO4E,EAAM,QAAxB,UACGgH,IAAc,eAACO,GAAA,EAAD,CAAkBvX,KAAMd,EAAOuW,aAAc5T,UAAWH,EAAQ4T,iBAC/E,eAAC3B,GAAA,EAAD,CAAUC,IAAK6C,EAAf,SACGuf,EAAY93B,KAAI,WAAyDW,GAAO,IAA7Dk1B,EAA4D,EAA5DA,SAA4D,IAAlD1lB,cAAkD,MAAzC,GAAyC,EAArC5D,EAAqC,EAArCA,MAAO0qB,EAA8B,EAA9BA,WAC1CsB,GADwE,EAAlBhtB,SACvC,OAAGsqB,QAAH,IAAGA,IAAYhgB,IACpC,OACE,eAACJ,GAAA,EAAD,CAAkBC,GAAIgiB,IAAe/2B,EAAG42B,QAASA,EAAjD,SACE,eAAC,KAAD,UACE,eAAC,GAAD,CAAwBh4B,MAAOoB,EAAGq2B,YAAaU,EAAYT,WAAYA,EAAY/nB,OAAQA,EAAQU,UAAWA,EAA9G,SACE,eAAC/F,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,SACE,eAACu0B,EAAD,CAAiBpoB,OAAQA,EAAQmC,SAAUA,EAAUpD,OAAQA,EAAQ3R,MAAOA,EAAO8S,SAAUA,EAAUT,UAAWA,OAFrGrD,IADRA,IADE5L,QAYpB4X,GACC,gBAAC1O,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,SAASC,WAAW,SAAxD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQnR,QAASsQ,GAAqBrU,MAAM,YAA5C,sBAIF,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQnR,QAASyQ,GAAcjV,UAAWH,EAAQ0T,aAAlD,UACE,eAAC,KAAD,CAAYtT,MAAO,CAAE8E,YAAa,KADpC,WAEWkP,gBAOnBW,GACA,eAACgB,GAAA,EAAD,CAAe5V,UAAWH,EAAQsU,cAAlC,SACE,eAAC0gB,GAAA,EAAD,CACEjwB,QAAQ,OACRwL,MAAO+jB,EAAY/3B,OACnBgD,SAAS,SACT20B,WAAYA,EACZ/zB,UAAWH,EAAQ6zB,cACnBoB,WACEf,IAAeI,EAAY/3B,OAAS,EAClC,gBAACuZ,GAAA,EAAD,CAAQlV,MAAM,UAAUtC,KAAK,QAAQyG,QAAQ,YAAY+G,UAAW+C,GAAc/C,GAAUnH,QAASwQ,GAArG,UACGd,GAA4B,SAC7B,eAAC,KAAD,CAAWjU,MAAO,CAAE6E,WAAY,QAGlC,qCACE,gBAAC6Q,GAAA,EAAD,CAAQxX,KAAK,QAAQqG,QAASwpB,GAAYriB,SAAUA,GAApD,iBAEE,eAAC,KAAD,SAKRopB,WACiB,IAAfhB,GAA6B,SAATr6B,QAAgCM,IAAbsa,EACrC,gBAACqB,GAAA,EAAD,CAAQ3V,UAAWH,EAAQ0T,aAAcpV,KAAK,QAAQyG,QAAQ,YAAYJ,QAASsQ,GAAqBnJ,SAAUA,GAAlH,UACE,eAAC,KAAD,CAAY1L,MAAO,CAAE8E,YAAa,KACjCkP,KAGH,gBAAC0B,GAAA,EAAD,CAAQxX,KAAK,QAAQqG,QAASypB,GAAYtiB,SAAyB,IAAfooB,GAAoBpoB,GAAxE,UACE,eAAC,KAAD,IADF,mBCzSHtK,GAAQ,gBAON,SAAS2zB,GAAT,GAAoE,IAAD,IAAvCl7B,UAAuC,MAAlCuH,GAAkC,EAA3ByJ,EAA2B,EAA3BA,QACrD,EAAmC4J,aAAe5a,GAAlD,oBAASJ,EAAT,KAASA,KAAQu7B,EAAjB,KACA,EAA2Bn2B,IAAMyO,SAAS6C,GAAM1W,IAAhD,oBAAOw7B,EAAP,KAAeC,EAAf,KACAr2B,IAAMkP,WAAU,WACdmnB,EAAS/kB,GAAM1W,MACd,CAACA,IAEJ,IAAMoqB,EAAcF,KACdvN,EAAcC,eAEdxG,EAAQ9I,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,SACpF4S,EAAM1b,aAAY,SAACqJ,GAAD,uBAAYA,EAAEhT,OAAO6a,YAArB,aAAY,EAAe0B,YA6C7CpP,EAAc1L,IAAMmI,aAAY,WACpCguB,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO0C,YAAY,EAAOmB,OAAQ,QAC3ErD,GAAWA,MACV,CAACmqB,EAAgBnqB,IAEpB,OAAO,eAAC,GAAD,CAAsBhR,GAAIA,EAAI+O,SAAS,KAAKqL,YAAY,OAAO7S,MAAOA,GAAOgT,SAT/D,SAAC9I,EAAQ4T,IAvCJ,SAAC5T,EAAQ2Y,GAAoD,IAA5C/E,EAA2C,4DAA7BnlB,EAAWo7B,EAAkB,wDAC9EC,EAA2B9pB,EAAOgX,KAAOroB,cACzCo7B,GAAY,IAAI36B,MAAOmrB,UAEd,MAAX5B,GACFmR,EAAY5R,IAAMwC,cAClBoP,EAAYE,QAAUtP,cACtBoP,EAAYG,QAAUF,EACtBD,EAAYI,UAAW,GACH,MAAXvR,IAETmR,EAAYK,OAAS,CAAEjS,IAAK4R,EAAY5R,IAAKc,KAAM8Q,EAAY9Q,MAC3D1nB,YAAQw4B,EAAYE,WACtBF,EAAYE,QAAUF,EAAY5R,KAEpC4R,EAAY5R,IAAMwC,cAClBoP,EAAY9Q,UAAOvqB,EACnBq7B,EAAYG,QAAUF,EACtBD,EAAYI,UAAW,EACvBvR,EAAS,KAGXmR,EAAYM,QAAUL,EAEtBL,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAE5CmP,EAAY,CACVG,MAAO1B,KAAOroB,aACdgqB,SACAF,KAAK,2BAAMqR,GAAP,IAAoBvlB,QAAO4S,MAAK0S,UACpC/Q,QAAS,kBAAM4Q,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACzE6a,UAAW,WACTjF,GAAeA,IACf9I,EAAYG,YAAU,UACtBhM,OAMJorB,CAAkBrqB,EAAiB,SAAT7R,EAAkB,IAAM,IAAKylB,GAAa,IAQsC/O,MAAO8kB,EAAQpqB,QAASA,EAAS8oB,QAAS,I,eC1ElJ70B,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAAH,OAC3BpB,aAAa,CACX42B,SAAU,CACRz2B,SAAU,WACV02B,OAAQz1B,EAAQ,GAChB4hB,MAAO5hB,EAAQ,GACfZ,OAAQ,aAKC,SAASs2B,GAAT,GAA4C,IAAD,IAAjBC,YAAiB,MAAV,OAAU,EAClDn2B,EAAUd,KAChB,EAAwBk3B,cAAfC,EAAT,qBACMxb,EAAc5b,IAAMmI,aAAY,kBAAMivB,EAAqB,SAATF,EAAkB,QAAU,UAAS,CAACA,EAAME,IAC9F3mB,EAAO,oBAAyB,SAATymB,EAAkB,QAAU,OAA5C,SACP1zB,EAAgB,SAAT0zB,EAAkBhwB,KAAaA,KAC5C,OACE,eAAC,KAAD,CAAS3E,MAAOkO,EAAS7K,UAAU,OAAnC,SACE,eAACG,GAAA,EAAD,CAAK7E,UAAWH,EAAQg2B,SAAU13B,KAAK,QAAQsC,MAAM,UAAU,aAAW,YAAY+D,QAASkW,EAA/F,SACE,eAACpY,EAAD,Q,0BCnBFvD,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAAH,OAC3BpB,aAAa,CACXk3B,IAAK,CACH/2B,SAAU,WACV02B,OAAQz1B,EAAQ,IAChB4hB,MAAO5hB,EAAQ,GACfZ,OAAQ,aAKC,SAAS22B,KACtB,IAAMv2B,EAAUd,KACVsd,EAAUC,eAChB,EAAkC+Z,cAAlC,oBAAOC,EAAP,KAAkBC,EAAlB,KACM7b,EAAc5b,IAAMmI,aAAY,kBAAMsvB,GAA2B,IAAdD,KAAoC,CAACA,EAAWC,IACnGj0B,GAAqB,IAAdg0B,EAAqBtwB,KAAqBA,KACjDuJ,EAAO,qBAA8B,IAAd+mB,EAAqB,cAAgB,cAClE,OAAOja,EACL,eAAC,KAAD,CAAShb,MAAOkO,EAAS7K,UAAU,OAAnC,SACE,eAACG,GAAA,EAAD,CAAK7E,UAAWH,EAAQs2B,IAAKh4B,KAAK,QAAQsC,MAAM,UAAU,aAAW,oBAAoB+D,QAASkW,EAAlG,SACE,eAACpY,EAAD,QAIJ,+B,wDC1BW,SAASk0B,GAAWC,GACjC,MAAmCA,EAA3B9tB,YAAR,MAAe+tB,aAAWD,GAA1B,EACME,EAAUC,aAAcH,GAC9B,OACE,eAAC,KAAD,CAAMI,gBAAgB,EAAMC,OAAO,EAAnC,SACE,gBAACC,GAAA,EAAD,CAAUD,OAAO,EAAM/Y,gBAAgB,EAAM3J,SAAS,EAAtD,UACE,eAAC4iB,GAAA,EAAD,CAAgB/2B,MAAO,CAAE2H,SAAU,IAAnC,SAA0C,sBAAK3H,MAAO,CAAEX,OAAQ,IAAMkc,IAAK7S,EAAM8S,IAAI,WACrF,eAACwb,GAAA,EAAD,CAAcp2B,QAASq2B,aAAWT,GAAMxgB,UAAW0gB,GAAO,cAAWA,U,wECa9DQ,GArBY,SAAC,GAAiG,IAA/F15B,EAA8F,EAA9FA,MAA8F,IAAvF25B,kBAAuF,MAA1E,KAA0E,MAA7Dxb,eAA6D,aAA7CxZ,cAA6C,aAA9BqE,iBAA8B,MAAlB,EAAkB,EAAZ0D,EAAY,mBACpHR,EAAQ5J,eACVT,EAASkoB,eAAe5L,EAAU,EAAI,IAAM,GAAK,IAC/ChY,EAAayzB,aAAc1tB,EAAMkR,YAAYI,KAAKmc,IAExD,OACE,sBACEn3B,MAAO,CACLX,OAAQsE,GAAc,OACtByjB,UAAW,SACXiQ,UAAwB,SACxB53B,QAAS,QAET0B,aAAa,aAAD,OAAeuI,EAAMvJ,QAAQgU,UAP7C,SAUE,eAAC3W,EAAD,aAAO6B,OAAQsE,EAAatE,EAAkB,GAATA,EAAcmH,UAAWA,EAAWrE,OAAQA,EAAQwZ,QAASA,GAAazR,O,oBCbxG9I,GAAQ,sBAEfkT,GAAU,SAAA7V,GACd,MAAmBu3B,cAAZsB,EAAP,qBACA,OACE,eAAC,GAAD,aACE95B,MAAoB,SAAb85B,EAAsBC,GAAgCA,GAC7D/0B,eAAe,SACfpB,MAAOA,IACH3C,KAKK,SAAS+4B,GAAT,GAAsE,IAAD,IAAjC39B,UAAiC,MAA5BuH,GAA4B,EAArByJ,EAAqB,EAArBA,QAAYX,EAAS,mBAClF,EAA4BuK,aAAe5a,GAAlCiT,EAAT,qBAASA,cACT,EAAkCspB,cAAlC,oBAAOC,EAAP,KAAkBC,EAAlB,KAGM/rB,EAAc1L,IAAMmI,aAAY,WAChCqvB,IACFC,GAAa,GACbA,GAAa,IAEfzrB,GAAWA,MACV,CAACwrB,EAAWC,EAAczrB,IAC7B,OACE,eAAC,GAAD,aACEhR,GAAIA,EACJuH,MAAO,KACPwH,SAAS,KACTmL,YAAY,QACZE,YAAa,KACbK,QAASA,GACTC,aAAc,CAAEzH,iBAChBjC,QAASN,GACLL,I,SC9BKyhB,G,qFAAf,WAA0B3C,EAAOvvB,GAAjC,kBAAAkM,EAAA,sEACyBimB,KAAMrH,IAAN,UAAasH,KAAb,kBAAyC7C,EAAzC,iBAAuDvvB,IADhF,uBACUK,EADV,EACUA,KADV,kBAESA,GAFT,4C,sBAKA,IAAMgF,GAAYC,cAAW,SAAC2K,GAAD,MAAiB,CAC5CpJ,KAAM,CACJf,SAAU,GAEZmI,QAAS,CACPA,QAASgC,EAAMtJ,QAAQ,IAEzBiH,KAAM,CACJpH,gBAAiB,WAEnB+I,IAAK,CACH+J,cAAe,OACftR,WAAYiI,EAAMrJ,WAAWyrB,kBAC7BvqB,SAAUmI,EAAMrJ,WAAWmB,QAAQ,IACnCsD,YAAa4E,EAAMtJ,QAAQ,GAC3B,UAAW,CACT2J,QAAS,IAGbxC,UAAW,CACT9H,QAAS,OACToI,eAAgB,SAChB5H,gBAAiB,cACjB,UAAW,CACTb,MAAO,OACPa,gBAAiByJ,EAAMvJ,QAAQS,QAAQwS,YAKvC2Y,GAAW,CACfC,IAAK,cACLC,QAAS,oBACTC,IAAK,OAGDC,GAAU,CACdH,IAAKI,GACLH,QAASI,GACTH,IAAKI,IAGMmL,GAAsB,SAAC,GAAuD,IAAD,IAApDjK,iBAAoD,MAAxC,GAAwC,EAApCX,EAAoC,EAApCA,YAAaG,EAAuB,EAAvBA,QAASU,EAAc,EAAdA,QACpE9tB,EAAUd,KAEV6tB,EAAcC,YAAoBC,GAClCC,EAAaC,YAAkBC,GAErC,EAA+DnuB,IAAMyO,SAAS,CAC5EoH,SAAS,EACT1L,IAAK,EACL0uB,aAAc,CAAEr+B,MAAO,GAAI6zB,MAAM,GACjCyK,WAAY,CAAEt+B,MAAO,GAAI6zB,MAAM,KAJjC,2BAASxY,EAAT,EAASA,QAAS1L,EAAlB,EAAkBA,IAAK0uB,EAAvB,EAAuBA,aAAcC,EAArC,EAAqCA,WAAclrB,EAAnD,KAOMwgB,EAAmBpuB,IAAMmI,aAAY,WAAM,8CAC/C,+BAAArB,EAAA,kEAEQiyB,EAAiB,GACjBxK,EAAe,IACO,IAAtBsK,EAAaxK,MAAkBtwB,YAAQ+vB,GAJ/C,gCAK6BhB,GAAWgB,EAAa,UALrD,OAKMiL,EALN,kBAO4B,IAApBD,EAAWzK,MAAkBtwB,YAAQkwB,GAP7C,kCAQ2BnB,GAAWmB,EAAY,SARlD,QAQMM,EARN,eAUI3gB,GAAS,SAAAvB,GAAI,kCACRA,GADQ,IAEXwJ,SAAS,EACTgjB,aAAa,2BAAMxsB,EAAKwsB,cAAZ,IAA0Br+B,MAAOuD,YAAQg7B,GAAkB1sB,EAAKwsB,aAAar+B,MAAQu+B,EAAgB1K,MAAM,IACvHyK,WAAW,2BAAMzsB,EAAKysB,YAAZ,IAAwBt+B,MAAOuD,YAAQwwB,GAAgBliB,EAAKysB,WAAWt+B,MAAQ+zB,EAAcF,MAAM,SAdnH,kDAiBIzgB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAjB1C,2DAD+C,sBAqB/CjI,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OArBU,WAAD,wBAsB/C2Y,KACC,CAACV,EAAaG,EAAYrgB,EAAUirB,EAAaxK,KAAMyK,EAAWzK,OAErEruB,IAAMkP,WAAU,aACZnR,YAAQ+vB,KAAiB/vB,YAAQkwB,KAAgBG,MAClD,CAACA,EAAkBN,EAAaG,IAMnC,OACE,uBAAK/sB,UAAWH,EAAQU,KAAxB,UACE,uBAAKP,UAAWH,EAAQyH,KAAxB,UACE,eAACkB,GAAA,EAAD,CACE3I,QAAS,CAAE2H,UAAW3H,EAAQ2H,WAC9BlO,MAAO2P,EACP/E,SAVgB,SAACf,EAA8B4c,GACrDrT,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBlC,IAAK8W,QAU5B,aAAW,sBACXyN,kBAAmB,CAAE5tB,SAAU,0BALjC,SAOG6tB,EAAUpxB,KAAI,SAAAusB,GAAC,OACd,eAAClgB,GAAA,EAAD,CAAa1I,UAAWH,EAAQoJ,IAAKL,MAAO,eAAC2iB,GAAD,CAAU3iB,MAAOojB,GAASpD,GAAIjgB,KAAMyjB,GAAQxD,KAAQ8E,eAAa,GAAnG9E,QAGd,eAACjkB,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8H,aAEhC8lB,EAAUpxB,KACT,SAACusB,EAAG5rB,GAAJ,OACEiM,IAAQjM,IACP2X,GACC,+BACS,QAANiU,EACC,eAAC,GAAD,CAAe6C,IAAKkC,EAAS/kB,MAAO,kBAC5B,YAANggB,EACF,eAAC,GAAD,CAActvB,MAAOq+B,EAAar+B,QAElC,eAAC,GAAD,CAAYA,MAAOs+B,EAAWt+B,SANxBsvB,UCvHhB7pB,GAAYC,cAAW,cAAGoB,QAAH,OAC3BnB,aAAa,CACXmH,UAAW,CACTyY,OAAQ,UACR,UAAW,CACTje,WAAYwG,KAAK,YCLzB,IAAM0wB,GAAQ,SAAArB,GAAG,OAAK55B,YAAQ45B,EAAIlB,SAAWkB,EAAIhT,IAAMgT,EAAIlB,SAE9CwC,GAAmB,SAACl+B,EAAO07B,GACtC,IAAMyC,EAAOhxB,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAOroB,qBAAnC,QAAoD,MAkBzE+9B,GAjBOD,EACPl8B,OAAOC,KAAKi8B,GACTh8B,QAAO,SAAAyJ,GAAC,OAAsB,IAAlBuyB,EAAKvyB,GAAG2vB,QAAqC,IAAnB4C,EAAKvyB,GAAG+d,SAAoB3mB,YAAQm7B,EAAKvyB,GAAGyyB,UAAgC,IAArBF,EAAKvyB,GAAGgwB,UAAqBqC,GAAME,EAAKvyB,MAAQ8vB,KAC7Il5B,KAAI,SAACoJ,EAAGzI,GACP,IAAMy5B,EAAmBuB,EAAKvyB,GAC9B,MAAO,CACLge,IAAKgT,EAAIhT,IACTiS,OAAQe,EAAIf,OACZ3L,UAAW,8BAAC,eAAW0M,GAAZ,IAAiB76B,MAAOoB,KACnCw4B,QAASiB,EAAIjB,QACbC,SAAUgB,EAAIhB,SACdyC,OAAQzB,EAAIyB,OACZ3C,QAASuC,GAAMrB,OAGrB,IAEcv6B,MAAK,kBAAc0J,EAAd,EAAGmkB,UAAH,OAAyC/kB,EAAzC,EAAqB+kB,aAAgCyL,QAAW5vB,IAAY4vB,WACnG,OAAO2C,aAAeF,EAAQp+B,I,eCxB1BoD,GAAO,UACAm7B,GAAoD,CAC/DC,QAAQ,EACRp7B,QACAvB,QAAS,CAAC,CAAEuB,KAAM,YAAaupB,OAAQ,qBAAsBwD,KFWhD,YAA+D,IAA1C2L,EAAyC,EAAzCA,QAASuC,EAAgC,EAAhCA,OAAQhO,EAAwB,EAAxBA,cAAetuB,EAAS,EAATA,MAClE,EAA4BkD,IAAMyO,SAAmB,IAAV3R,GAA3C,oBAAOgkB,EAAP,KAAeC,EAAf,KAEMyY,EAAex5B,IAAMmI,aACzB,SAAAkF,GACE0T,GAAU,SAAA1U,GAAI,OAAKA,KACnB+e,MAEF,CAACrK,EAAWqK,IAGRrqB,EAAUd,KAChB,OACE,sBAAKiB,UAAWH,EAAQuG,UAAW5B,QAAS8zB,EAA5C,SACE,eAACjI,GAAD,UACE,eAACpW,GAAA,EAAD,CAAKse,GAAI,EAAGC,GAAI,EAAhB,SACE,eAACtyB,GAAA,EAAD,CAAME,WAAS,EAAf,SACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAnBT,KAmBX,SACE,eAAC6G,GAAA,EAAD,CAAME,WAAS,EAAf,SACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAASgZ,EAArB,SAA8BsY,MAEhC,eAAChyB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAxB,UACE,gBAAC3B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,2BACiB+wB,EAAU8C,YAAwB9C,GAAW,MAE9D,gBAAChxB,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,sBACYgb,EAAS,WAAa,qCExCxDhE,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGGo2B,GAAqB,SAAC,GAAD,IAAGpD,EAAH,EAAGA,QAAYprB,EAAf,0BAChC,eAACgf,GAAD,2BAA2BiP,IAA3B,IAAkDr+B,KAAMg+B,GAAiB96B,GAAMs4B,GAAUqD,YAAY,GAAUzuB,KCRpG9I,GAAQ,0BAEftC,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAASC,EAAZ,EAAYA,QAAZ,OAC3BpB,aAAa,CACXsB,KAAM,GACNimB,OAAQ,CAAE3d,SAAU,KACpB8J,OAAQ,CACNrT,OAAQ,GACRD,MAAO,KAETmB,MAAO,CACLI,WAAYR,EAAQS,QAAQC,KAC5BL,MAAOL,EAAQM,OAAOC,MACtBgH,QAAStH,EAAQ,SAKR,SAASw4B,GAAT,GAA4C,IAAD,IAAd/+B,UAAc,MAATuH,GAAS,EAClDxB,EAAUd,GAAU,IAC1B,EAAiC2V,aAAe5a,GAAhD,uBAASiT,cACT,QADA,MAAyB,GAAzB,GACQ7S,oBAAR,MAAuB,GAAvB,EACQq7B,EAAYr7B,EAAZq7B,QAER,OACE,eAAC,GAAD,CAAez7B,GAAIA,EAAIuH,MAAOvH,EAAIoa,YAAa,KAAMF,YAAY,QAAQnL,SAAS,KAAlF,SACE,eAAC2M,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,eAACkF,GAAA,EAAD,CAAW3a,UAAWH,EAAQU,KAA9B,SACE,gBAAC2F,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAA1C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,SACE,eAAC,GAAD,eAAyB3O,MAE3B,gBAACgM,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,IAAKiB,SAAU,KAAhD,UACE,eAACrC,GAAA,EAAD,CAAOxG,UAAWH,EAAQW,MAA1B,SACE,eAACmE,GAAA,EAAD,CAAYC,QAAQ,KAApB,mCAEF,eAAC,GAAD,CAAoB2wB,QAASA,EAASj2B,OAAQ,kBCmBrD,IAAM+B,GAAQ,eAEN,SAASy3B,GAAT,GAAsC,IAAD,IAAdh/B,UAAc,MAATuH,GAAS,EAClD,EAAgCqT,aAAe5a,GAA/C,oBAAO4c,EAAP,KAAoBhK,EAApB,KACQK,EAAkB2J,EAAlB3J,cAQR,OACE,eAAC,GAAD,CACEjT,GAAIA,EACJuH,MAAOvH,EACPoa,YAAapa,EACbua,SAXiB,SAAC,GAAiC,IAA/BpX,EAA8B,EAA9BA,KAAM6S,EAAwB,EAAxBA,MAAOipB,EAAiB,EAAjBA,WACnCrsB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO2C,YAAY,EAAM0H,SAAS,OA/DzE,SAAmB1X,EAAM6S,EAAOipB,EAAYC,GAC1C,IAAMC,EAAeC,YACfC,EAAqB,uBAErBC,EAAUlC,aAAW8B,GACrBK,EAAazC,aAAcoC,GAE3B79B,EAAI,+DACUi+B,EADV,6CAEkBC,EAFlB,mCAGQp8B,EAHR,oCAIS6S,EAJT,oCAKSipB,EALT,0CAMer8B,KAAKC,UAAUq8B,GAN9B,QASNlW,EAAS,CACXwW,YAAa,CACIC,YAAa,GAC5BC,YAAa,CAACP,IAEhBQ,QAAS,CAEPC,KAAM,CAEJC,KAAM,CACJC,QAAS,QACT5V,KAAM7oB,GAERoV,KAAM,CACJqpB,QAAS,QACT5V,KAAM7oB,IAGV0+B,QAAS,CACPD,QAAS,QACT5V,KAAM,8BAGV8V,OAAQX,EACRY,iBAAkB,CAACZ,IAIH,IAAIa,KAAIC,IAAI,CAAEC,WAAY,eAAgBC,UAAUrX,GAAQK,UAI3EpL,MAAK,SAAUhe,GACdoe,QAAQC,IAAIre,EAAKqgC,cAElB/hB,OAAM,SAAUC,GACfH,QAAQ5O,MAAM+O,EAAKA,EAAI+hB,UAYzBF,CAAUl9B,EAAM6S,EAAOipB,EAAYhsB,EAAc7S,cACjD8d,MAAM,mDASJxL,OAAQ,CACN,CACE1S,GAAI,OACJ8O,MAAO,OACPzE,YAAa,2CACbyK,UAAU,GAEZ,CACE9U,GAAI,QACJ8O,MAAO,QACPzE,YAAa,4CACb2L,OAAO,EACPlB,UAAU,GAEZ,CACE9U,GAAI,aACJ8O,MAAO,aACPuG,WAAW,EACXP,UAAU,EACVQ,KAAM,GACNjL,YAAa,qDACbpC,QAAQ,M,gDCzFH,SAASu4B,GAAT,GAAiC,IAAR7W,EAAO,EAAPA,IAChC1W,EAAgB/F,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS3D,aAAaupB,MACrElH,EAAWC,eAEjB,OACE,gBAACtW,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEoY,OAAQsa,EACRj0B,QAAQ,aACR4Z,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,mCACR7K,UAAU,aAGb6X,GACC,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQyW,EACRxW,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,OACR7K,UAAU,aAIhB,eAACwB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQkZ,EACRjZ,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,uBACR7K,UAAU,aAGd,eAACwB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQgc,EACR/b,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,eACR7K,UAAU,gBCjCpB,IAAM3F,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXu7B,MAAO,CACL,UAAW,CACT3b,OAAQ,UACRje,WAAYR,EAAQS,QAAQC,KAC5BL,MAAOL,EAAQM,OAAOC,aAQxB85B,GAAS,SAAA5kB,GAAI,OAAI,sBAAK5V,MAAO,CAAEwW,UAAW,UAAzB,SAAsCwK,aAAgBpL,MAEhE6kB,GAAc,SAAC,GAAyB,IAAD,IAAtBrb,QACtB/c,OAD4C,SAC3B0D,KAA2BA,KAClD,OAAOy0B,GAAO,eAACn4B,EAAD,CAAM7B,MAAM,SAASe,SAAS,YAGxCm5B,GAAc,SAAC,GAAD,IAAGhF,EAAH,EAAGA,QAAH,OAClB,eAAChxB,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGk1B,EAAU8C,YAAwB9C,GAAW,MAI5CiF,GAAc,SAACjrB,EAAOpE,GAAR,IAAgBtK,EAAhB,4DAA+BjH,EAA/B,OAClB,eAACkM,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEgB,gBAAzB,SACG0O,EAAMtT,KAAI,SAACW,EAAGpB,GAAJ,OACT,eAACsK,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC,GAAD,CAAa2Y,QAAS9T,EAAOsL,SAAS7Z,MADrBpB,SAOnBi/B,GAAe,SAACjyB,EAAO+G,GAAwB,IAAjBpE,EAAgB,uDAAP,GACvCpF,EAAOwJ,EAAMsC,MAAK,SAAAjV,GAAC,OAAIA,EAAE1D,QAAUsP,GAAS5L,EAAE4L,QAAUA,GAAS5L,EAAE89B,QAAUlyB,KACjF,OAAOzC,IAAOoF,EAAOsL,SAAS1Q,EAAK20B,QAAUvvB,EAAOsL,SAAS1Q,EAAK7M,SAAmCiS,EAAOsL,SAASjO,IAGjHmyB,GAAwB,SAACprB,EAAOqrB,EAAQzvB,GAAsC,IAA9BtK,EAA6B,4DAAdjH,EACnE,OACE,eAACkM,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEgB,gBAAzB,SACG+5B,EAAO3+B,KAAI,SAACuM,EAAOhN,GAAR,OACV,eAACsK,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC,GAAD,CAAa2Y,QAASwb,GAAajyB,EAAO+G,EAAOpE,MADhC3P,SAQrBq/B,GAAsBla,KAAe1kB,KAAI,SAAAsJ,GAC7C,IAAI0K,EAAImiB,KAAuBvgB,MAAK,SAAAipB,GAAE,OAAIA,EAAG5hC,QAAUqM,KACvD,OAAO0K,EAAKA,EAAEyqB,MAAQzqB,EAAEyqB,MAAQzqB,EAAE/W,MAASqM,KAGvCw1B,GAAsBja,KAAgB7kB,KAAI,SAAAsJ,GAC9C,IAAI0K,EAAIqiB,KAAuBzgB,MAAK,SAAAipB,GAAE,OAAIA,EAAG5hC,QAAUqM,KACvD,OAAO0K,EAAKA,EAAEyqB,MAAQzqB,EAAEyqB,MAAQzqB,EAAE/W,MAASqM,KAGvCy1B,GAAgB/Z,KAAUhlB,KAAI,SAAAsJ,GAClC,IAAI0K,EAAIoiB,KAAiBxgB,MAAK,SAAAipB,GAAE,OAAIA,EAAG5hC,QAAUqM,KACjD,OAAO0K,EAAKA,EAAEyqB,MAAQzqB,EAAEyqB,MAAQzqB,EAAE/W,MAASqM,KAGvC01B,GAA2B9Z,KAAoBllB,KAAI,SAAAsJ,GACvD,IAAI0K,EAAIsiB,KAA4B1gB,MAAK,SAAAipB,GAAE,OAAIA,EAAG5hC,QAAUqM,KAC5D,OAAO0K,EAAKA,EAAEyqB,MAAQzqB,EAAEyqB,MAAQzqB,EAAE/W,MAASqM,KAGvC21B,GAAmBla,KAAY/kB,KAAI,SAAAsJ,GACvC,IAAI0K,EAAI2iB,KAAoB/gB,MAAK,SAAAipB,GAAE,OAAIA,EAAG5hC,QAAUqM,KACpD,OAAO0K,EAAKA,EAAEyqB,MAAQzqB,EAAEyqB,MAAQzqB,EAAE/W,MAASqM,KAGvC41B,GACJ,SAAAC,GAAM,OACN,oBAAG/N,iBAAH,MAAe,GAAf,SACEmN,GAAYa,GAAW5Z,KAAW,YAAa2Z,GAAS/N,KAEtDiO,GACJ,SAAAF,GAAM,OACN,oBAAGG,YAAH,MAAU,GAAV,SACEf,GAAYa,GAAWna,KAAM,OAAQka,GAASG,KAE5CC,GACJ,SAAAJ,GAAM,OACN,oBAAGK,sBAAH,MAAoB,GAApB,SACEd,GAAsBvI,KAAwBiJ,GAAWR,GAAqB,iBAAkBO,GAASK,KAEvGC,GACJ,SAAAN,GAAM,OACN,oBAAGO,aAAH,MAAW,GAAX,SACEnB,GAAYa,GAAW3a,KAAO,OAAQ0a,GAASO,KAE7CC,GACJ,SAAAR,GAAM,OACN,oBAAGS,kBAAH,MAAgB,GAAhB,SACErB,GAAYa,GAAWta,KAAY,aAAcqa,GAASS,KAExDC,GACJ,SAAAV,GAAM,OACN,oBAAGW,mBAAH,MAAiB,GAAjB,SACEpB,GAAsB/H,KAAqByI,GAAWH,GAAkB,cAAeE,GAASW,KAE9FC,GACJ,SAAAZ,GAAM,OACN,oBAAGa,uBAAH,MAAqB,GAArB,SACEtB,GAAsBrI,KAAwB+I,GAAWN,GAAqB,gBAAiBK,GAASa,KAEtGC,GACJ,SAAAd,GAAM,OACN,oBAAGxJ,2BAAH,MAAyB,GAAzB,SACE+I,GAAsBpI,KAA6B8I,GAAWJ,GAA0B,sBAAuBG,GAASxJ,KAEtHuK,GACJ,SAAAf,GAAM,OACN,oBAAG1J,iBAAH,MAAe,GAAf,SACEiJ,GAAsBtI,KAAkBgJ,GAAWL,GAAe,YAAaI,GAAS1J,KAEtF0K,GACJ,SAAAhB,GAAM,OACN,oBAAGiB,gBAAH,MAAc,GAAd,SACE7B,GAAYa,GAAWza,KAAU,WAAYwa,GAASiB,EAAU,MAE9DC,GACJ,SAAAlB,GAAM,OACN,oBAAGmB,cAAH,MAAY,GAAZ,SACE/B,GAAYa,GAAW9Z,KAAQ,SAAU6Z,GAASmB,KAEhDC,GACJ,SAAApB,GAAM,OACN,oBAAGqB,eAAH,MAAa,GAAb,SACEjC,GAAYa,GAAW7Z,KAAS,UAAW4Z,GAASqB,KAElDpB,GAAa,SAAC//B,EAASc,EAAQg/B,GAAY,IAAD,EACxCsB,EAAa,UAAGtB,EAAOh/B,UAAV,QAAqB,GAClCugC,EAAmBrhC,EAAQM,QAAO,SAAAiB,GAAI,OAAK6/B,EAAcjmB,SAAS5Z,MACxE,MAAM,GAAN,mBAAW6/B,GAAX,YAA6BC,KAGlBC,GAAa,WAAO,IAAD,EAC9B,EAA4Bl+B,IAAMyO,SAAS,IAA3C,oBAAOiuB,EAAP,KAAeyB,EAAf,KACMp9B,EAAUd,KAEVm+B,EAAkBp+B,IAAMmI,aAC5B,SAACzK,EAAQ2gC,GAAT,OAAuB,SAAAh6B,GACrBA,EAAM+c,kBACN+c,GAAU,SAAA9xB,GAAI,wCAAUA,GAAV,kBAAiB3O,EAAjB,CAA2B2gC,GAA3B,oBAAyC,UAAChyB,EAAK3O,UAAN,QAAiB,IAAIR,QAAO,SAAAM,GAAC,OAAIA,IAAM6gC,eAEhG,CAACF,IAGGvhC,EAAU,CACd,CAAEuB,KAAM,MAAOupB,OAAQ,cAAe5e,SAAU,IAAKoiB,KAAMwM,GAAY4G,WAAW,EAAOlhC,KAAM,aAC/F,CAAEe,KAAM,UAAWupB,OAAQ,eAAgBnnB,MAAO,IAAK2qB,KAAM2Q,GAAayC,WAAW,EAAOlhC,KAAM,WAClG,CAAEe,KAAM,SAAUupB,OAAQ,SAAUnnB,MAAO,IAAK2qB,KAAMsQ,GAAe8C,WAAW,GAChF,CACEngC,KAAM,YACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,aAA9E,SACE,eAACh3B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,yBAIDm1B,GAAW5Z,KAAW,YAAa2Z,GAAQn/B,KAAI,SAAAuM,GAAK,OACnD,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,YAAat0B,GAAQ5I,UAAWH,EAAQ26B,MAA3F,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAMuR,GAAeC,IAEvB,CACEv+B,KAAM,gBACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,iBAA9E,SACE,eAACh3B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,8BAIDm1B,GAAWR,GAAqB,gBAAiBO,GAAQn/B,KAAI,SAAAuM,GAAK,OACjE,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,gBAAiBt0B,GAAQ5I,UAAWH,EAAQ26B,MAA/F,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAM4R,GAAoBJ,IAE5B,CACEv+B,KAAM,OACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,QAA9E,SACE,eAACh3B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,oBAIDm1B,GAAW3a,KAAO,OAAQ0a,GAAQn/B,KAAI,SAAAuM,GAAK,OAC1C,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,OAAQt0B,GAAQ5I,UAAWH,EAAQ26B,MAAtF,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAM8R,GAAWN,IAEnB,CACEv+B,KAAM,gBACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,iBAA5F,sBAIDzB,GAAWN,GAAqB,gBAAiBK,GAAQn/B,KAAI,SAAAuM,GAAK,OACjE,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,gBAAiBt0B,GAAQ5I,UAAWH,EAAQ26B,MAA/F,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAMoS,GAAoBZ,IAE5B,CACEv+B,KAAM,YACNoC,MAAO,KACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAS9B,QAAS04B,EAAgB,OAAQ,aAAcl9B,UAAWH,EAAQ26B,MAAnG,yBAIDiB,GAAWL,GAAe,YAAaI,GAAQn/B,KAAI,SAAAuM,GAAK,OACvD,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,YAAat0B,GAAQ5I,UAAWH,EAAQ26B,MAA3F,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAMuS,GAAcf,IAEtB,CACEv+B,KAAM,sBACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAS9B,QAAS04B,EAAgB,OAAQ,uBAAwBl9B,UAAWH,EAAQ26B,MAA7G,oCAIDiB,GAAWJ,GAA0B,sBAAuBG,GAAQn/B,KAAI,SAAAuM,GAAK,OAC5E,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,sBAAuBt0B,GAAQ5I,UAAWH,EAAQ26B,MAArG,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAMsS,GAAyBd,IAEjC,CACEv+B,KAAM,WACNoC,MAAO,KACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEgB,aAAc,IAAvC,UACE,eAACiF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,YAA9E,SACE,eAACh3B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,wBAIDm1B,GAAWza,KAAU,WAAYwa,GAAQn/B,KAAI,SAAAsJ,GAAC,OAC7C,eAACO,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAASlC,QAAS04B,EAAgB,WAAYv3B,GAAI3F,UAAWH,EAAQ26B,MAAlF,SACGC,GAAO90B,IADSA,WAO3BqkB,KAAMwS,GAAehB,IAEvB,CACEv+B,KAAM,aACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,cAA9E,SACE,eAACh3B,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,oCAIDm1B,GAAWta,KAAY,aAAcqa,GAAQn/B,KAAI,SAAAsJ,GAAC,OACjD,eAACO,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAASlC,QAAS04B,EAAgB,aAAcv3B,GAAI3F,UAAWH,EAAQ26B,MAApF,SACGC,GAAO90B,IADSA,WAO3BqkB,KAAMgS,GAAgBR,IAExB,CACEv+B,KAAM,cACNoC,MAAO,KACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,eAA5F,2BAIDzB,GAAWH,GAAkB,cAAeE,GAAQn/B,KAAI,SAAAuM,GAAK,OAC5D,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAalC,QAAS04B,EAAgB,cAAet0B,GAAQ5I,UAAWH,EAAQ26B,MAA7F,SACGC,GAAO7xB,IADSA,WAO3BohB,KAAMkS,GAAiBV,IAEzB,CACEv+B,KAAM,SACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,UAA5F,sBAIDzB,GAAW9Z,KAAQ,SAAU6Z,GAAQn/B,KAAI,SAAAsJ,GAAC,OACzC,eAACO,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAASlC,QAAS04B,EAAgB,SAAUv3B,GAAI3F,UAAWH,EAAQ26B,MAAhF,SACGC,GAAO90B,IADSA,WAO3BqkB,KAAM0S,GAAYlB,IAEpB,CACEv+B,KAAM,UACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,WAA5F,uBAIDzB,GAAW7Z,KAAS,UAAW4Z,GAAQn/B,KAAI,SAAAsJ,GAAC,OAC3C,eAACO,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAASlC,QAAS04B,EAAgB,UAAWv3B,GAAI3F,UAAWH,EAAQ26B,MAAjF,SACGC,GAAO90B,IADSA,WAO3BqkB,KAAM4S,GAAapB,IAErB,CACEv+B,KAAM,OACNoC,MAAO,IACPmnB,OACE,qCACE,gBAACtgB,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAStG,UAAWH,EAAQ26B,MAAOh2B,QAAS04B,EAAgB,OAAQ,QAA5F,oBAIDzB,GAAWna,KAAM,OAAQka,GAAQn/B,KAAI,SAAAsJ,GAAC,OACrC,eAACO,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAASlC,QAAS04B,EAAgB,OAAQv3B,GAAI3F,UAAWH,EAAQ26B,MAA9E,SACGC,GAAO90B,IADSA,WAO3BqkB,KAAM0R,GAAWF,KAIf6B,EAAgB3hC,EAAQM,QAAO,SAAAM,GAAC,OAAoB,IAAhBA,EAAE8gC,aACtCE,EAAiB5hC,EAAQM,QAAO,SAAAM,GAAC,OAAoB,IAAhBA,EAAE8gC,aAEvCN,GAAgB,UAACtB,EAAM,YAAP,QAAmB,IAAIn/B,KAAI,SAAAY,GAAI,OAAIqgC,EAAerrB,MAAK,SAAA3V,GAAC,OAAIA,EAAEW,OAASA,QACvF8/B,EAAmBO,EAAethC,QAAO,SAAAM,GAAC,cAAK,UAACk/B,EAAM,YAAP,QAAmB,IAAI3kB,SAASva,EAAEW,SASvF,MAPsB,sBAAIogC,GAAJ,YAAsBP,GAAtB,YAAwCC,IAAkB1gC,KAAI,SAAAC,GAAC,kCAChFA,GADgF,IAEnFihC,eAAe,Q,+HC5bbx+B,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAAH,OAC3BpB,aAAa,CACXk3B,IAAK,CACH/2B,SAAU,WACV02B,OAAQz1B,EAAQ,IAChB4hB,MAAO5hB,EAAQ,GACfZ,OAAQ,aAKRmnB,GAAc7E,cAAW,SAAApY,GAAK,OAClC1K,aAAa,CACX+iB,MAAO,CACLtO,KAAM,EACNuO,MAAO,EACPpP,OAAO,aAAD,OAAelJ,EAAMvJ,QAAQQ,WAAWJ,YALhCuhB,CAQlBG,MAEa,SAASsb,GAAT,GAcX,IAAD,IAbD1jC,GAAI2jC,OAaH,WAbQzjC,EAaR,MAZDN,YAYC,MAZM,MAYN,EAXDG,EAWC,EAXDA,MACA0kB,EAUC,EAVDA,OAUC,IATDjc,YASC,MATM0D,KASN,OARDuJ,QAQC,EAPD/K,gBAOC,WAPSxK,EAOT,MAND8Q,eAMC,WANS9Q,EAMT,MALDkK,gBAKC,WALUlK,EAKV,OAJDklB,QAIC,EAHDV,cAGC,aAFDzR,qBAEC,MAFe,GAEf,EADE5C,EACF,mBACKtK,EAAUd,KAChB,EAA4B0iB,YAAqB5nB,GAAjD,oBAAO0R,EAAP,KAAeU,EAAf,KACA,EAaIV,EAbJ,IACEyV,gBADF,MACa,GADb,MAEEI,mBAFF,MAEgB,GAFhB,MAGEO,cAHF,MAGW,GAHX,MAIEC,eAJF,MAIY,GAJZ,MAKEV,uBALF,MAKoB,GALpB,MAMEC,kBANF,MAMe,GANf,MAOEU,iBAPF,MAOc,GAPd,MAQEC,YARF,MAQS,GART,MASEtB,eATF,MASY,GATZ,MAUEc,YAVF,MAUS,GAVT,MAWEP,sBAXF,MAWmB,GAXnB,MAYEQ,oBAEIoF,EAAc,CAClB3F,EACAI,EACAO,EACAC,EACAV,EACAC,EACAU,EACAC,EACAtB,EACAc,EACAP,OAzBF,MAYwB,GAZxB,GA2BErb,QAAO,SAACC,EAAGrJ,GAAJ,OAAeqJ,EAAIrJ,EAAEF,SAAS,GACjCtC,GAAK2jC,GAAUlf,GAAUA,EAAOld,MACtC,GAA2BqT,aAAe5a,IAAjCm7B,GAAT,sBACA,GAAgCn2B,IAAMyO,SAAmC,MAAzE,sBAAOwP,GAAP,MAAiBC,GAAjB,MAEM0gB,GAAUhhC,KAAKC,UAAUwN,GACzBwzB,GAAe7+B,IAAMmI,aAAY,WACrCguB,GAAe,aACbv7B,OACA4Q,MAAM,EACNyC,cAAejP,YAASiP,IACrBrQ,KAAKqR,MAAM2vB,QAEf,CAACzI,GAAgByI,GAAS3wB,EAAerT,IAEtC8Q,GAAc1L,IAAMmI,aAAY,WACpC+V,GAAY,MACZlS,GAAWA,MACV,CAACA,EAASkS,KAEPtC,GAAc5b,IAAMmI,aACxB,SAAA9D,GACE6Z,GAAY7Z,EAAM8a,eAClBzZ,GAAWA,EAAQrB,GACnBw6B,OAEF,CAACn5B,EAASm5B,KAGNxe,GAAcrgB,IAAMmI,aAAY,kBAAMgF,EAAU,MAAK,CAACA,IAC5D,OACE,uCACGuS,GAASD,GAAUb,aAAmB,2BAAKa,GAAN,IAAcxB,YAAUjS,QAASN,GAAatG,WAAUgb,QAASC,GAAa5T,SAAQU,eAC5H,sBAAKjM,UAAWH,EAAQs2B,IAAxB,SACE,eAAC,GAAD,CAAatP,aAAcF,EAAalmB,MAAM,QAAQm9B,QAAQ,SAASlzB,aAAc,CAAEE,WAAY,QAASD,SAAU,UAAtH,SACE,eAAC9F,GAAA,EAAD,CAAK1G,KAAK,QAAQsC,MAAM,UAAU,aAAW,YAAY+D,QAASkW,GAAlE,SACE,eAACpY,EAAD,a,6UC3DNvD,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAASD,EAAZ,EAAYA,QAAS/C,EAArB,EAAqBA,OAArB,OAC3B4B,aAAa,CACXoC,MAAO,CACLG,SAAU,GACVmG,QAAStH,EAAQ,GACjBkB,YAAalB,EAAQ,GACrBY,aAAcZ,EAAQ,IAExBkT,aAAc,CACZ9S,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQmJ,MAAMzI,KAC1B,UAAW,CACTF,WAAYR,EAAQmJ,MAAMM,OAG9B2J,kBAAmB,CACjB/S,MAAOL,EAAQmJ,MAAMzI,MAEvB2S,eAAgB,CACdhT,MAAOL,EAAQS,QAAQwS,MACvBjU,SAAU,WACVsU,IAAK,MACLC,KAAM,MACN/R,WAAavE,EAAOuW,aAAe,EACnC9O,YAAczH,EAAOuW,aAAe,GAEtCoL,KAAM,oBAAG3f,MAAH,MAA2B,CAC/BA,WADI,MAAW,IAAX,SAMK,SAASw+B,GAAT,GAwBK,IAvBlB/jC,EAuBiB,EAvBjBA,GACOga,EAsBU,EAtBjBzS,MACA0b,EAqBiB,EArBjBA,SACetQ,EAoBE,EApBjBM,cAoBiB,IAnBjBiH,mBAmBiB,MAnBH,SAmBG,MAlBjBC,mBAkBiB,MAlBH,SAkBG,MAjBjBC,mBAiBiB,MAjBH,SAiBG,MAhBjB1H,cAgBiB,MAhBR,GAgBQ,EAfjBnN,EAeiB,EAfjBA,MACAgV,EAciB,EAdjBA,SACAC,EAaiB,EAbjBA,SACAxJ,EAYiB,EAZjBA,QACAoU,EAWiB,EAXjBA,QACA3K,EAUiB,EAVjBA,QACA5H,EASiB,EATjBA,SACAjR,EAQiB,EARjBA,QACAyW,EAOiB,EAPjBA,eACAC,EAMiB,EANjBA,eAMiB,IALjB7G,OAAQqB,OAKS,WALQ5S,EAKR,MAJjBiS,UAAWY,OAIM,WAJc7S,EAId,MAHjB8S,yBAGiB,SAFjBlN,EAEiB,EAFjBA,SACGuK,EACc,mBACT9M,EAAW0C,eAAX1C,OACR,EAA0BqX,aAAe5a,GAAzC,oBAAOF,EAAP,KAAc8S,EAAd,KACQpC,EAAoC1Q,EAApC0Q,KAAM5Q,EAA8BE,EAA9BF,KAAMib,EAAwB/a,EAAxB+a,QAAS3H,EAAepT,EAAfoT,WACvB3L,EAAQzH,EAAMyH,MAAQzH,EAAMyH,MAAQyS,EAE1C,EAA0ChV,IAAMyO,UAAS,GAAzD,oBAAOqH,EAAP,KAAsBC,EAAtB,KACMC,EAAsBhW,IAAMmI,aAAY,kBAAM4N,GAAiB,SAAA1J,GAAI,OAAKA,OAAO,CAAC0J,IAEhFhV,EAAUd,GAAU,CAAEM,UAE5B,EAA6DkN,GAAU,CACrEjC,OACAkC,SACAC,gBACA7S,QACA8S,WACAC,WACAE,oBACAD,iBACAE,sBATMvB,EAAR,EAAQA,OAAQmD,EAAhB,EAAgBA,WAAYP,EAA5B,EAA4BA,OAAQE,EAApC,EAAoCA,WAAYM,GAAhD,EAAgDA,SAY1CoG,GAAWrY,KAAKC,UAAU4O,GAC1ByJ,GAAelW,IAAMmI,aAAY,WACjCoH,EAAa,EACf3B,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB8B,YAAY,OAEzCoH,GAAYA,EAAS3X,KAAKqR,MAAMgH,OAEjC,CAACrI,EAAU2H,EAAUU,GAAU1G,IAE5B4G,GAAenW,IAAMmI,aAAY,WACrCqN,GAAYA,EAAS5X,KAAKqR,MAAMgH,OAC/B,CAACT,EAAUS,KAERvK,GAAc1L,IAAMmI,aAAY,WACpCyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,OACnCQ,GAAWA,MACV,CAAC4B,EAAU5B,IAERqU,GAAcrgB,IAAMmI,aAAY,WACpCiY,GAAWA,MACV,CAACA,IAEEhK,GAAe,CACnB1I,SACAmC,YACApD,SACA7P,UACAyW,iBACAC,kBAGI+C,GAAaR,GAAW3H,EACxBrB,GAAWwJ,IAAchH,EAAM,QAErC,OACE,eAAC2vB,GAAA,EAAD,yBACEhkC,GAAIA,EACJwQ,KAAMA,GAAQ2S,QAAQF,GACtBA,SAAUA,EACVjS,QAASA,EACTJ,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdwT,gBAAiB,CACfzT,SAAU,MACVC,WAAY,UAEVT,GAbN,aAeE,gBAAC4zB,GAAA,EAAD,CAAM/9B,UAAWH,EAAQmf,KAAzB,UACa,OAAV3d,GACC,uCACE,eAAC28B,GAAA,EAAD,CACEh+B,UAAWH,EAAQwB,MACnBA,MAAOA,GAAgBvH,EACvB6D,OACE6M,IACE,eAAC,KAAD,CAASnJ,MAAM,QAAQqD,UAAU,OAAjC,SACE,eAACH,GAAA,EAAD,CAAY,aAAW,QAAQC,QAASgG,GAAxC,SACE,eAAC,KAAD,UAMV,eAAC+K,GAAA,EAAD,OAGJ,eAAC0oB,GAAA,EAAD,UACE,eAAC1rB,GAAD,CAAWhJ,MAAO4E,EAAM,QAAxB,SACE,qCACGvO,IAEG2U,EACF,eAACA,EAAD,eAAaW,KAEb,uCACGC,IAAc,eAACO,GAAA,EAAD,CAAkBvX,KAAMd,EAAOuW,aAAc5T,UAAWH,EAAQ4T,iBAC/E,eAAC3B,GAAA,EAAD,CAAUC,IAAK6C,EAAf,SACE,eAAC1O,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,SACE,eAAC,GAAD,eAAY6U,SAGfN,GACC,gBAAC1O,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,SAASC,WAAW,SAAxD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQnR,QAASsQ,EAAqBrU,MAAM,YAA5C,sBAIF,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQnR,QAASyQ,GAAcjV,UAAWH,EAAQ0T,aAAlD,UACE,eAAC,KAAD,CAActT,MAAO,CAAE8E,YAAa,KADtC,WAEWkP,oBAU3B,eAACsB,GAAA,EAAD,IACA,gBAAC2oB,GAAA,EAAD,WACE,eAACvoB,GAAA,EAAD,CAAQxX,KAAK,QAAQsC,MAAM,UAAU+D,QAAS2a,GAA9C,mBAGU,SAATzlB,QAAgCM,IAAbsa,GAClB,eAACqB,GAAA,EAAD,CAAQxX,KAAK,QAAQwN,SAAUA,GAAU3L,UAAWH,EAAQ2T,kBAAmBhP,QAASsQ,EAAxF,SACGb,IAGY,OAAhBD,GACC,eAAC2B,GAAA,EAAD,CAAQxX,KAAK,QAAQsC,MAAM,UAAU+D,QAASgG,GAA9C,SACGwJ,IAGY,OAAhBE,GACC,eAACyB,GAAA,EAAD,CAAQ9G,WAAS,EAAC1Q,KAAK,QAAQwN,SAAUA,KAAa+C,EAAYjO,MAAM,UAAU+D,QAASwQ,GAA3F,SACGd,GAAexa,aCnO9B,IAAMqF,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXiC,WAAY,CACVT,MAAOL,EAAQyV,KAAKI,WAEtBkoB,QAAS,CACPp5B,aAAc,GACdtE,MAAOL,EAAQyV,KAAKI,gBAKX,SAASmoB,GAAT,GAAiF,IAAD,IAAzDnhC,YAAyD,MAAlD,eAAkD,MAAlC2L,aAAkC,MAA1B,uBAA0B,EACvF/I,EAAUd,KAChB,EAA4B2D,YAASzF,GAA7B0F,kBAAR,MAAqB,GAArB,EACMI,EAAcC,cACdC,EAAcnE,eAClB,SAAAxF,GAAK,OACHyJ,EAAY,CACVjJ,GAAImD,EACJ0F,WAAYrJ,MAEhB,CAAC2D,EAAM8F,IAEHW,EAAe5E,eAAkB,SAAAqN,GAAC,OAAIlJ,EAAYkJ,EAAExI,OAAOrK,SAAQ,CAAC2J,IAEpEC,EAAcpE,eAAkB,SAAAqN,GAAC,OAAIlJ,EAAY,MAAK,CAACA,IAE7D,OACE,eAAC,GAAD,CACE0N,OAAO,QACPrX,MAAOqJ,GAA0B,GACjCuB,SAAUR,EACVkF,MAAOA,EACPkG,WAAY,CACV1K,eACE,eAACC,GAAA,EAAD,CAAgBjF,SAAS,QAAzB,SACE,eAAC,KAAD,CAAcY,UAAWH,EAAQqB,eAGrCoD,aACE,gBAACD,GAAA,EAAD,CAAgBjF,SAAS,MAAzB,UACE,gBAACmF,GAAA,EAAD,CAAYvE,UAAWH,EAAQs+B,QAAS35B,QAAStB,EAAjD,UACE,eAAC,KAAD,IAAgB,OACJ,U,cCjDb7B,GAAQ,gBAEN,SAASg9B,GAAT,GAAkD,IAAD,IAAxBvkC,UAAwB,MAAnBuH,GAAmB,EAAT8I,EAAS,mBAExD9K,EADawE,eACQ,IAAM,IACjC,OACE,eAACg6B,GAAD,aACE/jC,GAAIA,EACJoa,YAAa,KACbF,YAAY,QACZ3U,MAAOA,EACP3D,QAAS,EACTyW,eAAgB,IAChBC,eAAgB,IAChBtF,mBAAmB,EACnBN,OAAQ,CACN,CAAE1S,GAAI,aAAc8O,MAAO,cAAe4I,MAAO4sB,IACjD,CACEtkC,GAAI,YACJ0X,MAAO2gB,GACPxiB,MAAOkS,KAAUxlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEjD,CACE9O,GAAI,OACJ0X,MAAO2gB,GACPxiB,MAAOmR,KAAMzkB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAE7C,CACE9O,GAAI,iBACJ8O,MAAO,kBACP4I,MAAO2gB,GACPxiB,MAAOoR,KAAe1kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEtD,CACE9O,GAAI,kBACJ0X,MAAO2gB,GACPxiB,MAAOuR,KAAgB7kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEvD,CACE9O,GAAI,WACJ0X,MAAO2gB,GACPxiB,MAAOqR,KAAS3kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEhD,CACE9O,GAAI,aACJ8O,MAAO,uBACP4I,MAAO2gB,GACPxiB,MAAOwR,KAAW9kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAElD,CACE9O,GAAI,cACJ0X,MAAO2gB,GACPxiB,MAAOyR,KAAY/kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAYnD,CACE9O,GAAI,UACJ0X,MAAO2gB,GACPxiB,MAAO0R,KAAUhlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAEjD,CACE9O,GAAI,OACJ0X,MAAO2gB,GACPxiB,MAAO2R,KAAKjlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,aAE5C,CACE9O,GAAI,sBACJ8O,MAAO,kCACP4I,MAAO2gB,GACPxiB,MAAO4R,KAAoBllB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,eAGzDuB,IC/FH,ICCMm0B,GAAkB,SAACvkC,EAAM2B,GACpC,IAAM6iC,EDFyB,WAC/B,IAAMz3B,EAAWC,cACjB,OAAOjI,eAAkB,gBAAGjF,EAAH,EAAGA,MAAO4B,EAAV,EAAUA,IAAV,OAAoBqL,E7FyBjB,SAACjN,EAAO4B,GAAR,MAAiB,CAAE/B,KAAM,kBAAmBG,QAAO4B,O6FzBzB8iC,CAAe1kC,EAAO4B,MAAO,CAACqL,ICA7D03B,GACvB,OAAO1/B,IAAMmI,aACX,WAAuD,IAAtDw3B,EAAqD,wDAAhC5kC,EAAgC,uDAAxB0oB,KAAOroB,aACnC,GAAIukC,EACFtmB,QAAQC,IAAI,2BACZrb,EAAehD,EAAM2B,OAChB,CACL,IAAMD,EAAM1B,EAAKsC,KAAI,SAAAknB,GAAC,OAAIA,EAAEE,OAC5BtL,QAAQC,IAAI,yBACZmmB,EAAe,CAAE1kC,QAAO4B,WAG5B,CAAC8iC,EAAgBxkC,EAAM2B,K,YCNduB,GAAO,eAQPyhC,GAAuD,CAClEzhC,QACAusB,QAAS,CAAC9L,aAAmBsX,IAC7BpZ,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGGo8B,GAAe,SAAC,GAAwB,IAAtB5kC,EAAqB,EAArBA,KAAS2E,EAAY,mBAC5ChD,EAAUshC,KAChB,EAAgDt+B,EAAxCkgC,mBAAR,SAA4BC,EAAoBngC,EAApBmgC,gBACtBC,EAAeR,GAAgBvkC,EAAM2B,GACrC2gB,EAAUC,eAEhB,OACE,uCACGuiB,GAAmB,eAACA,EAAD,CAAiBE,SAAU1iB,GAAWyiB,IACzDF,GACC,uCACE,eAACxI,GAAD,IACA,eAACoH,GAAD,CAAcjf,OAAQ8f,EAAexkC,MAAOoD,KAC5C,eAAC84B,GAAD,CAAgBC,KAAK,aAGzB,eAAC7M,GAAD,2BAA2BuV,IAA3B,IAAqD3kC,KAAMA,EAAM2B,QAASA,EAASk9B,YAAY,EAAMoG,iBAAkB,GAAOtgC,Q,mDCpC9HK,GAAYC,cAAW,SAAC2K,GAAD,OAC3B1K,aAAa,CACXggC,SAAU,CACRn6B,YAAa,EACbpF,QAAS,OACTw/B,SAAU,OACV,QAAS,CACPvuB,OAAQhH,EAAMtJ,QAAQ,MAG1BxE,IAAK,CACHuF,aAAa,aAAD,OAAeuI,EAAMvJ,QAAQgU,eAKhC,SAAS+qB,GAAT,GAA4H,IAAD,IAA3FC,oBAA2F,MAA5E,QAA4E,MAA5DC,oBAA4D,aAAvCnV,qBAAuC,WAAvBlwB,EAAuB,EAATmQ,EAAS,mBAClItK,EAAUd,GAAU,IAC1B,EAA4BD,IAAMyO,UAAS,GAA3C,oBAAOqS,EAAP,KAAeC,EAAf,KAEA,EAA0B/gB,IAAMyO,SAAS,IAAzC,oBAAO3T,EAAP,KAAc8S,EAAd,KAEM4rB,EAAex5B,IAAMmI,aACzB,SAAAhK,GAAI,OAAI,SAAAkG,GACNuJ,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,kBAAiBlO,GAAO,OACrCitB,GAAiBA,OAEnB,CAACxd,EAAUwd,IAGPoV,EAAqBxgC,IAAMmI,aAAY,WAC3C4Y,GAAU,SAAA1U,GAAI,OAAKA,KACnB+e,GAAiBA,MAChB,CAACrK,EAAWqK,IAETqV,EAAWC,KAAcxjC,QAC7B,SAAAH,GAAG,OAAKwjC,GAAgBzf,GAAU,CAAC,SAAU,UAAW,sBAAuB,WAAY,wBAAwB3N,MAAK,SAAAwtB,GAAC,OAAIA,IAAM5jC,EAAI+M,YAGzI,OACE,uCACG22B,EAASljC,KAAI,SAACR,EAAUmB,GACvB,IAAMuO,EAASzN,YAASjC,EAAI6jC,WAAYv1B,GACxC,OACE,gBAACjE,GAAA,EAAD,CAAcE,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGL,UAAWH,EAAQhE,IAA3E,UACE,eAACqK,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,KAA3B,SACE,gBAACsF,GAAA,EAAD,CAAYC,QAASw6B,EAArB,UAAoCvjC,EAAI+M,MAAxC,SAEF,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAAC1G,UAAWH,EAAQo/B,SAA9C,SACG1zB,EAAOlP,KAAI,WAAqBW,GAArB,IAAG4L,EAAH,EAAGA,MAAO2G,EAAV,EAAUA,QAAV,OACV,+BACG8vB,GAAsB,IAANriC,GAAWuO,EAAOnP,OAAS,IAA0B,IAArBxC,EAAMiC,EAAI+M,OACzD,eAAC,GAAD,CAAcvH,MAAOxE,YAAQ0S,GAAW,GAAKA,EAA7C,SACE,eAAColB,GAAA,EAAD,CAEE10B,MAAO,CAAEW,WAAY/E,EAAI4E,MAAOA,MAAO,QAASsE,YAAa,GAC7DH,QAAQ,WACRzG,KAAK,QACLyK,MAAK,UAAK2C,EAAOnP,OAAS,EAArB,aACLoI,QAAS8zB,EAAaz8B,EAAI+M,QAN5B,UACUA,EADV,YACmB5L,MAQnBqiC,GAAgBriC,EAAI,GAAKuO,EAAOnP,OAAS,IAA0B,IAArBxC,EAAMiC,EAAI+M,OAC1D,kCAAaA,EAAb,YAAsB5L,IAEtB,eAAC,GAAD,CAAcqE,MAAOxE,YAAQ0S,GAAW,GAAKA,EAA7C,SACE,eAAColB,GAAA,EAAD,CAEE10B,MAAO,CAAEW,WAAY/E,EAAI4E,MAAOA,MAAO,QAASsE,YAAa,GAC7DH,QAAQ,WACRzG,KAAK,QACLyK,MAAOqY,aAAgBrY,IALzB,UACUA,EADV,YACmB5L,OAjBf4L,UANL5L,MAqCdqiC,GACC,eAACtoB,GAAA,EAAD,CACE9W,MAAO,CAAE6E,YAAa,EAAGlD,UAAW,GACpCgD,QAAQ,OACRnE,MAAM,UACNtC,KAAK,QACLoR,QAAQ,GACRpO,UAAU,SACVqD,QAAS86B,EAPX,mBASM1f,EAAS,OAAH,gBAAqB4f,KAAcpjC,OAASmjC,EAASnjC,QATjE,cCzER,IAAM2C,GAAYC,cAAW,SAAC2K,GAAD,OAC3B1K,aAAa,CACX0gC,YAAa,CACX9sB,OAAQ,EACR,kBAAmB,OACnB,uBAAwB,CACtBnT,QAAS,OACTL,MAAO,EACPC,OAAQ,GAEV,6BAA8B,CAE5BY,gBAAiByJ,EAAMvJ,QAAQS,QAAQwS,MACvChM,aAAc,IAEhB,qBAAsB,OACtB,6BAA8B,OAC9B,gCAAiC,QAEnC43B,SAAU,CACRn6B,YAAa,EACbpF,QAAS,OACTw/B,SAAU,OACV,QAAS,CACPvuB,OAAQhH,EAAMtJ,QAAQ,MAG1Bu/B,SAAU,CACRh4B,SAAU,KAEZ9M,KAAM,CACJ+jB,OAAQ,UACR9Z,YAAa,GAEflJ,IAAK,CACHuF,aAAa,aAAD,OAAeuI,EAAMvJ,QAAQgU,eAOhC,SAASoiB,GAAW93B,GACjC,IACE+kB,EAiBE/kB,EAjBF+kB,IADF,EAkBI/kB,EAhBFzB,YAFF,MAESi6B,aAAWx4B,GAFpB,IAkBIA,EAfFi4B,eAHF,MAGYC,aAAcl4B,GAH1B,IAkBIA,EAdF+uB,iBAJF,MAIc,GAJd,IAkBI/uB,EAbFq9B,aALF,MAKU,GALV,IAkBIr9B,EAZFm9B,sBANF,MAMmB,GANnB,EAOE/O,EAWEpuB,EAXFouB,YACAG,EAUEvuB,EAVFuuB,QACAU,EASEjvB,EATFivB,QATF,EAkBIjvB,EARFmhC,iBAVF,MAUc,GAVd,IAkBInhC,EAPFiK,YAXF,MAWS+tB,aAAWh4B,GAXpB,EAYEohC,EAMEphC,EANFohC,OACAtK,EAKE92B,EALF82B,QACAG,EAIEj3B,EAJFi3B,QACAF,EAGE/2B,EAHF+2B,SACAF,EAEE72B,EAFF62B,QAhBF,EAkBI72B,EADFqhC,8BAjBF,MAiB2BzF,GAjB3B,EAoBMz6B,EAAUd,KAEV2sB,EAAa5sB,IAAMmI,aACvB,SAAA+4B,GAAQ,OAAI,SAAA78B,GACV,IAAMsoB,EAAmB,YAAbuU,EAAyBlT,EAA2B,QAAbkT,EAAqB/S,EAAUU,EACxEhC,OAAOrhB,KAAKmhB,EAAK,UACvBloB,WAEN,CAACupB,EAAaG,EAASU,IAGnBsS,EAAsBpE,EAAex/B,KAAI,SAAA6jC,GAC7C,IAAMC,EAAM3N,KAAuBvgB,MAAK,SAAAkuB,GAAG,OAAIA,EAAI7mC,QAAU4mC,KAC7D,OAAOC,EAAOA,EAAIrF,MAAQqF,EAAIrF,MAAQqF,EAAI7mC,MAAS4mC,KAG/CE,EAAUvjC,YAAQ04B,GAAW9R,EAAM8R,EACnC8K,EAAeC,aAAoBF,EAAS5K,GAC5C+K,EAAgBF,EAAe,EAAf,YAAwBA,EAAxB,WAAgD,GACtE,EAAoBhK,cAAbC,EAAP,qBACA,OACE,eAACjG,GAAD,UACE,eAACpW,GAAA,EAAD,CAAKse,GAAI,EAAGC,GAAI,EAAhB,SACE,gBAACtyB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MA/CP,KA+Cb,SACE,gBAAC6G,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAE4I,SAAU,KAA9B,SACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,sBAAKzG,MAAO,CAAEX,OAAQ,KAAOkc,IAAK7S,EAAM8S,IAAI,WAE7C6a,GACC,eAACpwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAOg1B,EAAW,YAAc,UAA3D,oBACmB,IAAbA,EAAoB,WAAa,gBADvC,OACwD8K,YAMhE,eAACr6B,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAAChC,QAAQ,KAA3B,SACG3H,GAAQ,mBAGb,eAACiJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAzB,SACGk2B,MAGL,eAACzwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAAC2jB,UAAU,OAA7B,SACE,eAACrkB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACGotB,EAAUzxB,OAAOC,KAAYI,KAAI,SAACusB,EAAG5rB,GAAJ,OAChC,gBAACkJ,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,eAACuY,GAAA,EAAD,CAAMvd,UAAU,SAAiBnB,UAAWH,EAAQ/E,KAAM0J,QAASknB,EAAW9C,GAA9E,SACGA,GAD2BA,GAG7B5rB,IAAMywB,EAAUzxB,OAAOC,KAAYG,OAAS,GAA5C,WAJH,mBAA4BwsB,EAA5B,YAAiC5rB,aAUzC,eAACkJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,SACkC,IAA/Bq7B,EAAoB7jC,OACnB,yBACE6jC,EAAoB7jC,OAAS,EAC/B,eAAC2a,GAAA,EAAD,CAAcnS,QAAQ,OAAOzG,KAAK,QAAQmE,KAAM,KAAMiN,QAASssB,EAAet/B,KAAK,OAAnF,sCAIA0jC,EAAoB1jC,KAAK,WAI/B,eAAC2J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,SACoB,IAAjBm3B,EAAM3/B,OACL,eACE2/B,EAAM3/B,OAAS,EACjB,eAAC2a,GAAA,EAAD,CAAcnS,QAAQ,OAAOzG,KAAK,QAAQmE,KAAM,KAAMiN,QAASwsB,EAAMx/B,KAAK,OAA1E,uCAIAw/B,EAAMx/B,KAAK,WAIhB+5B,GACC,eAACpwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,sBACY+wB,EAAU8C,YAAwBjD,GAAW,QAI5DA,IAAYG,GACX,eAACzvB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,2BACiB+wB,EAAU8C,YAAwB9C,GAAW,QAIlE,eAACzvB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACq5B,EAAD,CAAwBtc,IAAKA,EAAKqc,OAAQA,EAAQD,UAAWA,gBAMvE,eAAC35B,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,KAAjC,SACE,eAACu3B,GAAD,eAA0BzgC,aCvLtC,IAAMzB,GAAO,eACAujC,GAA2D,CACtEnI,QAAQ,EACRp7B,QACAusB,QAAS,CAAC9L,aAAmBsX,IAC7Bt5B,QAAS,CAAC,CAAEuB,KAAM,MAAOupB,OAAQ,cAAewD,KAAMwM,KACtD5a,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,G,UCdK,SAASk+B,GAAT,GAMX,IAAD,IALD77B,eAKC,MALS,UAKT,MAJD87B,sBAIC,MAJgB,IAIhB,MAHD/I,oBAGC,WAHc39B,EAGd,MAFD49B,kBAEC,WAFY59B,EAEZ,MADDkwB,qBACC,WADelwB,EACf,EACD,EAA4B8E,IAAMyO,UAAS,GAA3C,oBAAOqS,EAAP,KAAeC,EAAf,KAEMyf,EAAqBxgC,IAAMmI,aAAY,WAC3C4Y,GAAU,SAAA1U,GAAI,OAAKA,KACnB+e,GAAiBA,MAChB,CAACrK,EAAWqK,IAEX7rB,EAAexB,YAAO,OAAC+6B,QAAD,IAACA,OAAD,EAACA,EAAYv5B,aAArB,OAA6Ds5B,QAA7D,IAA6DA,OAA7D,EAA6DA,EAAct5B,YAAvCu5B,EAAWv5B,YAC3DghC,GAA0B,OAAXhhC,QAAW,IAAXA,OAAA,EAAAA,EAAajC,QAASskC,EACvCC,OAAuB3mC,EAK3B,OAJe,IAAX4lB,GAAoByf,IACtBsB,EAAuBtiC,EAAYuiC,UAAU,EAAGF,GAAkB,SAG7DrB,EACL,uCACE,eAAC16B,GAAA,EAAD,CAAYC,QAASA,EAArB,SAA+Bgb,EAASvhB,EAAcsiC,IACtD,eAAC5pB,GAAA,EAAD,CAAcnS,QAAQ,OAAOnE,MAAM,UAAUtC,KAAK,QAAQoR,QAAQ,GAAGpO,UAAU,SAASqD,QAAS86B,EAAjG,SACG1f,EAAS,YAAH,iBAIX,eAACjb,GAAA,EAAD,CAAYC,QAASA,EAArB,SAA+BvG,I,iDC1BtBwiC,GAA8D,CACzExI,QAAQ,EACRp7B,KAHW,eAIXusB,QAAS,CAAC9L,aAAmBsX,IAC7Bt5B,QAAS,CAAC,CAAEuB,KAAM,MAAOupB,OAAQ,cAAewD,KCOnC,SAA4BtrB,GACzC,MAaIA,EAZFzB,YADF,MACSi6B,aAAWx4B,GADpB,IAaIA,EAXFi4B,eAFF,MAEYC,aAAcl4B,GAF1B,IAaIA,EAVF+uB,iBAHF,MAGc,GAHd,IAaI/uB,EATFq9B,aAJF,MAIU,GAJV,EAKEjP,EAQEpuB,EARFouB,YACAG,EAOEvuB,EAPFuuB,QACA0K,EAMEj5B,EANFi5B,aACAC,EAKEl5B,EALFk5B,WACAjK,EAIEjvB,EAJFivB,QATF,EAaIjvB,EAHFiK,YAVF,MAUS+tB,aAAWh4B,GAVpB,EAWE82B,EAEE92B,EAFF82B,QACAG,EACEj3B,EADFi3B,QAGMzL,EAAkBxrB,EAAlBwrB,cAEF5O,EAAoBC,eAE1B,OACE,eAACtB,GAAA,EAAD,CAAKC,GAAI,EAAGiG,GAAI,EAAGC,GAAI,EAAG0gB,QAAS15B,KAAK,KAAM6oB,YAAa7oB,KAAK,KAAMyL,OAAO,YAAYxL,aAAc,GAAvG,SACE,eAAC4S,GAAA,EAAD,CAAK2O,EAAG,EAAR,SACE,gBAAC1iB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAE2H,SAAU,KAAjC,SACE,gBAAC1B,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAE4I,SAAUk4B,IAA9B,SACE,sBAAK9gC,MAAO,CAAEX,OA7BV,IA6BiCkc,IAAK7S,EAAM8S,IAAI,WAEtD,eAACvV,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B3H,GAAQ,mBAEpC,eAACiJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmCk2B,WAUzC,eAACzwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC+5B,GAAD,CAAuB7I,WAAYA,EAAYD,aAAcA,EAAczN,cAAeA,WAIhG,gBAAChkB,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,KAA3B,UACE,gBAAC6G,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACs6B,GAAA,EAAD,CAAiBvT,UAAWA,EAAWX,YAAaA,EAAaG,QAASA,EAASU,QAASA,MAE9F,eAACznB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,SACoB,IAAjBm3B,EAAM3/B,OACL,eACE2/B,EAAM3/B,OAAS,EACjB,eAAC2a,GAAA,EAAD,CAAcnS,QAAQ,OAAOzG,KAAK,QAAQmE,KAAM,KAAMiN,QAASwsB,EAAMx/B,KAAK,OAA1E,uCAIAw/B,EAAMx/B,KAAK,WAIjB,eAAC2J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,gBAAgBmE,QAAQ,UAAjD,0BACgB+wB,EAAU8C,YAAwB9C,GAAWH,EAAUiD,YAAwBjD,GAAW,WAI9G,eAACtvB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEkT,WAAY,IAAxC,SACE,eAAC4D,GAAA,EAAD,CACExH,QAAQ,GACR3K,QAAQ,iBACRzG,KAAK,QACLqG,QAAS8W,EAAkB9E,YAAU,YAAa,CAAEigB,IAAK/3B,EAAO4T,KAAM,uBAJxE,iCDjFZsJ,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGG0+B,GAAsB,SAAC,GAAyC,IAAvClnC,EAAsC,EAAtCA,KAAM8kC,EAAgC,EAAhCA,gBAAoB10B,EAAY,mBAClEzO,EAA6BmlC,GAA7BnlC,QAAYwlC,EAApB,aAAqCL,GAArC,IACM/B,EAAeR,GAAgBvkC,EAAM2B,GACrC2gB,EAAUC,eAChB,OACE,uCACGuiB,GAAmB,eAACA,EAAD,CAAiBE,SAAU1iB,GAAWyiB,IAC1D,eAAC3V,GAAD,2BAA2B+X,GAA3B,IAAyCxlC,QAASA,EAAS3B,KAAMA,EAAM6+B,YAAY,GAAUzuB,QEd7Fg3B,I,OAAU,SAAC/mC,EAASd,GAAV,OAAoBc,EAAQsL,QAAO,SAACC,EAAGrJ,GAAJ,OAAeqJ,IAAC,OAAIrM,QAAJ,IAAIA,OAAJ,EAAIA,EAAOud,SAASva,OAAK,KAE/E46B,GAAa,SAAAT,GACxB,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIx5B,MAEhB06B,IAAiB96B,YAAQ86B,EAAat2B,OACtCs2B,EAAat2B,MACbu2B,IAAe/6B,YAAQ+6B,EAAWv2B,OAClCu2B,EAAWv2B,MACXo1B,EAAIx5B,KALJw5B,EAAIx5B,MAQG25B,GAAgB,SAAAH,GAC3B,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIE,SAEhBgB,IAAiB96B,YAAQ86B,EAAatJ,WACtCsJ,EAAatJ,UACbuJ,IAAe/6B,YAAQ+6B,EAAWvJ,WAClCuJ,EAAWvJ,UACXoI,EAAIE,QALJF,EAAIE,SAoBGyK,GAAoB,SAACvnC,EAAOC,GAA4E,IAAD,EAAvEuiB,EAAuE,4DAA7DriB,EAAWqnC,EAAkD,wDAA1BC,EAA0B,wDAC5GtJ,EAAOhxB,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAOroB,qBAAnC,QAAoD,MACvEmB,EAAI,UAAG28B,EAAKl+B,UAAR,QAAe,GACnBy7B,EAAYl6B,EAAZk6B,QACNA,EAAU14B,YAAQ04B,GAAWl6B,EAAKooB,IAAM8R,EAExC,MAAoBc,cAApB,oBAAOC,EAAP,KACMiL,OAA0BvnC,IAAZqiB,EAAwBA,EAAUia,EAElDv8B,EACFi+B,IAASn7B,YAAQ04B,GACbz5B,OAAOC,KAAKi8B,GACTh8B,QACC,SAAAyJ,GAAC,OACE67B,IAAmC,IAAlBtJ,EAAKvyB,GAAG2vB,SACzBiM,IAAqC,IAAnBrJ,EAAKvyB,GAAG+d,UAC1BwU,EAAKvyB,GAAGge,MAAQ8R,GAAWyC,EAAKvyB,GAAG8vB,UAAYA,GAAWyC,EAAKvyB,GAAGge,MAAQ3pB,MAC1D,IAAhBynC,IAA4C,IAArBvJ,EAAKvyB,GAAGgwB,aAEnCp5B,KAAI,SAAAoJ,GAAM,IAAD,oBACFgxB,EAAmBuB,EAAKvyB,GAExB+7B,EAAgB,CACpBvkC,KAAMi6B,GAAWT,GACjBd,QAASc,EAAId,QAAU8C,YAAwBhC,EAAId,cAAW37B,EAC9D28B,QAASC,GAAcH,GACvBsF,MAAK,UAAEtF,EAAIsF,aAAN,aAAE,EAAWx/B,KAAK,KACvBkxB,UAAS,UAAEgJ,EAAIhJ,iBAAN,aAAE,EAAelxB,KAAK,KAC/BkgC,SAAQ,UAAEhG,EAAIgG,gBAAN,aAAE,EAAclgC,KAAK,KAC7B8/B,gBAAe,UAAE5F,EAAI4F,uBAAN,aAAE,EAAqB9/B,KAAK,KAC3C4/B,YAAW,UAAE1F,EAAI0F,mBAAN,aAAE,EAAiB5/B,KAAK,KACnCogC,OAAM,UAAElG,EAAIkG,cAAN,aAAE,EAAYpgC,KAAK,KACzBsgC,QAAO,UAAEpG,EAAIoG,eAAN,aAAE,EAAatgC,KAAK,KAC3B0/B,WAAU,UAAExF,EAAIwF,kBAAN,aAAE,EAAgB1/B,KAAK,KACjCu1B,UAAS,UAAE2E,EAAI3E,iBAAN,aAAE,EAAev1B,KAAK,KAC/Bo/B,KAAI,UAAElF,EAAIkF,YAAN,aAAE,EAAUp/B,KAAK,KACrBy1B,oBAAqByE,EAAIzE,oBACzB6J,eAAgBpF,EAAIoF,gBAGtB,OAAO,yBACLpY,IAAKgT,EAAIhT,IACTiS,OAAQe,EAAIf,QACT8L,GAHL,IAIEC,gBAAiB,WACf,OAAO3lC,OAAOC,KAAKylC,GAAe97B,QAAO,SAAC4F,EAAGhP,GAAJ,MAAe,CAACgP,EAAGk2B,EAAcllC,IAAIC,KAAK,OAAO,KAE5FwtB,UAAW,kBAAM0M,QAGvB,GAGN18B,EAAOA,EAAKmC,MAAK,kBAAc0J,EAAd,EAAGmkB,UAAH,OAAyC/kB,EAAzC,EAAqB+kB,aAAgCyL,QAAW5vB,IAAY4vB,WAE7F,MAAyBxuB,aAAY,SAACqJ,GAAD,OAAiBA,EAAExW,MAAMA,IAAU,MAAxE,IAAQO,eAAR,MAAkB,GAAlB,EACA,EAaIA,EAZFynB,iBADF,MACc,GADd,IAaIznB,EAXF8mB,uBAFF,MAEoB,GAFpB,IAaI9mB,EAVF0nB,YAHF,MAGS,GAHT,IAaI1nB,EATF4mB,gBAJF,MAIa,GAJb,IAaI5mB,EARFunB,cALF,MAKW,GALX,IAaIvnB,EAPFwnB,eANF,MAMY,GANZ,IAaIxnB,EANFgnB,mBAPF,MAOgB,GAPhB,IAaIhnB,EALF+mB,kBARF,MAQe,GARf,IAaI/mB,EAJFomB,eATF,MASY,GATZ,IAaIpmB,EAHFknB,YAVF,MAUS,GAVT,IAaIlnB,EAFFmnB,2BAXF,MAWwB,GAXxB,IAaInnB,EADF2mB,sBAZF,MAYmB,GAZnB,EAeM2gB,EAAe,SAAAxW,GAAC,OACpBiW,GAAQtf,EAAWqJ,EAAEuC,YACrB0T,GAAQjgB,EAAiBgK,EAAEmR,kBAC3B8E,GAAQrf,EAAMoJ,EAAE6Q,QAChBoF,GAAQngB,EAAUkK,EAAEuR,WACpB0E,GAAQ/f,EAAa8J,EAAEiR,cACvBgF,GAAQxf,EAAQuJ,EAAEyR,SAClBwE,GAAQvf,EAASsJ,EAAE2R,UACnBsE,GAAQhgB,EAAY+J,EAAE+Q,aACtBkF,GAAQ3gB,EAAS0K,EAAE4G,YACnBqP,GAAQ7f,EAAM4J,EAAEyQ,OAChBwF,GAAQ5f,EAAqB2J,EAAE8G,sBAC/BmP,GAAQpgB,EAAgBmK,EAAE2Q,iBAE5B,OAAO1D,aAAep+B,EAAMF,EAAO6nC,I,oBC/HxBrgC,GAAQ,cAEfsgC,GAAoB,SAAAjjC,GACxB,OAAO,eAAC,GAAD,aAAoBjB,MAAO8kB,GAA2C9f,eAAe,SAASpB,MAAOA,IAAW3C,KAG1G,SAASkjC,GAAT,GAAkF,IAAD,IAAjC9nC,UAAiC,MAA5BuH,GAA4B,EAArByJ,EAAqB,EAArBA,QAAYX,EAAS,mBAC9F,EAA4BuK,aAAe5a,GAAlCiT,EAAT,qBAASA,cACT,EAAkCspB,cAAlC,oBAAOC,EAAP,KAAkBC,EAAlB,KAGM/rB,EAAc1L,IAAMmI,aAAY,WAChCqvB,IACFC,GAAa,GACbA,GAAa,IAEfzrB,GAAWA,MACV,CAACwrB,EAAWC,EAAczrB,IAE7B,OACE,eAAC,GAAD,aACEhR,GAAIA,EACJuH,MAAO,KACPwH,SAAS,KACTmL,YAAY,QACZE,YAAa,KACbK,QAASotB,GACTntB,aAAc,CAAEzH,iBAChBjC,QAASN,GACLL,ICvBK,SAAS03B,GAAT,GAA+F,IAA7Dpe,EAA4D,EAA5DA,IAA4D,IAAvDqe,eAAuD,aAAvCC,mBAAuC,aAAnBC,gBAAmB,SACrGj1B,EAAgB/F,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS3D,aAAaupB,MACrElH,EAAWC,eAEXlB,EAAoBC,eAE1B,OACE,gBAACrV,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACG2hC,GACC,eAAC97B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEoY,OAAQsa,EACRj0B,QAAQ,aACR4Z,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,mCACR7K,UAAU,aAIf6X,GACC,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACG27B,EACC,eAAC,KAAD,CACEhoC,GAAG,iBACH8K,QAAQ,aACR4Z,OAAO,EACPlc,KAAM0D,KACNxB,QAAS8W,EAAkB9E,YAAU,qBACrCzJ,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,OACR7K,UAAU,WAGZ,eAACuV,GAAA,EAAD,CAAKkG,GAAI,MAId4hB,GACC,eAAC77B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQqjB,EACRpjB,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,0BACR7K,UAAU,gB,mCC7ChBi2B,GAAc,SAAC,GAAD,IAAGhF,EAAH,EAAGA,QAAH,OAClB,eAAChxB,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGk1B,EAAU8C,YAAwB9C,GAAW,MAI5CsM,GAAU,SAAC,GAAD,IAAGnyB,EAAH,EAAGA,MAAH,OACd,eAACnL,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGqP,KAICzQ,GAAQ,IAERN,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXijC,SAAU,CACR7iC,SACAoB,MAAOL,EAAQM,OAAOC,MACtBT,gBAAiBiiC,KAAI,MAEvB1M,SAAU,CACRp2B,SACAoB,MAAOL,EAAQM,OAAOC,MACtBT,gBAAiB0J,KAAM,MAEzBw4B,QAAS,CACP/iC,SACAoB,MAAOL,EAAQM,OAAOC,MACtBT,gBAAiBmiC,KAAO,MAE1BjN,MAAO,CACL/1B,SACAoB,MAAOL,EAAQyV,KAAKhV,QACpBX,gBAAiBoiC,KAAO,WAKjBC,GAAS,SAAA7jC,GACpB,IAAQ02B,EAAoB12B,EAApB02B,MAAOK,EAAa/2B,EAAb+2B,SACT51B,EAAUd,KACV6J,EAAQlK,EAAM8kB,OAAS,WAAa4R,EAAQ,QAAUK,EAAW,WAAa,mBACpF,OACE,eAACd,GAAA,EAAD,CACE30B,UAAWtB,EAAM8kB,OAAS3jB,EAAQqiC,SAAW9M,EAAQv1B,EAAQu1B,MAAQK,EAAW51B,EAAQ41B,SAAW51B,EAAQuiC,QAC3Gx5B,MAAOA,EACPhE,QAAQ,cAKR49B,GAAkB,SAAA9jC,GACtB,OAAO,eAACmjC,GAAD,2BAA4BnjC,GAA5B,IAAmCqjC,aAAa,EAAMC,UAAU,EAAOF,SAAS,MCxD1E,SAASW,GAAT,GAAsE,IAAtChf,EAAqC,EAArCA,IAAqC,IAAhCpH,QAASqmB,OAAuB,WAAb1oC,EAAa,EAC5Eq7B,EAAcruB,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS3D,aAAaupB,MACjEgS,EAAoBJ,EAApBI,SAAUL,EAAUC,EAAVD,MACZuN,EAAO,OAAGtN,QAAH,IAAGA,OAAH,EAAGA,EAAa7R,OAC7B,EAAmByS,cAAZsB,EAAP,qBACMhb,EAAWC,eACX5Y,EAAaC,eACbwY,EAAUC,eAChB,EAAoB+Z,cAAbC,EAAP,qBAEMxS,EAAcF,KAEd9T,EAAQ9I,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,SAEpF8yB,EAASlmC,KAAKC,UAAU04B,GAExBwN,EAAgB/jC,IAAMmI,aAC1B,SAAAwuB,GAAQ,OAAI,WACV,IAAMgB,EAAM/5B,KAAKqR,MAAM60B,GACvBnM,EAAId,SAAU,IAAIh7B,MAAOmrB,UACzB2Q,EAAIqM,cAAgBhzB,EACpB2mB,EAAIhB,SAAWA,EACf3R,EAAY,CACVG,MAAO1B,KAAOroB,aACdgqB,OAAQ,IACRF,KAAK,eAAMyS,GACXtS,UAAU,OAGd,CAACL,EAAahU,EAAO8yB,IAGjB3tB,EAAenW,IAAMmI,aACzB,SAAA07B,GAAO,OAAI,WACT,IAAMlM,EAAM/5B,KAAKqR,MAAM60B,GACvBnM,EAAId,SAAU,IAAIh7B,MAAOmrB,UACzB2Q,EAAIjT,OAASmf,EACb7e,EAAY,CACVG,MAAO1B,KAAOroB,aACdgqB,OAAQ,IACRF,KAAK,eAAMyS,GACXtS,UAAU,OAGd,CAACL,EAAa8e,IAGhB,OACE,uCACE,gBAAC18B,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACE,eAAC6F,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAAStG,MAAO,CAAEsH,UAAW,IAAMpB,MAAI,EAACO,GAAI9C,GAA2B,SAAb2zB,EAAsB,GAAK,EAAhH,SACGhb,GACC,eAAC,KAAD,CACEgC,OAAQyW,EACRxW,OAAO,EACP5Z,QAAQ,mBACR2K,QAAQ,GACRjN,KAAM,KACNyK,cAAa,eAAKwV,KAAOroB,aAAem7B,GAN1C,SAQE,eAAC1wB,GAAA,EAAD,CAAYiC,QAAM,EAAlB,8BAIJ87B,GAAYrmB,IAAyB,IAAdia,IACvB,gBAACpwB,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAAStG,MAAO,CAAEsH,UAAW,IAAMpB,MAAI,EAACO,GAAI9C,GAA2B,SAAb2zB,EAAsB,GAAK,EAAhH,UACE,sBAAKt3B,MAAO,CAAEe,cAAe,IAA7B,SACGo0B,EACC,eAAC,GAAD,CAAQA,MAAOA,EAAOK,SAAUA,IAEhC,eAAC,GAAD,CAAOn8B,MAAOm8B,EAAU7sB,MAAO6sB,EAAW,WAAa,eAAgBjxB,QAASq+B,GAAepN,OAGnG,sBAAKx1B,MAAO,CAAE2B,WAAY,IAA1B,SACE,eAAC,GAAD,CACEtI,MAAOqpC,EACP/5B,MAAO+5B,EAAU,WAAa,eAC9Bn+B,QAASyQ,GAAc0tB,GACvB1iC,MAAO,CAAEQ,MAAOkiC,EAAU,WAAQ3oC,aAM3C0oC,GAAW,gBAAC/9B,GAAA,EAAD,CAAYC,QAAQ,UAApB,8BAAyCywB,QAAzC,IAAyCA,OAAzC,EAAyCA,EAAavlB,Y,yBCtFlE7S,GAAO,sBAGPvB,GAAU,CAAC,CAAEuB,KAAM,MAAOupB,OAAQ,cAAewD,KAD7B,SAAAtrB,GAAK,OAAI,eAAC,GAAD,2BAAgBA,GAAhB,IAAuBqhC,uBAAwB0C,SAGrEM,GAAyB,SAAC,GAAiC,IAAD,EAA9Bh2B,EAA8B,EAA9BA,cAAkBrO,EAAY,mBAC/D+kB,EAAG,OAAG1W,QAAH,IAAGA,GAAH,UAAGA,EAAe7S,oBAAlB,aAAG,EAA6BupB,IACzC,OACE,uCACE,eAAC+Z,GAAD,CAAcjf,OAAQ8f,EAAexkC,MAAOoD,KAC5C,eAACm5B,GAAD,IACA,eAACL,GAAD,IACA,eAAC5M,GAAD,2BAA2BqX,IAA3B,IAAyD9kC,QAASA,GAASuB,KAAMA,GAAMlD,KAAMqnC,GAAkBnkC,GAAMwmB,GAAMmV,YAAY,GAAUl6B,Q,qBCXjJzB,GAAO,uBAEPikC,GAA2C,CAC/CjkC,SAGW+lC,GAAqB,CAAE/lC,KAAM,SAAUupB,OAAQ,SAAUnnB,MAAO,IAAK2qB,KAAMyY,GAAsBrF,WAAW,GAE5G6F,GAAqB,SAAC,GAAiC,IAAD,EAA9Bl2B,EAA8B,EAA9BA,cAAkBrO,EAAY,mBAC3D+kB,EAAG,OAAG1W,QAAH,IAAGA,GAAH,UAAGA,EAAe7S,oBAAlB,aAAG,EAA6BupB,IACnClH,EAAWC,eAEX9gB,EAAUshC,KAGVzT,EAAO,YAAQhN,EAAW7gB,EAAWA,EAAeM,QAAO,SAACM,GAAD,MAAuB,WAAXA,EAAEW,SACzEimC,EAAc3Z,EAAQoB,WAAU,SAAAruB,GAAC,MAAe,WAAXA,EAAEW,QAK7C,OAJIimC,GAAe,GACjB3Z,EAAQ4Z,OAAOD,EAAa,EAAGF,IAI/B,uCACE,eAAC,GAAD,CAAyBzkB,OAAQ8f,EAAexkC,MAAOoD,KACvD,eAAC84B,GAAD,CAAgBC,KAAK,UACrB,eAACI,GAAD,IACA,eAACjN,GAAD,uCACMuV,IACAwC,IAFN,IAGEnnC,KAAMqnC,GAAkBnkC,GAAMwmB,GAC9B/nB,QAAO,YAAM6tB,GACbqP,YAAY,GACRl6B,Q,qCCpCNzB,GAAO,cAEPmmC,GAAiB,SAAA1kC,GACrB,IAAM2d,EAAUC,eAChB,OAAO,eAACmmB,GAAD,2BAA0B/jC,GAA1B,IAAiC2d,QAASA,MAI7C3gB,GAAU,CAAC,CAAEuB,KAAM,MAAOupB,OAAQ,cAAewD,KAD7B,SAAAtrB,GAAK,OAAI,eAAC,GAAD,2BAAgBA,GAAhB,IAAuBqhC,uBAAwBqD,SAGrEC,GAA2B,SAAC,GAA4D,IAAD,EAAzDt2B,EAAyD,EAAzDA,cAAyD,IAA1Cu0B,qBAA0C,WAA1BtnC,EAA0B,EAAZ0E,EAAY,mBAC5F+kB,EAAG,OAAG1W,QAAH,IAAGA,GAAH,UAAGA,EAAe7S,oBAAlB,aAAG,EAA6BupB,IACzC,OACE,eAAC0F,GAAD,2BACMqX,IADN,IAEE9kC,QAASA,GACTuB,KAAMA,GACNlD,KAAMqnC,GAAkBnkC,GAAMwmB,GAAK,GAAM,EAAM6d,GAC/C1I,YAAY,GACRl6B,KAKG4kC,GAAqC,SAAA5kC,GAChD,OAAO,eAAC,GAAD,2BAA8BA,GAA9B,IAAqC4iC,eAAe,MCXvDviC,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXiC,WAAY,CACVT,MAAOL,EAAQyV,KAAKI,WAEtBkoB,QAAS,CACPp5B,aAAc,GACdtE,MAAOL,EAAQyV,KAAKI,gBAKX,SAASstB,GAAT,GAA8F,IAAD,IAApEjqC,aAAoE,MAA5D,GAA4D,MAAxDsP,aAAwD,WAAhD5O,EAAgD,MAArCmK,mBAAqC,WAAvBnK,EAAuB,EAAZkK,EAAY,EAAZA,SACxFrE,EAAUd,KAEVmE,EAAcpE,eAAkB,SAAAqN,GAAC,OAAIjI,EAAS,CAAEP,OAAQ,CAAErK,MAAO,QAAS,CAAC4K,IAEjF,OACE,eAAC,GAAD,CACEyM,OAAO,QACPxM,YAAaA,EACb7K,MAAOA,EACP4K,SAAUA,EACV0E,MAAOA,EACPkG,WAAY,CACV7O,MAAO,CAAEW,WAAY,SACrBwD,eACE,eAACC,GAAA,EAAD,CAAgBjF,SAAS,QAAzB,SACE,eAAC,KAAD,CAAcY,UAAWH,EAAQqB,eAGrCoD,aACE,gBAACD,GAAA,EAAD,CAAgBjF,SAAS,MAAzB,UACE,gBAACmF,GAAA,EAAD,CAAYvE,UAAWH,EAAQs+B,QAAS35B,QAAStB,EAAjD,UACE,eAAC,KAAD,IAAgB,OACJ,U,eCpDpBnE,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXukC,sBAAuB,CACrBjiC,YAAa,EACbN,aAAc,EACdoG,aAAc,EACdwX,OAAQ,OACRpe,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5B,UAAW,CACTjJ,WAAYR,EAAQS,QAAQgJ,OAGhCmN,cAAe,CACbzV,YAAa,EACbN,aAAc,EACdoG,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQC,KAC5B,UAAW,CACTF,WAAYR,EAAQS,QAAQgJ,YAMrB,SAAS45B,GAAT,GAAoD,IAAD,IAAxB1E,gBAAwB,WAAb/kC,EAAa,EAC1D6F,EAAUd,KAChB,EAAgCk3B,cAAhC,oBAAOsB,EAAP,KAAiBrB,EAAjB,KACMxb,EAAc5b,IAAMmI,aAAY,SAAA+uB,GAAI,OAAI,kBAAME,EAAYF,MAAO,CAACE,IAClE4I,EAAehgC,IAAMmI,aAAY,SAAAw3B,GAAW,OAAI,kBAAMM,GAAYA,EAASN,MAAc,CAACM,IAEhG,OACE,gBAAC74B,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACG0+B,GACC,uCACE,eAAC74B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQxX,KAAK,QAAQ6B,UAAWH,EAAQmX,cAAexS,QAASs6B,GAAa,GAA7E,UACE,eAAC,KAAD,CAAc7+B,MAAO,CAAE8E,YAAa,KADtC,uBAKF,eAACmB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQxX,KAAK,QAAQ6B,UAAWH,EAAQmX,cAAexS,QAASs6B,GAAa,GAA7E,UACE,eAAC,KAAD,CAAc7+B,MAAO,CAAE8E,YAAa,KADtC,4BAON,eAACmB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CACE+X,cAA4B,SAAb6J,EACfp5B,KAAK,QACL6B,UAAwB,SAAbu3B,EAAsB13B,EAAQ2jC,sBAAwB3jC,EAAQmX,cACzExS,QAASkW,EAAY,QAJvB,UAME,eAAC,KAAD,CAAYza,MAAO,CAAE8E,YAAa,KANpC,iBAUF,eAACmB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CACE+X,cAA4B,UAAb6J,EACfp5B,KAAK,QACL6B,UAAwB,UAAbu3B,EAAuB13B,EAAQ2jC,sBAAwB3jC,EAAQmX,cAC1ExS,QAASkW,EAAY,SAJvB,UAME,eAAC,KAAD,CAAYza,MAAO,CAAE8E,YAAa,KANpC,qBCtDR,IAAM4C,GAAU,GAGV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,GAAU,EAAIA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,OAC3BnB,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB4L,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzBi6B,WAAY,CACVrjC,MAAO,yBAKE,SAASsjC,GAAT,GAA6E,IAAD,MAA/C1iC,aAA+C,MAAvC,cAAuC,MAAxB09B,gBAAwB,WAAb/kC,EAAa,EACzF,EAAkDgqC,YAAe,gBAAjE,2BAASrhC,EAAT,EAASA,WAAT,IAAqBvI,eAArB,MAA+B,GAA/B,EAAqC6R,EAArC,KACA,EAA4BwV,YAAqB,gBAAxCwiB,EAAT,qBAEMpkC,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEjBH,EAAe5E,eACnB,SAAAhF,GAAE,OAAI,SAACqJ,GAAgB,IAAD,EACd7J,EAAK,OAAG6J,QAAH,IAAGA,GAAH,UAAGA,EAAOQ,cAAV,aAAG,EAAerK,MAE3B2S,EADS,eAAPnS,EACQ,SAAAqR,GAAI,MAAK,CAAExI,WAAYrJ,EAAOc,QAAS+Q,EAAK/Q,UAE5C,SAAA+Q,GAAI,MAAK,CAAExI,WAAYwI,EAAKxI,WAAYvI,QAAQ,2BAAM+Q,EAAK/Q,SAAZ,kBAAsBN,EAAKR,UAGxF,CAAC2S,IAGG0D,EAAQ7T,OAAOC,KAAK3B,GACvB4B,QAAO,SAAAyJ,GAAC,MAAU,cAANA,GAA2B,gBAANA,KACjCpJ,KAAI,SAAAoJ,GAAC,MAAK,CAAElH,IAAKkH,EAAGmD,MAAOxO,EAAQqL,GAAGxI,KAAM3D,MAAOc,EAAQqL,OAExDwP,EAAenW,eACnB,SAACP,EAAKjF,GAAN,OAAgB,SAAA6J,GACd8I,GAAU,SAAAd,GAAS,IAAD,EAChB,MAAO,CAAExI,WAAYwI,EAAKxI,WAAYvI,QAAQ,2BAAM+Q,EAAK/Q,SAAZ,kBAAsBmE,GAAM,iBAAC4M,QAAD,IAACA,OAAD,EAACA,EAAM/Q,QAAQmE,UAAf,QAAuB,IAAIvC,QAAO,SAAAgkB,GAAC,OAAIA,IAAM1mB,cAG1H,CAAC2S,IAGGkT,EAAcrgB,eAAkB,kBAAMmlC,EAAgB,MAAK,CAACA,IAE9DE,GAAY,EAEhB,OACE,gBAACj+B,GAAA,EAAD,CAAM2X,IAAKumB,eAAsBh+B,WAAS,EAACpG,UAAWH,EAAQ2mB,OAA9D,UACE,eAACtgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,WAAnD,UACE,eAACL,GAAA,EAAD,UACE,eAACvB,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,SACGplB,MAGL,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACs9B,GAAD,CAAiB1E,SAAUA,WAIjC,eAAC74B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK2E,WAAW,SAASlG,QAvFrD,EAuFR,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,IAAE,EAACjkC,MAAO,CAAE2B,WAAY,GAA3C,SACE,gBAACsE,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAzFZ,EAyFJ,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC68B,GAAD,CAAejqC,MAAOqJ,EAAYuB,SAAUR,EAAa,cAAeS,YAAY,0CAEtF,eAAC+B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAE2H,SAAUs8B,OAAKlqC,EAAY,KAAxE,SACE,eAAC,GAAD,CACEV,MAAOc,EAAO,UACd8J,SAAUR,EAAa,aACvBS,aAAa,UAAA/J,EAAO,iBAAP,eAAsBgC,QAAS,EAAI,YAAc,gBAC9D0S,WAAY,CAAE7O,MAAO,CAAEW,WAAY,UACnC+O,MAAOkS,KAAUxlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,YAC/CgI,WAAW,eAOvB,eAAC1K,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAAnD,SACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGJ,MAAO,CAAE2B,UAAW,GAApE,UACG+N,EAAMtT,KAAI,SAAC8J,EAAMnJ,GAChB,IAAMmf,EAAWqF,KAAWrb,EAAK5H,KAIjC,OAHI4H,EAAK7M,MAAM8C,OAAS,IACtB+nC,GAAY,GAEN9xB,MAAM4S,QAAN,OAAc9e,QAAd,IAAcA,OAAd,EAAcA,EAAM7M,OAG1B6M,EAAK7M,MAAM+C,KAAI,SAACuM,EAAOy7B,GAAR,OACb,eAACn+B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAEE10B,MAAO,CAAEW,WAAU,OAAEub,QAAF,IAAEA,OAAF,EAAEA,EAAU1b,MAAOA,MAAO,QAASsE,YAAa,GACnEH,QAAQ,WACRzG,KAAK,QACLyK,MAAOqY,aAAgBrY,GACvB0L,SAAUW,EAAa9O,EAAK5H,IAAKqK,GACjC/I,QAAS,CACPikC,WAAYjkC,EAAQikC,aARxB,UACUl7B,EADV,YACmB5L,EADnB,YACwBqnC,SAL5B,kCAmBHF,GACC,eAACj+B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcnS,QAAQ,OAAOnE,MAAM,gBAAgBU,UAAU,SAASoO,QAAQ,6BAA6B/K,QAAS2a,EAApH,6CCnJX,IAAMmlB,GAAkB,kBAAMniB,GAAcI,KAAOroB,eCMpDL,GAAQ,eACRsnC,GAAU,SAAC/mC,EAASd,GAAV,OAAoBc,EAAQsL,QAAO,SAACC,EAAGrJ,GAAJ,OAAeqJ,IAAC,OAAIrM,QAAJ,IAAIA,OAAJ,EAAIA,EAAOud,SAASva,OAAK,IAE7E,SAASioC,KAA8C,IAAD,yDAAJ,GAAI,IAAvB7nB,eAAuB,SACnE,EAAwB4nB,KAAxB,oBAAOtM,EAAP,KAAawM,EAAb,KAEMC,EAAe3lC,eACnB,SAAAhF,GACE,IAAM4qC,EAAM,yCAAG,WAAM5qC,GAAN,kBAAA8L,EAAA,6DACTkd,EAAS,CACXC,UAAWR,KAAOroB,aAClBuqB,IAAK,CAAEhB,IAAK3pB,IAHD,kBAMKmpB,KAAOuB,IAAI1B,GAAQK,UANxB,OAMPtnB,EANO,8DAQXsc,QAAQ5O,MAAM,0BAA4BzP,GAR/B,2BAWN,OAAH+B,QAAG,IAAHA,KAAK8V,MAAL,OAAa9V,QAAb,IAAaA,KAAK8V,KAAK8R,KACzB+gB,GAAQ,SAAAr5B,GAAI,wCACPA,GADO,4BAETtP,EAAI8V,YAFK,aAET,EAAU8R,IAAM5nB,EAAI8V,UAdZ,yDAAH,sDAkBZ+yB,EAAO5qC,KAET,CAAC0qC,IAGGta,EAAgBprB,eACpB,WAAyC,IAAD,yDAAP,GAAO,IAArC6lC,qBAAqC,WAArB3qC,EAAqB,EAChC4oB,EAAQ,yCAAG,mCAAAhd,EAAA,sDACXid,EAAc,GAEdC,EAHW,aAIbC,UAAWR,KAAOroB,aAClB8oB,uBAAmBhpB,GAChB2qC,GAEDC,GAAY,EARD,uBAUC3hB,KAAOC,KAAKJ,GAAQK,UAVrB,QAUbxT,EAVa,QAWPyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAC7BshB,IACFA,GAAY,EACZJ,GAAQ,SAAAr5B,GAAI,kCACPA,GACA0X,EAAYnd,QAAO,SAAC4F,EAAGhP,GAExB,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,SApBM,UAuB2B,oBAA1BqE,EAAM2T,iBAvBP,wBAwBfkhB,GAAQ,SAAAr5B,GAAI,kCACPA,GACA0X,EAAYnd,QAAO,SAAC4F,EAAGhP,GAExB,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,QA7BU,4CAAH,qDAgCdsX,MAEF,CAAC4hB,IAIH1lC,aAAgB,WACd4d,GAAWwN,MACV,CAACxN,EAASwN,IAEb,MAAoBmM,cAApB,oBAAOC,EAAP,KACIv8B,EAAOi+B,EACPl8B,OAAOC,KAAKi8B,GACTh8B,QAAO,SAAAyJ,GAAC,OAAsB,IAAlBuyB,EAAKvyB,GAAG2vB,QAAqC,IAAnB4C,EAAKvyB,GAAG+d,UAAsB8S,IAAkC,IAArB0B,EAAKvyB,GAAGgwB,UAAsBa,MAC/Gj6B,KAAI,SAAAoJ,GAAM,IAAD,oBACFgxB,EAAmBuB,EAAKvyB,GAExB+7B,EAAgB,CACpBvkC,KAAMi6B,aAAWT,GACjBA,IAAKS,aAAWT,GAChBd,QAASc,EAAId,QAAU8C,YAAwBhC,EAAId,cAAW37B,EAC9D28B,QAASC,aAAcH,GACvBsF,MAAK,UAAEtF,EAAIsF,aAAN,aAAE,EAAWx/B,KAAK,KACvBkxB,UAAS,UAAEgJ,EAAIhJ,iBAAN,aAAE,EAAelxB,KAAK,KAC/BkgC,SAAQ,UAAEhG,EAAIgG,gBAAN,aAAE,EAAclgC,KAAK,KAC7B8/B,gBAAe,UAAE5F,EAAI4F,uBAAN,aAAE,EAAqB9/B,KAAK,KAC3C4/B,YAAW,UAAE1F,EAAI0F,mBAAN,aAAE,EAAiB5/B,KAAK,KACnCogC,OAAM,UAAElG,EAAIkG,cAAN,aAAE,EAAYpgC,KAAK,KACzBsgC,QAAO,UAAEpG,EAAIoG,eAAN,aAAE,EAAatgC,KAAK,KAC3B0/B,WAAU,UAAExF,EAAIwF,kBAAN,aAAE,EAAgB1/B,KAAK,KACjCu1B,UAAS,UAAE2E,EAAI3E,iBAAN,aAAE,EAAev1B,KAAK,KAC/Bo/B,KAAI,UAAElF,EAAIkF,YAAN,aAAE,EAAUp/B,KAAK,KACrBy1B,oBAAqByE,EAAIzE,oBACzB6J,eAAgBpF,EAAIoF,gBAGtB,OAAO,yBACLpY,IAAKgT,EAAIhT,IACTiS,OAAQe,EAAIf,QACT8L,GAHL,IAIEC,gBAAiB,WACf,OAAO3lC,OAAOC,KAAKylC,GAAe97B,QAAO,SAAC4F,EAAGhP,GAAJ,MAAe,CAACgP,EAAGk2B,EAAcllC,IAAIC,KAAK,OAAO,KAE5FwtB,UAAW,kBAAM0M,GACjBt5B,gBAAiB,8BAAC,eACbqkC,GADY,IAEf/K,IAAK+K,EAAcvkC,KACnB4nC,KAAMrD,EAAczF,MACpB+I,cAAetD,EAAcnF,gBAC7B0I,cAAevD,EAAc3F,kBAE/BrG,QAASiB,EAAIjB,QACbC,SAAUgB,EAAIhB,SACdF,QAAS14B,YAAQ45B,EAAIlB,SAAWkB,EAAIhT,IAAMgT,EAAIlB,aAGpD,GAKAyP,EAAWjrC,EAAKsC,KAAI,SAAA6uB,GAAC,OAAIA,EAAEqK,WAASv5B,OAAOC,KAC3CgpC,EAAeD,EAAS3oC,KAAI,SAAA6oC,GAO9B,IALA,IACIC,EADeprC,EAAKiC,QAAO,SAAAkvB,GAAC,OAAIA,EAAEqK,UAAY2P,KACrBhpC,MAAK,kBAAc0J,EAAd,EAAGmkB,UAAH,OAAyC/kB,EAAzC,EAAqB+kB,aAAgCyL,QAAW5vB,IAAY4vB,WAE1G4P,EAASD,EAAU,GAEdnoC,EAAI,EAAGA,EAAImoC,EAAU/oC,OAAQY,IAEpC,IAA8B,IAA1BmoC,EAAUnoC,GAAGy4B,SAAmB,CAClC2P,EAASD,EAAUnoC,GACnB,MAGJ,OAAOooC,KAGT,EAAyBp+B,aAAY,SAACqJ,GAAD,OAAiBA,EAAExW,MAAF,cAAkB,MAAxE,IAAQO,eAAR,MAAkB,GAAlB,EACA,EAaIA,EAZFynB,iBADF,MACc,GADd,IAaIznB,EAXF8mB,uBAFF,MAEoB,GAFpB,IAaI9mB,EAVF0nB,YAHF,MAGS,GAHT,IAaI1nB,EATF4mB,gBAJF,MAIa,GAJb,IAaI5mB,EARFunB,cALF,MAKW,GALX,IAaIvnB,EAPFwnB,eANF,MAMY,GANZ,IAaIxnB,EANFgnB,mBAPF,MAOgB,GAPhB,IAaIhnB,EALF+mB,kBARF,MAQe,GARf,IAaI/mB,EAJFomB,eATF,MASY,GATZ,IAaIpmB,EAHFknB,YAVF,MAUS,GAVT,IAaIlnB,EAFFmnB,2BAXF,MAWwB,GAXxB,IAaInnB,EADF2mB,sBAZF,MAYmB,GAZnB,EAeM2gB,EAAe,SAAAxW,GAAC,OACpBiW,GAAQtf,EAAWqJ,EAAEuC,YACrB0T,GAAQjgB,EAAiBgK,EAAEmR,kBAC3B8E,GAAQrf,EAAMoJ,EAAE6Q,QAChBoF,GAAQngB,EAAUkK,EAAEuR,WACpB0E,GAAQ/f,EAAa8J,EAAEiR,cACvBgF,GAAQxf,EAAQuJ,EAAEyR,SAClBwE,GAAQvf,EAASsJ,EAAE2R,UACnBsE,GAAQhgB,EAAY+J,EAAE+Q,aACtBkF,GAAQ3gB,EAAS0K,EAAE4G,YACnBqP,GAAQ7f,EAAM4J,EAAEyQ,OAChBwF,GAAQ5f,EAAqB2J,EAAE8G,sBAC/BmP,GAAQpgB,EAAgBmK,EAAE2Q,iBAExB0D,EAAWpH,aAAe8M,EAAcprC,GAAO6nC,GAEnD,MAAO,CAAEnC,WAAUvH,OAAMwM,UAASta,gBAAeua,gBCjLpC,SAASY,KACtB,MAAmBpP,cAAZsB,EAAP,qBACM+N,EAAeC,cAIfC,EAHShe,cAGc8d,EAFVvlC,eAAX1C,OACAooC,kBACwD,EACxDlG,EAAagF,KAAbhF,SAER,OACE,uCACG7hB,aAAmB+Z,GACnB/Z,aAAmB6c,GACnB7c,aAAmBmb,GACN,UAAbtB,EACC,eAAC,GAAD,CAAqBx9B,KAAMwlC,EAAUV,gBAAiBkF,GAAmBzkC,OAAQkmC,EAAa5G,aAAa,IAE3G,eAAC,GAAD,CAA4B7kC,KAAMwlC,EAAUV,gBAAiBkF,GAAmBzkC,OAAQkmC,OCpBhG,IAAM79B,GAAU,GAGV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,OAC3BnB,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB7D,cAAe,CACb3P,aAxBe,EAyBf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC2lB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB67B,cAAe,CACblkC,SAAU,GAEVf,MAAOL,EAAQM,OAAOC,YAKb,SAASglC,GAAT,GAAqF,IAAD,IAAzDC,oBAAyD,WAA1C5rC,EAA0C,MAA/B6rC,uBAA+B,WAAb7rC,EAAa,EAC3F6F,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEjByX,EAAoBC,eAE1B,OACE,gBAACrV,GAAA,EAAD,CAAM2X,IAAKumB,eAAsBh+B,WAAS,EAACpG,UAAWH,EAAQ2mB,OAA9D,UACE,eAACtgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,8BAIF,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK2E,WAAW,SAASlG,QAAS,EAAtE,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,IAAE,EAACjkC,MAAO,CAAE2B,WAAY,GAA3C,SACE,eAAC+C,GAAA,EAAD,CAAY3E,UAAWH,EAAQ6lC,cAA/B,oOAKF,eAACx/B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAEwW,UAAW,SAAxD,SACE,gBAACvQ,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAASqhC,EAAnD,SACGD,EAAe,gBAAkB,oBAGtC,eAAC1/B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAAS8W,EAAkB9E,YAAU,gBAA/E,6C,wHC5EVzX,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAAH,OAC3BpB,aAAa,CACXk3B,IAAK,CACH/2B,SAAU,WACV02B,OAAQz1B,EAAQ,GAChB4hB,MAAO5hB,EAAQ,GACfZ,OAAQ,aAKRmnB,GAAc7E,cAAW,SAAApY,GAAK,OAClC1K,aAAa,CACX+iB,MAAO,CACLtO,KAAM,EACNuO,MAAO,EACPpP,OAAO,aAAD,OAAelJ,EAAMvJ,QAAQQ,WAAWJ,YALhCuhB,CAQlBG,MAEa,SAAS4jB,GAAT,GAcX,IAAD,IAbDhsC,GAAI2jC,OAaH,WAbQzjC,EAaR,MAZDN,YAYC,MAZM,MAYN,EAXDG,EAWC,EAXDA,MACA0kB,EAUC,EAVDA,OAUC,IATDjc,YASC,MATM0D,KASN,OARDuJ,QAQC,EAPD/K,gBAOC,WAPSxK,EAOT,MAND8Q,eAMC,WANS9Q,EAMT,MALDkK,gBAKC,WALUlK,EAKV,OAJDklB,QAIC,EAHDV,cAGC,aAFDzR,qBAEC,MAFe,GAEf,EADE5C,EACF,mBACKtK,EAAUd,KACV4nB,EAAcjF,GAAe7nB,GACnC,EAA4B4nB,YAAqB5nB,GAAjD,oBAAO0R,EAAP,KAAeU,EAAf,KAEMnS,EAAK2jC,GAAUlf,GAAUA,EAAOld,MACtC,EAA2BqT,aAAe5a,GAAjCm7B,EAAT,qBACA,EAAgCn2B,IAAMyO,SAAmC,MAAzE,oBAAOwP,EAAP,KAAiBC,EAAjB,KAEM0gB,EAAUhhC,KAAKC,UAAUwN,GACzBwzB,EAAe7+B,IAAMmI,aAAY,WACrCguB,EAAe,aACbv7B,OACA4Q,MAAM,EACNyC,cAAejP,YAASiP,IACrBrQ,KAAKqR,MAAM2vB,OAEf,CAACzI,EAAgByI,EAAS3wB,EAAerT,IAEtC8Q,EAAc1L,IAAMmI,aAAY,WACpC+V,EAAY,MACZlS,GAAWA,MACV,CAACA,EAASkS,IAEPtC,EAAc5b,IAAMmI,aACxB,SAAA9D,GACE6Z,EAAY7Z,EAAM8a,eAClBzZ,GAAWA,EAAQrB,GACnBw6B,MAEF,CAACn5B,EAASm5B,IAGNxe,EAAcrgB,IAAMmI,aAAY,kBAAMgF,EAAU,MAAK,CAACA,IAC5D,OACE,uCACGuS,GAASD,GAAUb,aAAmB,2BAAKa,GAAN,IAAcxB,WAAUjS,QAASN,EAAatG,WAAUgb,QAASC,EAAa5T,SAAQU,eAC5H,sBAAKjM,UAAWH,EAAQs2B,IAAxB,SACE,eAAC,GAAD,CAAatP,aAAcF,EAAalmB,MAAM,QAAQm9B,QAAQ,SAASlzB,aAAc,CAAEE,WAAY,QAASD,SAAU,UAAtH,SACE,eAAC9F,GAAA,EAAD,CAAK1G,KAAK,QAAQsC,MAAM,UAAU,aAAW,YAAY+D,QAASkW,EAAlE,SACE,eAACpY,EAAD,a,kEC1ECrF,GAAO,eAQPyhC,GAAuD,CAClEzhC,QACAusB,QAAS,CAAC9L,aAAmBsX,IAC7BpZ,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGGwjC,GAAwB,SAAC,GAAyG,IAAD,IAAtGH,oBAAsG,aAAhFtE,qBAAgF,aAA1D0E,uBAA0D,aAAlCl2B,aAAkC,WAA1B9V,EAA0B,EAAZ0E,EAAY,mBACtIhD,Eb8CU,CACd,CAAEuB,KAAM,MAAOupB,OAAQ,cAAe5e,SAAU,IAAKoiB,KAAMwM,GAAY4G,WAAW,EAAOlhC,KAAM,aAC/F,CAAEe,KAAM,QAASupB,OAAQ,WAAYnnB,MAAO,IAAK2qB,KAAMiY,GAAS7E,WAAW,EAAOlhC,KAAM,aACxF,CAAEe,KAAM,UAAWupB,OAAQ,eAAgBnnB,MAAO,IAAK2qB,KAAM2Q,GAAayC,WAAW,EAAOlhC,KAAM,WAClG,CAAEe,KAAM,SAAUupB,OAAQ,SAAUnnB,MAAO,IAAK2qB,KAAMuY,GAAQnF,WAAW,GACzE,CAAEngC,KAAM,SAAUupB,OAAQ,SAAUnnB,MAAO,IAAK2qB,KAAMwY,GAAiBpF,WAAW,IalDpF,OACE,uCACE,eAAC0I,GAAD,CAAoBvnB,OAAQ8f,EAAexkC,MAAOoD,KAClD,eAACksB,GAAD,2BACMuV,IADN,IAEE3kC,KAAMksC,aAAkBhpC,GAAM2oC,EAAc91B,EAAOwxB,EAAe0E,GAClEtqC,QAASA,EACTk9B,YAAY,GACRl6B,QC5BG,SAASwnC,GAAT,GAAqE,IAAD,IAA5C5mC,cAA4C,WAAnCtF,EAAmC,MAAxB4rC,oBAAwB,SACzE1b,EAAkBqa,KAAlBra,cAEFpa,EAAQ9I,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,SAE1F,OACE,uCACG4N,aAAmB,2BAAKkkB,GAAN,IAA4C92B,QAASof,KACvExM,aAAmB,2BAAKmb,GAAN,IAAyB/tB,QAASof,KACrD,eAAC,GAAD,CAAuB5qB,OAAQA,EAAQsmC,aAAcA,EAAc91B,MAAOA,OCXjE,SAASq2B,KACtB,MAAwCrnC,YAAe,GAAvD,oBAAO8mC,EAAP,KAAqBQ,EAArB,KACMd,EAAeC,cAMfC,EAJShe,cAIc8d,EAHVvlC,eAAX1C,OACAooC,kBAEwD,GAE1DY,EAAevnC,eAAkB,WACrCsnC,GAAgB,SAAAj7B,GAAI,OAAKA,OACxB,CAACi7B,IACJ,OACE,uCACE,eAACT,GAAD,CAAiBC,aAAcA,EAAcC,gBAAiBQ,IAC9D,eAACH,GAAD,CAAc5mC,OAAQkmC,EAAaI,aAAcA,O,SCfxCha,G,qFAAf,WAA0B3C,EAAOvvB,GAAjC,kBAAAkM,EAAA,sEACyB0gC,KAAM9hB,IAAN,UAAasH,KAAb,kBAAyC7C,EAAzC,iBAAuDvvB,IADhF,uBACUK,EADV,EACUA,KADV,kBAESA,GAFT,4C,sBAKe,SAASwsC,KACtB,MAA8BznC,WAAe,IAA7C,oBAAOsuB,EAAP,KAAgBoZ,EAAhB,KACA,EAA0B1nC,WAAe,qCAAzC,oBAAOmqB,EAAP,KAAcwd,EAAd,KACA,EAAwB3nC,WAAe,UAAvC,oBAAOpF,EAAP,KAAagtC,EAAb,KAEMxZ,EAAmBpuB,eAAkB,WAAM,8CAC/C,6BAAA8G,EAAA,+EAE0BgmB,GAAW3C,EAAOvvB,GAF5C,OAEU0zB,EAFV,OAGIoZ,EAAWpZ,GAHf,gDAKIoZ,EAAW,CAAEG,MAAM,EAAD,KALtB,0DAD+C,uBAAC,WAAD,wBAS/CrZ,KACC,CAACrE,EAAOvvB,EAAM8sC,IAOjB,OALA1nC,aAAgB,WACdwnC,KAAM9hB,IAAI,gDAAgDzM,MAAK,SAAA6uB,GAAO,OAAIzuB,QAAQC,IAAI,CAAEwuB,eACxF1Z,MACC,CAACA,IAGF,iCACE,gBAAChnB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGkG,WAAW,SAAvC,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,GAAD,CAAMlG,MAAO,CAAEZ,MAAO,KAAO/F,MAAO2vB,EAAO/kB,SAAU,SAAAf,GAAK,OAAIsjC,EAAStjC,EAAMQ,OAAOrK,QAAQsP,MAAM,+BAEpG,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACgf,GAAD,CACEvc,MAAM,oBACN3I,MAAO,CAAEZ,MAAO,KAChB6E,SAAU,SAAAf,GAAK,OAAIujC,EAAQvjC,EAAMQ,OAAOrK,QACxCA,MAAOI,EACPiW,MAAO,CACL,CAAE/G,MAAO,QAAStP,MAAO,SACzB,CAAEsP,MAAO,cAAetP,MAAO,eAIrC,eAAC4M,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ/Q,QAAQ,YAAYnE,MAAM,UAAU+D,QAAS0oB,EAArD,2BAKJ,gBAACjT,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAYC,QAAQ,KAApB,uBACA,gBAACqV,GAAA,EAAD,CAAK8M,EAAG,EAAR,UACGrqB,KAAKC,UAAUywB,GACf1wB,KAAKC,UAAUywB,Y,+LCzDpBruB,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX4nC,KAAM,CACJx/B,aAAc,GACdO,SAAU,IACVhH,WAAY,UACZH,MAAOL,EAAQM,OAAOC,OAExBmmC,aAAc,CACZlmC,WAAYR,EAAQS,QAAQgJ,KAC5BpJ,MAAOL,EAAQM,OAAOC,MACtB,mBAAoB,CAClBT,gBAAiB6mC,aAAU3mC,EAAQS,QAAQgJ,KAAM,OAIrDm9B,eAAgB,CACdpmC,WAAY,UACZH,MAAOL,EAAQM,OAAOC,MACtB,mBAAoB,CAClBT,gBAAiB6mC,aAAU,UAAW,OAG1CE,WAAY,CACVr/B,SAAU,IACVP,aAAc,GACdzG,WAAYR,EAAQS,QAAQA,QAC5BJ,MAAOL,EAAQM,OAAOC,YAKb,SAASumC,GAAT,GAaX,IAAD,IAZD5tC,aAYC,MAZO,GAYP,MAXD4K,gBAWC,WAXUlK,EAWV,EACK6F,GADL,EAVD+I,MAUC,EATDzE,YASC,EARDyM,UAQC,EAPDjF,SAOC,EANDxN,KAMC,EALDwR,MAKC,EAJDL,qBAIC,EAHDnC,aAGC,EAFD2B,WAEC,mBACe/P,MACV2E,EAAe5E,eACnB,SAACwM,GAAD,IAAIM,EAAJ,+DAAyB,SAAAzI,GACvB,IAAI4c,EAAWzmB,EAAM0C,QAAO,SAAAgkB,GAAC,OAAIA,IAAM1U,KAClCM,IACHmU,EAAWA,EAASE,OAAO3U,IAE7BpH,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,MAAOymB,QAE1C,CAACzmB,EAAO4K,IAGV,OACE,eAACgC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,aAAajG,QAAS,EAA9C,SACG2gB,KAAS3kB,KAAI,SAAAiP,GACZ,IAAMM,EAAWtS,EAAM2Y,MAAK,SAAA+N,GAAC,OAAIA,IAAM1U,KAEjC67B,EAAYv7B,EAAW5F,KAAcA,KAC3C,OACE,eAACE,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CACEl0B,MAAOmL,EAAW,UAAY,YAC9B/L,QAAS,CAAEinC,aAAcjnC,EAAQinC,aAAcE,eAAgBnnC,EAAQmnC,gBACvEhnC,UAAW4L,EAAW/L,EAAQonC,WAAapnC,EAAQgnC,KACnDriC,QAASd,EAAa4H,EAAGM,GACzBjD,KAAM,eAACw+B,EAAD,CAAWlnC,MATL,CAAEQ,MAAO,WAUrBmI,MAAO,eAACjE,GAAA,EAAD,CAAY1E,MAAO,CAAE2H,SAAU,KAA/B,SAAuC0D,a,sBClEtD3D,GAAU,GAIV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,EAAyBC,QAAzB,EAAkChD,OAAlC,OAC3B4B,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB7D,cAAe,CACb3P,aAxBe,EAyBf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC2lB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,WAKd,SAASu9B,GAAT,GAA+E,IAAD,MAAtD/lC,aAAsD,MAA9C,cAA8C,EAA/BzH,EAA+B,EAA/BA,MAA+B,IAAxB8S,gBAAwB,WAAb1S,EAAa,EAC3F,EAAsBgqC,YAAe,gBAA5B/3B,EAAT,qBAEMpM,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEjBH,EAAe5E,eACnB,SAAAhF,GAAE,OAAI,SAACqJ,GAAgB,IAAD,EACd7J,EAAK,OAAG6J,QAAH,IAAGA,GAAH,UAAGA,EAAOQ,cAAV,aAAG,EAAerK,MAC7BoT,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,kBAAiBrR,EAAKR,UAErC,CAACoT,IAIG26B,EAAgBvoC,eAAkB,WACtC,IAAQ6D,EAA2B/I,EAA3B+I,WAAevI,EAAvB,aAAmCR,EAAnC,IACAqS,GAAU,SAAAd,GAAI,MAAK,CAAExI,aAAYvI,QAAQ,2BAAM+Q,EAAK/Q,SAAYA,SAE/D,CAAC6R,EAAWvP,KAAKC,UAAU/C,KAExByc,EAAcC,eAEdgxB,EAAexoC,eAAkB,WACrCuoC,IACAhxB,EAAYG,YAAU,YACrB,CAACH,EAAagxB,IAEjB,OACE,gBAACnhC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQ2mB,OAAnC,UACE,eAACtgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,SACGplB,MAGL,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK2E,WAAW,SAASlG,QAhFrD,EAgFR,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,IAAE,EAACjkC,MAAO,CAAE2B,WAAY,GAA3C,SACE,gBAACsE,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAlFZ,EAkFJ,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC68B,GAAD,CAAejqC,MAAOM,EAAK,WAAgBsK,SAAUR,EAAa,cAAeS,YAAY,0CAE/F,eAAC+B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAE2H,SAAUs8B,OAAKlqC,EAAY,KAAxE,SACE,eAAC,GAAD,CACEV,MAAOM,EAAK,UACZsK,SAAUR,EAAa,aACvBS,aAAa,UAAAvK,EAAK,iBAAL,eAAoBwC,QAAS,EAAI,YAAc,gBAC5D0S,WAAY,CAAE7O,MAAO,CAAEW,WAAY,UACnC+O,MAAOkS,KAAUxlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,YAC/CgI,WAAW,WAKnB,eAAC1K,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAEwW,UAAW,SAAxD,SACE,eAACd,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAAS8iC,EAAnD,8B,cCnGN3/B,GAAU,GAKV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,GAAU,EAAIA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,EAAyBC,QAAzB,EAAkChD,OAAlC,OAC3B4B,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB4hB,SAAS,aACP/6B,WAAY,KACTgiC,GAAiB7oB,IAEtB7D,cAAe,CACb3P,aA7Be,EA8Bf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhCymC,gBAAiB,CACflgC,aAvCe,EAwCf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQwS,MAC5BzL,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC2lB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB67B,cAAe,CACblkC,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQM,OAAOC,OAExB6mC,cAAc,2BACT9D,GAAiB7oB,IADT,IAEXtT,UA3DY,IA4DZ3G,WAAYR,EAAQS,QAAQgJ,KAC5BpJ,MAAOL,EAAQM,OAAOC,MACtB0G,aA/De,IAiEjB2O,UAAU,2BACL0tB,GAAiB7oB,IADb,IAEPtT,UAlEY,IAmEZ3G,WAAYR,EAAQ6V,UAAU5C,MAC9BhM,aArEe,IAuEjB6O,WAAY,CACVzV,MAAOL,EAAQS,QAAQwS,OAEzB8C,iBAAkB,CAChBzU,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,WAuBd,SAAS49B,KACtB,IAAM5nC,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEnBga,EAAM/e,SAAa,MACfQ,EAAWooC,KAAiB7pB,GAA5Bve,OAER,EAA0BR,WAAe,CAAE6D,WAAY,GAAIkf,UAAW,GAAIb,SAAU,KAApF,oBAAOpnB,EAAP,KAAc8S,EAAd,KAEMhJ,EAAe5E,eACnB,SAAAhF,GAAE,OAAI,SAACqJ,GAAgB,IAAD,EACd7J,EAAK,OAAG6J,QAAH,IAAGA,GAAH,UAAGA,EAAOQ,cAAV,aAAG,EAAerK,MAC7BoT,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,kBAAiBrR,EAAKR,UAErC,CAACoT,IAYG4O,EAAoBC,eAEpBosB,EACJ,gBAACzhC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQ48B,SAAUp8B,QAAS,EAAtD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,kCAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAxIR,EAwIR,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QA1IZ,EA0IJ,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAACiU,GAAA,EAAD,CAAW9R,SAAS,KAApB,SACE,eAAC,GAAD,CACEvP,MAAOM,EAAK,SACZsK,SAAUR,EAAa,YACvBiM,MAAOqR,KAAS3kB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,YAC9CgI,WAAW,mBAiBvBg3B,EACJ,gBAAC1hC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQ48B,SAAUp8B,QAAS,EAAtD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,GAAI,EAAvB,SACE,gBAACh+B,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEX,UAAUiH,WAAW,SAASlG,QArK/C,EAqKiEL,UAAWH,EAAQ2nC,cAA5F,UACE,eAACthC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ6lC,cAA5C,yCAIF,eAACx/B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAzB,SACE,eAAC2b,GAAA,EAAD,CAAQ3V,UAAWH,EAAQ0nC,gBAAiB/iC,QAAS8W,EAAkB9E,YAAU,UAAjF,mCAMN,eAACtQ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,GAAI,EAAvB,SACE,gBAACh+B,GAAA,EAAD,CAAM2X,IAAKA,EAAKzX,WAAS,EAACG,WAAW,SAASlG,QAnLtC,EAmLwDL,UAAWH,EAAQmW,UAAnF,UACE,eAAC9P,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK3E,MAAO,CAAEyB,WAAY,KAA9C,4CAIF,eAACwE,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,iQAKF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAEwW,UAAW,SAAxD,SACE,eAACoxB,GAAA,EAAD,CAAaj/B,MAAM,cAAcpE,QAAS8W,EAAkB9E,YAAU,2BAOhF,OACE,uCACE,eAAC4wB,GAAD,CAAc/lC,MAAM,oCAAoCzH,MAAOA,EAAO8S,SAAUA,IAC/Ei7B,EACAC,KCxNQ,WAA0B,gDCG1B,SAASE,GAAT,GAA4E,IAAlDzmC,EAAiD,EAAjDA,MAAiD,IAA1CZ,aAA0C,MAAlC,QAAkC,EAAzBG,EAAyB,EAAzBA,WAAyB,IAAbwO,YAAa,MAAN,GAAM,EAClFzF,EAAQ5J,eAEd,OACE,gBAACmG,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY1E,MAAO,CAAEW,aAAYyG,aAAc,EAAGM,QAAS,UAAWlH,SAAtE,SAAgFY,MAElF,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,qBAAIzG,MAAO,CAAE6E,YAAa,GAAItD,SAAU,GAAIE,WAAY,IAAKjB,MAAOkJ,EAAMvJ,QAAQyV,KAAKI,WAAvF,SACE,eAAC/P,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACG+O,EAAK/S,KAAI,SAACwZ,EAAM7Y,GAAP,OACR,eAACkJ,GAAA,EAAD,CAAsBC,MAAI,EAACO,GAAI,GAA/B,SACE,8BACE,eAAC/B,GAAA,EAAD,CAAY1E,MAAO,CAAEyB,WAAY,IAAKF,SAAU,IAAMf,MAAM,gBAA5D,SACGoV,OAHP,aAAiB7Y,gBCfhB,WAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,8BCA1B,OAA0B,+BCA1B,OAA0B,+BCkBnC+B,GAAYC,cAAW,kBAC3BC,aAAa,CACXsB,KAAM,GACNoS,OAAQ,CACNrT,OAAQ,GACRD,MAAO,UAKPyuB,GAAS,CAACia,GAAIC,GAAI3D,GAAI4D,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAKC,IAE9C,SAASC,KACtB,IAAM7oC,EAAUd,GAAU,IACpB4K,EAAQ5J,eACd,EAA0BjB,WAAe,GAAzC,oBAAOlD,EAAP,KAAcmyB,EAAd,KAEMC,EAAalvB,eAAkB,kBAAMivB,GAAS,SAAA5iB,GAAI,OAAIA,EAAO,OAAI,CAAC4iB,IAClEE,EAAanvB,eAAkB,kBAAMivB,GAAS,SAAA5iB,GAAI,OAAIA,EAAO,OAAI,CAAC4iB,IAElEhsB,GAAU8B,aAAc,MAE9B,OACE,uCACE,gBAACqC,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACO,GAAI,GAAIJ,QAAQ,gBAAgBC,WAAW,SAASlG,QAAS,EAAlF,UACE,eAAC6F,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACG,QAAQ,SAASI,IAAE,EAAxC,SACE,eAACqQ,GAAA,EAAD,CACEpL,SAAU/P,GAAS,EACnBoE,UAAWH,EAAQ8S,OACnBxU,KAAK,QACLyG,QAAQ,WACR2K,QAAQ,yBACRjN,KAAM,KACNkC,QAASypB,EACTC,cAAevkB,EAAMvJ,QAAQyV,KAAKlK,SARpC,oBAaD5J,GACC,eAACmE,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,gBAAjC,UACG7E,EAAQ,EADX,OACkBkyB,GAAO1xB,YAI7B,eAAC8J,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACG,QAAQ,SAASI,IAAE,EAAxC,SACE,eAACqQ,GAAA,EAAD,CACEpL,SAAU/P,GAASkyB,GAAO1xB,OAAS,EACnC4D,UAAWH,EAAQ8S,OACnBxU,KAAK,QACLyG,QAAQ,WACR2K,QAAQ,qBACRjN,KAAM,KACNkC,QAASwpB,EACTE,cAAevkB,EAAMvJ,QAAQyV,KAAKlK,SARpC,uBAcJ,eAACsO,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACvR,GAAA,EAAD,MAEF,eAACrP,GAAA,EAAD,CAAME,WAAS,EAACD,MAAI,EAACO,GAAI,GAAIJ,QAAQ,gBAAgBjG,QAAS,EAA9D,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACK,GAAA,EAAD,UACE,sBAAKvG,MAAO,CAAEZ,MAAO,QAAUmc,IAAKsS,GAAOlyB,GAAQ6f,IAAG,gBAAW7f,cChFtE,IAAMyF,GAAQ,oBAEN,SAASsnC,GAAT,GAAiD,IAAD,IAAd7uC,UAAc,MAATuH,GAAS,EAC7D,OACE,eAAC,GAAD,CAAevH,GAAIA,EAAIuH,MAAOvH,EAAIoa,YAAa,KAAMF,YAAY,QAAQnL,SAAS,KAAlF,SACE,eAAC2M,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,eAAC,GAAD,Q,yBCFFmzB,GAAYjwB,EAAQ,KAA+BkwB,QACnDC,GAAanwB,EAAQ,KAA+BkwB,QAEpDlhC,GAAU,GACVtI,GAAQ,IAGRqkC,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,OAC3BnB,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtBkuB,YAAY,aACVnoC,WAAYR,EAAQM,OAAOC,MAC3BF,MAAOL,EAAQS,QAAQgJ,KACvBnI,WAAY,KACTgiC,GAAiB7oB,IAEtBmuB,WAAW,aACTpoC,WAAYR,EAAQ6V,UAAU5C,MAC9B5S,MAAOL,EAAQS,QAAQwS,MACvB3R,WAAY,KACTgiC,GAAiB7oB,IAEtB4L,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzBo/B,iBAAkB,CAChBznC,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQwS,OAEzB61B,aAAc,CACZzoC,MAAOL,EAAQS,QAAQwS,OAEzB8C,iBAAkB,CAChB3U,SAAU,GACVf,MAAOL,EAAQS,QAAQgJ,MAEzBlJ,MAAO,CACLF,MAAOL,EAAQM,OAAOC,YAKb,SAASwoC,KACtB,IAAMtpC,EAAUd,KACZmlC,EAAKrgC,aAAc,MACjB8F,EAAQ5J,eACRqpC,EAAKvmC,cAELwmC,EACJ,gBAACnjC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQkpC,YAAa1oC,QAjE9B,EAiElB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,UAApB,SACE,eAACsF,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,yBAEF,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQsW,iBAA/B,iRASAmzB,EACJ,eAACrvB,GAAA,EAAD,CAAK8M,EAFG,EAER,SACE,gBAAC7gB,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQmpC,WAAY3oC,QAjF/B,EAiFhB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAOA,KAA3B,SACE,eAACsF,GAAA,EAAD,CAAY3E,UAAWH,EAAQopC,iBAA/B,gDAEF,gBAAC/iC,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,UACE,gBAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAKlF,QAAQ,SAASe,MAAM,cAAhD,oVAGoC,OAEpC,eAACkE,GAAA,EAAD,CAAYC,QAAQ,KAAKlF,QAAQ,SAASe,MAAM,cAAcR,MAAO,CAAEyB,WAAY,KAAnF,8KASF6nC,EACJ,gBAACrjC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQkpC,YAAa1oC,QArG9B,EAqGlB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,UAApB,SACE,eAACsF,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,8BAEF,gBAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,cAA/B,kQAIA,eAACwZ,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,qBAAIja,MAAO,CAAEuB,SAAU,GAAIE,WAAY,IAAKjB,MAAOkJ,EAAMvJ,QAAQyV,KAAKI,WAAtE,SACE,eAAC/P,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACG,CACC,sFACA,gFACA,oNACA,2HACAhE,KAAI,SAACwZ,EAAM7Y,GAAP,OACJ,eAACkJ,GAAA,EAAD,CAAyBC,MAAI,EAACO,GAAIw9B,EAAK,GAAK,EAA5C,SACE,8BACE,eAACv/B,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,gBAA/B,SACGoV,OAHP,gBAAoB7Y,mBAe5BwsC,EACJ,gBAACtjC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQkpC,YAAa1oC,QAvI9B,EAuIlB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,UAApB,SACE,eAACsF,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,mCAEF,gBAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,cAA/B,4SAIA,eAACwZ,GAAA,EAAD,CAAKxD,UAAU,SAASmS,EAAG,EAA3B,SACE,sBACE3oB,MAAO,CACLX,OAAQ,KAEVkc,IAAKiuB,GACLhuB,IAAI,2BAGR,eAACxB,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,qBAAIja,MAAO,CAAEuB,SAAU,GAAIE,WAAY,IAAKjB,MAAOkJ,EAAMvJ,QAAQyV,KAAKI,WAAtE,SACE,eAAC/P,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACG,CACC,mDACA,iGACA,yDACA,wDACA,4GACAhE,KAAI,SAACwZ,EAAM7Y,GAAP,OACJ,eAACkJ,GAAA,EAAD,CAAyBC,MAAI,EAACO,GAAIw9B,EAAK,GAAK,EAA5C,SACE,qBAAIjkC,MAAO,CAAEsB,YAAa,GAA1B,SACE,eAACoD,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,gBAA/B,SACGoV,OAHP,gBAAoB7Y,mBAe5B0sC,EACJ,gBAACxjC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQkpC,YAAa1oC,QAnL9B,EAmLlB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,UAApB,SACE,eAACsF,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,uCAEF,gBAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,cAA/B,mfAMA,eAACwZ,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,cAA/B,4lBAWFkpC,EACJ,eAAC1vB,GAAA,EAAD,CAAK8M,EAAG,EAAR,SACE,gBAAC7gB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,eAAetG,UAAWH,EAAQmpC,WAAY3oC,QA5MtD,EA4MhB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQopC,iBAA/B,gCAED,CACC,CACE5nC,MAAO,gBACPT,WAAY,UACZwO,KAAM,CAAC,4BAA6B,8BAA+B,0DAErE,CACE/N,MAAO,uBACPT,WAAY,UACZwO,KAAM,CAAC,6BAA8B,uCAAwC,yEAE/E,CACE/N,MAAO,qBACPT,WAAY,UACZwO,KAAM,CAAC,yCAA0C,6EAEnD,CACE/N,MAAO,sBACPT,WAAY,UACZwO,KAAM,CAAC,6BAA8B,2CAA4C,yDAEnF,CACE/N,MAAO,mBACPT,WAAY,UACZwO,KAAM,CAAC,mCAAoC,yCAE7C,CACE/N,MAAO,6BACPT,WAAY,UACZwO,KAAM,CAAC,qFAET/S,KAAI,WAA8BW,GAA9B,IAAGqE,EAAH,EAAGA,MAAOT,EAAV,EAAUA,WAAYwO,EAAtB,EAAsBA,KAAtB,OACJ,eAAClJ,GAAA,EAAD,CAAyBC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,KAA9C,SACE,eAACyoC,GAAD,CAAgBzmC,MAAOA,EAAOT,WAAYA,EAAYwO,KAAMA,KAD9D,gBAAoBpS,YAQtB4sC,EACJ,eAAC1jC,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQ2mB,OAAQnmB,QAzPzB,EAyPlB,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASsjC,aAAa,SAAjD,UACE,gBAAC3jC,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,UACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,mCACA,eAAC9hB,GAAA,EAAD,CAAY1E,MAAO,CAAE2B,UAAW,GAAKgD,QAAQ,KAAK5E,UAAWH,EAAQc,MAArE,sJAIF,eAACuF,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,SAAOoX,UAAW,UAAtC,SACE,eAACM,GAAA,EAAD,CAAcnS,QAAQ,gBAAgB2K,QAAQ,gBAAgBgP,OAAQoqB,EAAtE,wCASJmB,EACJ,gBAAC5jC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,eAAetG,UAAWH,EAAQkpC,YAAa1oC,QA7QrD,EA6QlB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,+BAED,CACC,CACEplB,MAAO,uBACPhD,YACE,iLACFotB,IAAKqd,IAEP,CACEznC,MAAO,iCACPhD,YAAa,6FACbotB,IAAKmd,KAEPvsC,KAAI,WAA8BW,GAA9B,IAAGqE,EAAH,EAAGA,MAAOhD,EAAV,EAAUA,YAAaotB,EAAvB,EAAuBA,IAAvB,OACJ,eAACvlB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAAC8T,GAAA,EAAD,CAAKha,MAAO,CAAEZ,MAAO8R,KAAKlC,IAAIm6B,EAAK,GAAI,MAAvC,UACE,eAACnvB,GAAA,EAAD,CAAKue,GAAI,EAAT,SACE,eAAC,KAAD,CAAa/M,IAAKA,EAAKse,UAAU,EAAM1qC,MAAO8R,KAAKlC,IAAIm6B,EAAK,GAAI,SAElE,eAACzkC,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQqpC,aAA5C,SACG7nC,IAEH,eAACsD,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmCpC,QARvC,gBAAyBrB,UAe/B,OACE,eAACkJ,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASrG,MAAO,CAAE0H,QAASu8B,EAAK,EAAI,IAAM7jC,QAAS6jC,EAAK,EAAI,EAApF,SACG,CAACmF,EAAWC,EAAWC,EAAeC,EAAgBE,EAAoBC,EAAiBC,EAAkBE,GAAQztC,KAAI,SAAC2tC,EAAGhtC,GAAJ,OACxH,eAACkJ,GAAA,EAAD,CAAsBC,MAAI,EAA1B,SACG6jC,GADH,aAAiBhtC,SCtTzB,IAAMitC,GAActxB,EAAQ,KAA4BkwB,QAEzC,SAASqB,KACtB,IAAM5uB,EAAoBC,eACpBgB,EAAWC,eACXnd,EAAQwD,cAEd,OACE,gBAACoX,GAAA,EAAD,CAAKse,GAAI,EAAT,UACE,eAAC5zB,GAAA,EAAD,CAAYC,QAAQ,KAAK4N,MAAM,SAA/B,4BAGA,eAAC+C,GAAA,EAAD,IACA,eAAC0E,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,gBAACvV,GAAA,EAAD,CAAYC,QAAQ,KAAK4N,MAAM,SAA/B,oQAEE,eAAC7N,GAAA,EAAD,CAAYC,QAAQ,KAAK4N,MAAM,SAAS5L,QAAM,EAAC2jB,UAAU,MAAzD,SACE,eAAC7L,GAAA,EAAD,CAAMC,KAAK,kCAAkChb,OAAO,SAApD,6CAMN,eAACsW,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACniB,GAAA,EAAD,CAAY6N,MAAM,SAAlB,SACE,eAACmD,GAAA,EAAD,CAAQhK,UAAW4Q,EAAUpe,KAAK,QAAQsC,MAAM,UAAUmE,QAAQ,YAAYJ,QAAS8W,EAAkB9E,YAAU,gBAAnH,8BAKJ,eAACjB,GAAA,EAAD,IACA,eAAC0E,GAAA,EAAD,CAAKse,GAAI,EAAT,SACE,gBAACryB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK4N,MAAM,SAA/B,mCAIF,eAACtM,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEkT,WAAY,IAAMzM,GAAI,GAA1C,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAaslB,IAAKwe,GAAaF,UAAU,EAAM1qC,MAAO8R,KAAKlC,IAAI5P,EAAQ,GAAI,qBC3C3F,IAAMsI,GAAU,GAGV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,OAC3BnB,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB7D,cAAe,CACb3P,aAxBe,EAyBf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC2lB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB67B,cAAe,CACblkC,SAAU,GAEVf,MAAOL,EAAQM,OAAOC,YAKb,SAASwpC,GAAT,GAAwE,IAAD,IAA3CC,cAA2C,WAAlCpwC,EAAkC,MAAvBklB,eAAuB,WAAbllB,EAAa,EAC9E6F,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEvB,OACE,gBAACqC,GAAA,EAAD,CAAM2X,IAAKumB,eAAsBh+B,WAAS,EAACpG,UAAWH,EAAQ2mB,OAA9D,UACE,eAACtgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,2BAIF,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK2E,WAAW,SAASlG,QAAS,EAAtE,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,IAAE,EAACjkC,MAAO,CAAE2B,WAAY,GAA3C,SACE,eAAC+C,GAAA,EAAD,CAAY3E,UAAWH,EAAQ6lC,cAA/B,gJAIF,eAACx/B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAEwW,UAAW,SAAxD,SACE,gBAACvQ,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACG6e,GACC,eAAChZ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAAS0a,EAAnD,0BAKHkrB,GACC,eAAClkC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAAS4lC,EAAnD,0C,0RChEZrrC,GAAYC,cAAW,gBAAGqB,EAAH,EAAGA,QAASD,EAAZ,EAAYA,QAAS/C,EAArB,EAAqBA,OAArB,OAC3B4B,aAAa,CACX1B,OAAQ,CACNmC,QAAS,OACTqI,cAAe,SACf6K,QAAS,OACTC,OAAO,aAAD,OAAezS,EAAQS,UAE/BkS,WAAY,CACVC,cAAe,cAEjBmB,cAAe,CACbxD,OAAQ,EACRhJ,QAAStH,EAAQ,GACjB8S,WAAY9S,EAAQ,IACpB+S,cAAe/S,EAAQ,KAEzBozB,YAAa,CACX7yB,WAAYR,EAAQS,QAAQC,KAC5BL,MAAOL,EAAQM,OAAOC,MACtB0pC,UAAW,IAEb/2B,YAAa,CACX7S,MAAO,WAET8S,aAAc,CACZ9S,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQmJ,MAAMzI,KAC1B,UAAW,CACTF,WAAYR,EAAQmJ,MAAMM,OAG9B6pB,cAAe,CACbl0B,SAAU,EACVoB,WAAY,QACZvB,MAAO,KAEToU,eAAgB,CACdhT,MAAOL,EAAQS,QAAQwS,MACvBjU,SAAU,WACVsU,IAAK,MACLC,KAAM,MACN/R,WAAavE,EAAOuW,aAAe,EACnC9O,YAAczH,EAAOuW,aAAe,GAEtC02B,YAAa,CACX1pC,WAAYR,EAAQQ,WAAWioC,cAyQtB0B,GArOQ,SAAC,GAyBK,IAxB3BzwC,EAwB0B,EAxB1BA,GACOga,EAuBmB,EAvB1BzS,MAuB0B,IAtB1B0L,cAAeN,OAsBW,MAtBK,GAsBL,OArB1BsH,UAqB0B,EApB1BC,YAoB0B,EAnB1BC,oBAmB0B,MAnBZ,SAmBY,MAlB1BC,mBAkB0B,MAlBZ,SAkBY,MAjB1Bs2B,kBAiB0B,MAjBbC,KAiBa,OAhB1B5hC,SAgB0B,EAf1BuH,cAe0B,MAflB,GAekB,EAd1BiE,EAc0B,EAd1BA,SACAC,EAa0B,EAb1BA,SAEA3H,GAW0B,EAZ1B7B,QAY0B,EAX1B6B,UAEQC,GASkB,EAV1Bub,WAU0B,EAT1B5c,QACWsB,EAQe,EAR1BZ,UACA/H,EAO0B,EAP1BA,SAO0B,KAN1BsiB,OAM0B,EAL1BkkB,YAK0B,EAJ1BjkC,UAI0B,EAH1BkkC,qBAG0B,WAHX3wC,EAGW,MAF1B8S,yBAE0B,WAFN9S,EAEM,EAClBqD,GADkB,mBACP0C,eAAX1C,QACR,EAA0CyB,IAAMyO,UAAS,GAAzD,oBAAOqH,EAAP,KAAsBC,EAAtB,KACA,EAAoC/V,IAAMyO,SAAS,GAAnD,oBAAOwmB,EAAP,KAAmBC,EAAnB,KACA,EAA0Btf,aAAe5a,GAAzC,oBAAOF,EAAP,KAAc8S,EAAd,KACQhT,EAAgDE,EAAhDF,KAAM4Q,EAA0C1Q,EAA1C0Q,KAAM0C,EAAoCpT,EAApCoT,WAAY2H,EAAwB/a,EAAxB+a,QAAS1H,EAAerT,EAAfqT,WACnCgnB,EAAgBn1B,IAAMmI,aAAY,SAAAitB,GAAI,OAAIxnB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB8B,WAAYinB,SAAU,CAACxnB,IAC9FrL,EAAQzH,EAAMyH,MAAQzH,EAAMyH,MAAQyS,EACpCtH,EAAS2D,GAAcC,GAE7B,EAA8E7D,GAAU,CACtFjC,OACAkC,SACAC,gBACA7S,QACA8S,WACAC,WACAC,iBACAC,oBACA3I,WACA4I,sBAVMvB,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWyC,EAA3B,EAA2BA,WAAYP,EAAvC,EAAuCA,OAAQQ,EAA/C,EAA+CA,SAAUb,EAAzD,EAAyDA,iBAczDhP,IAAMkP,WAAU,WACd1D,GAAQ0pB,EAAc,GACtB1pB,GAAQuK,GAAiB,KACxB,CAACvK,IAEJ,IAAM6U,GAAcrgB,IAAMmI,aAAY,WACpC+sB,EAAc,GACdnf,GAAiB,GACjB/G,MACC,CAACkmB,EAAenf,EAAkB/G,IAE/BjO,GAAUd,GAAU,IAEpBo1B,GAAc/jB,EAAMpU,QAAO,SAAAqU,GAAC,OAAItE,GAA+B,oBAAdsE,EAAE+jB,QAAyB/jB,EAAE+jB,QAAQ7oB,GAAU8E,EAAE+jB,YAClGC,GAAeF,IAAeA,GAAYJ,IAAgB,GAC1DO,GAAeD,GAAY1nB,SAE3B4nB,GAAmBF,GAAY7nB,OAAS6nB,GAAY7nB,OAAOxQ,QAAO,SAAAsP,GAAC,OAAIgD,GAAQhD,EAAGC,EAAQ4C,MAAS/R,OAAS,EAE5G2Y,GAAWrY,KAAKC,UAAU4O,GAC1ByJ,GAAelW,IAAMmI,aAAY,WACjCstB,GAAmB,EACrBN,GAAc,GAEd5f,GAAYA,EAAS3X,KAAKqR,MAAMgH,IAAWoK,IAAa,KAEzD,CAACoV,GAAkBN,EAAe5f,EAAUU,GAAUoK,KAEnD9I,GAAcC,eAEds0B,GAAgB9rC,IAAMmI,aAAY,WACtCkY,KACA9I,GAAYG,YAAU,eACtBwB,MAAM,kBACL,CAAC3B,GAAa8I,KAEX0rB,GAAkB/rC,IAAMmI,aAAY,WACpCstB,GAAmB,GACrBvc,MAAM,kDACNic,GAAc,IAEd5f,GAAYA,EAAS3X,KAAKqR,MAAMgH,IAAW61B,IAAe,KAE3D,CAACrW,GAAkBN,EAAe5f,EAAUU,GAAU61B,KAEnD31B,GAAenW,IAAMmI,aAAY,WACrCqN,GAAYA,EAAS5X,KAAKqR,MAAMgH,OAC/B,CAACT,EAAUS,KAERD,GAAsBhW,IAAMmI,aAAY,kBAAM4N,GAAiB,SAAA1J,GAAI,OAAKA,OAAO,CAAC0J,IAEhFmZ,GAAalvB,IAAMmI,aAAY,WACnC,GAAIstB,GAAmB,EACrBN,GAAc,OACT,CACL,IAAMO,EAAO,WAA4B,IAA3BC,EAA0B,4DAAdz6B,EACxBy6B,GAAaxoB,GAAU,SAAAd,GAAI,OAAImC,KAAMnC,EAAMspB,MAC3CxnB,GAAcgnB,GAAc,GAC5BD,GAAc,SAAAU,GAAc,OAAIA,EAAiB,MAEnDJ,GAAeA,GAAa53B,KAAKqR,MAAMgH,IAAWyf,GAAQA,OAE3D,CAACP,EAAehoB,EAAWgB,EAAYqnB,GAAcN,EAAeO,GAAkBxf,KAEnFkZ,GAAanvB,IAAMmI,aAAY,kBAAM+sB,GAAc,SAAAU,GAAc,OAAIA,EAAiB,OAAI,CAACV,IAE3F7e,GAAaR,GAAW3H,EACxBrB,GAAWwJ,IAAchH,EAAM,QAErC,OACE,uCACE,eAACg8B,GAAD,CAAkBC,OAAQS,GAAiB3rB,QAASC,KAEzC,OAAV9d,GACC,wCACIuT,GACA,eAACspB,GAAA,EAAD,CAAal+B,UAAWH,GAAQyqC,YAAhC,SACE,gBAACpkC,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAEsB,YAAa,GAAIN,aAAc,IAAMsF,WAAW,SAAzE,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,eAAC/B,GAAA,EAAD,CAAYiC,QAAM,EAACnG,MAAM,cAAcmE,QAAQ,QAA/C,SACGyvB,GAAYzrB,MAAQyrB,GAAYzrB,MAAQyrB,GAAYv6B,OAGxDq6B,GAAY/3B,OAAS,GACpB,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAAMl0B,MAAM,UAAUmI,MAAK,UAAKmrB,EAAa,EAAlB,eAA0BI,GAAY/3B,iBAM3E,eAACmZ,GAAA,EAAD,OAGJ,eAAC0E,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,gBAACvU,GAAD,CAAWhJ,MAAO4E,EAAM,QAAxB,UACGgH,IAAc,eAACO,GAAA,EAAD,CAAkBvX,KAAMd,EAAOuW,aAAc5T,UAAWH,GAAQ4T,iBAC/E,eAAC3B,GAAA,EAAD,CAAUC,IAAK6C,EAAf,SACGuf,GAAY93B,KAAI,WAA+CW,GAAO,IAAnDk1B,EAAkD,EAAlDA,SAAkD,IAAxC1lB,cAAwC,MAA/B,GAA+B,EAA3B5D,EAA2B,EAA3BA,MAAO0qB,EAAoB,EAApBA,WAC1CsB,EAAe,OAAG1C,QAAH,IAAGA,IAAYhgB,GACpC,OACE,eAACJ,GAAA,EAAD,CAAkBC,GAAIgiB,IAAe/2B,EAArC,SACE,eAAC,KAAD,UACE,eAAC,GAAD,CAAwBpB,MAAOoB,EAAGq2B,YAAaU,EAAYT,WAAYA,EAAY/nB,OAAQA,EAAQU,UAAWA,EAA9G,SACE,gBAAC/F,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACE,eAACu0B,EAAD,CAAiBpoB,OAAQA,EAAQmC,SAAUA,EAAUpD,OAAQA,EAAQ3R,MAAOA,EAAO8S,SAAUA,EAAUT,UAAWA,IACjH0+B,EACC,eAACzkC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACikC,EAAD,CAAc3c,WAAYA,GAAYC,WAAYA,GAAYjZ,aAAcA,GAAc+e,WAAYA,MAGxG,mCARWnrB,IADRA,IADE5L,QAmBpB4X,GACC,gBAAC1O,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,SAASC,WAAW,SAAxD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQnR,QAASsQ,GAAqBrU,MAAM,YAA5C,sBAIF,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQnR,QAASyQ,GAAcjV,UAAWH,GAAQ0T,aAAlD,UACE,eAAC,KAAD,CAAYtT,MAAO,CAAE8E,YAAa,KADpC,WAEWkP,eAOrB,eAAC/N,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC0uB,GAAA,EAAD,CACEjwB,QAAQ,OACRwL,MAAO+jB,GAAY/3B,OACnBgD,SAAS,SACT20B,WAAYA,EACZ/zB,UAAWH,GAAQ6zB,cACnBoB,WACEf,IAAeI,GAAY/3B,OAAS,EAClC,gBAACuZ,GAAA,EAAD,CAAQlV,MAAM,UAAUtC,KAAK,QAAQyG,QAAQ,YAAY+G,UAAW+C,GAAc/C,GAAUnH,QAASwQ,GAArG,UACGd,EACD,eAACs2B,EAAD,CAAYvqC,MAAO,CAAE6E,WAAY,QAGnC,qCACE,gBAAC6Q,GAAA,EAAD,CAAQlV,MAAM,UAAUtC,KAAK,QAAQyG,QAAQ,YAAYJ,QAASwpB,GAAYriB,SAAUA,GAAxF,iBAEE,eAAC,KAAD,SAKRopB,WACiB,IAAfhB,GAA6B,SAATr6B,QAAgCM,IAAbsa,EACrC,gBAACqB,GAAA,EAAD,CAAQ3V,UAAWH,GAAQ0T,aAAcpV,KAAK,QAAQyG,QAAQ,YAAYJ,QAASsQ,GAAqBnJ,SAAUA,GAAlH,UACE,eAAC,KAAD,CAAY1L,MAAO,CAAE8E,YAAa,KACjCkP,KAGH,gBAAC0B,GAAA,EAAD,CAAQxX,KAAK,QAAQqG,QAASypB,GAAYtiB,SAAyB,IAAfooB,GAAoBpoB,GAAxE,UACE,eAAC,KAAD,IADF,oBCjTHtK,GAAQ,iBAON,SAASypC,GAAT,GAAoE,IAAD,IAAvChxC,UAAuC,MAAlCuH,GAAkC,EAA3ByJ,EAA2B,EAA3BA,QACrD,EAAmC4J,aAAe5a,GAAlD,oBAASJ,EAAT,KAASA,KAAQu7B,EAAjB,KACMl7B,EAAOgxC,aAAW,IACxB,EAA2BjsC,IAAMyO,SAAS6C,GAAM1W,EAAMK,IAAtD,oBAAOm7B,EAAP,KAAeC,EAAf,KACAr2B,IAAMkP,WAAU,WACdmnB,EAAS/kB,GAAM1W,EAAMK,MAEpB,CAACL,EAAMgD,KAAKC,UAAU5C,KAEzB,IAAM+pB,EAAcF,KACdvN,EAAcC,eAEdxG,EAAQ9I,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,SACpF4S,EAAM1b,aAAY,SAACqJ,GAAD,uBAAYA,EAAEhT,OAAO6a,YAArB,aAAY,EAAe0B,YAE7Cgc,EAAoB,SAACrqB,EAAQ2Y,GAAwD,IAAhD/E,EAA+C,4DAAjCnlB,EAAWo7B,EAAsB,4DAAdp7B,EACpEq7B,EAA2B9pB,EAAOgX,KAAOroB,cACzCo7B,GAAY,IAAI36B,MAAOmrB,UAEd,MAAX5B,IACFmR,EAAY5R,IAAMwC,cAClBoP,EAAYE,QAAUtP,cACtBoP,EAAYG,QAAUF,GAGxBD,EAAYM,QAAUL,EAEtBL,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAE5CmP,EAAY,CACVG,MAAO1B,KAAOroB,aACdgqB,SACAF,KAAK,2BAAMqR,GAAP,IAAoBvlB,QAAO4S,MAAK0S,UACpC/Q,QAAS,kBAAM4Q,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACzE6a,UAAW,WACTjF,GAAeA,IACf9I,EAAYG,YAAU,eACtBhM,QAUAA,EAAc1L,IAAMmI,aAAY,WACpCguB,GAAe,SAAA9pB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAO0C,YAAY,EAAOmB,OAAQ,QAC3ErD,GAAWA,MACV,CAACmqB,EAAgBnqB,IAEpB,OACE,gBAACmP,GAAA,EAAD,CAAK6M,GAAI,EAAT,UACE,eAAC,GAAD,CAAgBhtB,GAAIA,EAAIuH,MAAOA,GAAOgT,SAZrB,SAAC9I,EAAQ4T,EAAaiW,GACzCQ,EAAkBrqB,EAAiB,SAAT7R,EAAkB,IAAM,IAAKylB,EAAaiW,IAWJ9gB,SAT7C,SAAA/I,GAAM,OAAIqqB,EAAkBrqB,EAAQ,MASiC6E,MAAO8kB,EAAQpqB,QAASA,EAASR,MAAM,IAD/H,OCrEG,SAAS0gC,KACd,MAAqBt2B,aAAerT,IAA3BqL,EAAT,qBAEMyS,EAAcrgB,eAAkB,WACpC4N,EAAS,CACPhT,KAAM,MACN4Q,MAAM,IAERoC,EAAS,CACPhT,KAAM,MACN4Q,MAAM,MAEP,CAACoC,IAEJ,OAAO,eAACo+B,GAAD,CAAkBhgC,QAASqU,IAGrB,SAAS8rB,GAAavsC,GACnC,MAAqBgW,aAAerT,IAA3BqL,EAAT,qBAQA,OAPA5N,aAAgB,WACd4N,EAAS,CACPhT,KAAM,MACN4Q,MAAM,MAEP,CAACoC,IAEG,eAACs+B,GAAD,eAAqBtsC,I,oCCvBxBwsC,GAAQ,SAAC,GAAuB,IAArBxxC,EAAoB,EAApBA,KAAM8K,EAAc,EAAdA,QACflC,EAAgB,SAAT5I,EAAkBsM,KAAuBA,KACtD,OACE,eAACE,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE4I,SAAU,IAAMxI,QAAS,EAAGiG,QAAQ,SAASD,UAAU,SAAhF,SACE,eAACH,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC5B,GAAA,EAAD,CAAYC,QAASA,EAArB,SACE,eAAClC,EAAD,CAAMrC,MAAO,CAAEQ,MAAO,WAAae,SAAS,iBAOhDzC,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXuB,MAAO,CACLI,WAAYwG,KAAK,IACjBuJ,OAAQ,EACRhJ,QAAS,EACTyL,cAAe,EACf,UAAW,CACTxS,WAAYR,EAAQS,QAAQwS,QAGhCvY,KAAM,CACJ8X,QAAS,aAKA,SAASu4B,GAAT,GAAyC,IAAD,MAAfrd,cAAe,MAAN,GAAM,EAC/CzuB,EAAQwD,cACVuoC,EAAaj6B,KAAKjC,IAAI,IAAKiC,KAAKlC,IAAY,GAAR5P,EAAa,MAEjDA,EAAQ,MACV+rC,EAAqB,GAAR/rC,GAGf,IAAMgsC,EAAcl6B,KAAKm6B,MAAe,GAARjsC,EAAe+rC,GAEzCvrC,EAAUd,KAChB,OAAO,iBAAC+uB,QAAD,IAACA,OAAD,EAACA,EAAQ1xB,cAAT,QAAmB,KAAO,EAC/B,eAACuI,GAAA,EAAD,CAAYlE,MAAM,gBAAgB+R,MAAM,SAAxC,iCAIA,eAAC,KAAD,CAAU+4B,eAAe,EAAOC,iBAAkB,kBAAM,gCAAOC,YAAaP,GAAOG,YAAaA,EAAaK,OAAO,EAApH,SACG5d,EAAOzxB,KAAI,SAACsvC,EAAI3uC,GAAL,OACV,eAAC0hB,GAAA,EAAD,CAAcC,KAAMgtB,EAAIxqC,UAAU,SAASwC,OAAO,SAASiB,QAAQ,QAAQnE,MAAM,UAAUT,UAAWH,EAAQ/E,KAA9G,SACE,eAAC0L,GAAA,EAAD,CAAOC,UAAW,EAAGzG,UAAWH,EAAQW,MAAxC,SACE,sBAAKP,MAAO,CAAEZ,MAAO+rC,EAAY/jC,aAAc,GAAKmU,IAAKmwB,EAAIlwB,IAAG,gBAAWze,QAFpEA,Q,qCClDb+B,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXgqC,iBAAkB,CAChBvnC,WAAY,IACZjB,MAAOL,EAAQS,QAAQwS,OAEzBu4B,KAAM,CACJlqC,WAAY,IACZjB,MAAOL,EAAQM,OAAOmrC,YAKb,SAASC,GAAcptC,GACpC,IAAMmB,EAAUd,KACR42B,EAA4Bj3B,EAA5Bi3B,QAASH,EAAmB92B,EAAnB82B,QAAS1lB,EAAUpR,EAAVoR,MAE1B,OACE,gBAACtJ,GAAA,EAAD,CAAOvG,MAAO,CAAE0H,QAAS,GAAIwL,WAAY,GAAzC,UACE,gBAACjN,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAASlG,QAAS,EAArE,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,6BAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYiC,QAAM,EAAC5G,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAhE,SACG+wB,EAAU8C,YAAwB9C,GAAWH,EAAUiD,YAAwBjD,GAAW,YAKnG,eAACtvB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKlG,MAAO,CAAEwW,UAAW,SAAzB,SACE,gBAACvQ,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,mBAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYiC,QAAM,EAAC5G,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAhE,SACGkL,gBAOb,gBAAC5J,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK0E,QAAQ,gBAAgBC,WAAW,SAASlG,QAAS,EAA9F,UACE,gBAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,QAAQ5E,UAAWH,EAAQ+rC,KAA/C,gCAGA,eAACjnC,GAAA,EAAD,CAAYC,QAAQ,UAApB,iGACA,eAACqV,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B/H,YAAQ6B,EAAMw5B,QAAU,gBAAkBx5B,EAAMw5B,cAGjF,eAAChyB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,QAAQ5E,UAAWH,EAAQ+rC,KAA/C,sCASJ,eAACzM,GAAD,2BAA0BzgC,GAA1B,IAAiC2gC,cAAc,EAAOD,aAAa,cCvEzE,IAAMrgC,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXmH,UAAW,CACTyY,OAAQ,WAEV3I,WAAY,CACVzV,MAAOL,EAAQS,QAAQwS,MACvB7R,SAAU,GACVI,UAAW,GAEbuU,iBAAkB,CAChBzU,WAAY,UAKH,SAASqqC,GAAT,GAAgG,EAAlE5tC,KAAmE,IAAD,IAA3CyG,eAA2C,MAAjC,UAAiC,EAAfgE,EAAe,EAAfA,MAAO9N,EAAQ,EAARA,KAC/F+E,EAAUd,KACV2b,EAAcoV,aAAch1B,GAClC,OACE,gBAACoL,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQuG,UAAW/F,QAAS,EAAGmE,QAASkW,EAAnE,UACE,eAACxU,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYC,QAASA,EAAS5E,UAAWH,EAAQsW,iBAAkB1V,MAAM,gBAAzE,SACGmI,MAGL,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAqBnG,UAAWH,EAAQqW,kBClBhD,IAAMnX,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXgqC,iBAAkB,CAChBvnC,WAAY,IACZjB,MAAOL,EAAQS,QAAQwS,YAOd,SAAS24B,GAAT,GAA4D,IAAD,IAAlCvV,WAAkC,MAA5B,GAA4B,MAAjB/8B,YAAiB,MAAV,OAAU,EAClEmG,EAAUd,KAEd0kB,EAYEgT,EAZFhT,IADF,EAaIgT,EAXF3E,iBAFF,MAEc,GAFd,EAGErE,EAUEgJ,EAVFhJ,UACAX,EASE2J,EATF3J,YACAG,EAQEwJ,EARFxJ,QACAU,EAOE8I,EAPF9I,QANF,EAaI8I,EANFsF,aAPF,MAOU,GAPV,EAQEpG,EAKEc,EALFd,QACAH,EAIEiB,EAJFjB,QATF,EAaIiB,EAHFwV,8BAVF,WAU2BjyC,EAV3B,IAaIy8B,EAFFyV,2BAXF,WAWwBlyC,EAXxB,IAaIy8B,EADFzE,2BAZF,MAYwB,GAZxB,EAeMjlB,EAAgB/F,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS3D,aAAaupB,MACrExmB,EAAOi6B,aAAWT,GAClBE,EAAUC,aAAcH,GACxB9tB,EAAO+tB,aAAWD,GAClBla,EAAWC,eAEXlB,EAAoBC,eACpB4wB,EAAuBna,EAAoBnb,SAAS,sBAE1D,OACE,gBAAC3Q,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO0hC,KAA3B,SACE,sBAAK9gC,MAAO,CAAEX,OA/BF,IA+BuB+H,aAAc,IAAMmU,IAAK7S,EAAM8S,IAAI,WAExE,eAACvV,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACQ,cAAY,EAACD,IAAE,EAA1B,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2H,SAAU,KAAnC,UACE,gBAAC1B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,KAAzD,SACG3H,GAAQ,iBAEX,eAAC0H,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,SAAmCk2B,OAErC,eAACzwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAE2B,UAAW,EAAGZ,aAAc,GAAxD,SACE,eAACggC,GAAA,EAAD,CAAiBvT,UAAWA,EAAWX,YAAaA,EAAaG,QAASA,EAASU,QAASA,MAE9F,eAACznB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,sBAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYiC,QAAM,EAAC5G,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAhE,SACoB,IAAjBm3B,EAAM3/B,OACL,eACE2/B,EAAM3/B,OAAS,EACjB,eAAC2a,GAAA,EAAD,CAAcnS,QAAQ,OAAOzG,KAAK,QAAQmE,KAAM,KAAMiN,QAASwsB,EAAMx/B,KAAK,OAA1E,uCAIAw/B,EAAMx/B,KAAK,gBAMrB,eAAC2J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,uCAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY3E,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAzD,SACGktB,EAAUjb,SAAS,sBAAwB,MAAQ,uBASpE,eAAC3Q,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAAO,KAA3B,SACE,gBAAC6G,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACY,WAAT3G,GACC,uCACE,eAACwM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACG6V,EACC,eAAC,KAAD,CACE3X,QAAQ,iBACRzG,KAAK,QACLrE,GAAG,iBACH0K,QAAS8W,EAAkB9E,YAAU,qBACrCzJ,cAAa,eACVwV,KAAOroB,aADG,2BAEN6S,GAFM,IAGT0W,IAAKwC,cACLyP,OAAQ3oB,EAAc0W,IACtBgS,UAAU,EACVqN,mBAAe9oC,EACfw7B,SAAS,IAAI76B,MAAOmrB,aAGxBvW,QAAQ,WACR7K,UAAU,SAhBZ,mCAqBA,eAACqS,GAAA,EAAD,CAAcnS,QAAQ,iBAAiBzG,KAAK,QAAQqG,QAAS8W,EAAkB9E,YAAU,eAAzF,2BAKJ,eAACtQ,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,SAAvC,SACE,eAACM,GAAA,EAAD,CACEwH,OAAQgc,EACRxtB,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCnI,QAAQ,cACRgE,MAAM,8BAKd,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAf,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,4BAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYiC,QAAM,EAAC5G,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAhE,SACG+wB,EAAU8C,YAAwB9C,GAAWH,EAAUiD,YAAwBjD,GAAW,YAKnG,eAACtvB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,0CAIF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY3E,UAAWH,EAAQopC,iBAAkBrkC,QAAQ,UAAzD,SACGunC,EAAuB,MAAQ,cAKvCA,IAAyBtvC,YAAQovC,IAChC,eAAC/lC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4lC,GAAD,CAAoBnjC,MAAM,0BAA0B9N,KAAMmxC,MAG7DE,IAAyBtvC,YAAQqvC,IAChC,eAAChmC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4lC,GAAD,CAAoBnjC,MAAM,uBAAuB9N,KAAMoxC,mBC7KzE,IAAMntC,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXwnB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB+hC,KAAM,CACJlqC,WAAY,IACZjB,MAAOL,EAAQM,OAAOmrC,YAKb,SAASO,KAAW,IAAD,IAC1BvsC,EAAUd,KACZmlC,EAAKrgC,aAAc,MAEvB,EAAgBwoC,cAATzyC,EAAP,qBACA,EAA2BA,EAAnB68B,WAAR,MAAc,GAAd,EAAkBnkB,EAAS1Y,EAAT0Y,KACVmR,EAAkCgT,EAAlChT,IAAKmU,EAA6BnB,EAA7BmB,WAAYD,EAAiBlB,EAAjBkB,aAEnB2U,EAAsB,WAATh6B,EAEbgJ,EAAoBC,eAEpBgxB,EAAgB,iBAAG3U,QAAH,IAAGA,OAAH,EAAGA,EAAYlJ,mBAAf,QAA8B,GAC9C8d,EAAkB,iBAAG7U,QAAH,IAAGA,OAAH,EAAGA,EAAcjJ,mBAAjB,QAAgC,GAClDZ,EAAM,sBAAOye,GAAP,YAA4BC,IAElCC,EAAUrL,GAAkB,MAAO3d,GAEzC,EAAwB3kB,WAAe,GAAvC,oBAAO4tC,EAAP,KAAaC,EAAb,KAEMC,EAAmB9tC,eACvB,SAACqE,EAAOupC,GACNC,EAAQD,KAEV,CAACC,IAGG7M,EAAS2M,EAAQC,EAAO,GAE9B,EAAwB5tC,YAAe,GAAvC,oBAAOwL,EAAP,KAAauiC,EAAb,KAKA,OAJA/tC,aAAgB,WACdguC,YAAW,kBAAMD,GAAQ,KAAO,OAC/B,CAACA,IAGF,gBAAC3mC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASrG,MAAO,CAAE0H,QAASu8B,EAAK,GAAK,IAAM7jC,QAAS,EAA5E,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAE4e,OAAQ,WAAara,QAAS8W,EAAkB9E,YAAU,SAAU,IAAhG,SACE,eAAC7R,GAAA,EAAD,oCAEF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACslC,GAAD,CAAevV,IAAKA,MAGtB,gBAACvwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC6O,GAAA,EAAD,IACA,eAACzD,GAAA,EAAD,CAAUC,GAAIzH,EAAd,SACE,eAAC2P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACGoyB,EACC,eAACS,GAAA,EAAD,CACEC,SAAS,UACTrvC,OACE,eAAC4G,GAAA,EAAD,CACE,aAAW,QACX9D,MAAM,UACNtC,KAAK,QACLqG,QAAS,WACPqoC,GAAQ,IALZ,SAQE,eAAC,KAAD,CAAarrC,SAAS,cAX5B,wDAkBA,eAACurC,GAAA,EAAD,CACEC,SAAS,UACTrvC,OACE,eAAC4G,GAAA,EAAD,CACE,aAAW,QACX9D,MAAM,UACNtC,KAAK,QACLqG,QAAS,WACPqoC,GAAQ,IALZ,SAQE,eAAC,KAAD,CAAarrC,SAAS,cAX5B,SAeE,gBAAC0E,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,gBAApC,UACE,gBAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,eAAC8mC,GAAA,EAAD,UACE,0EAFJ,4FAMA,eAAC/mC,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAACqQ,GAAA,EAAD,CACEvS,QAAS8W,EAAkB9E,YAAU,WAAY,CAC/CigB,MACAT,KAAM,MACNkX,WAAY,UACZpkB,cAAU9uB,EACVgvB,wBAAoBhvB,IAEtB4K,QAAQ,eARV,qDAmBd,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ+rC,KAA/B,+DAEF,eAAC1lC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC+5B,GAAD,CAAuBC,eAAgB,IAAM9I,WAAYA,EAAYD,aAAcA,MAErF,eAACzxB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACqkB,GAAD,CAAerd,OAAQA,QAG3B,gBAAC5nB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,gBAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAAa7hB,QAAQ,QAApD,kCACwB6nC,EAAQrwC,OADhC,OAGA,eAACuI,GAAA,EAAD,CAAYC,QAAQ,UAApB,gEAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAT,SACG4lB,GAAU,eAACgM,GAAD,eAAmBhM,EAAO/V,kBAGxC0iB,EAAQrwC,OAAS,GAChB,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAxB,SACE,eAAC6mC,GAAA,EAAD,CAAYT,KAAMA,EAAMU,MAAOX,EAAQrwC,OAAQwI,QAAQ,WAAWorB,MAAM,UAAU9rB,SAAU0oC,gBCzG5G,IAAMjlC,GAAU,GAKV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,EAAyBC,QAAzB,EAAkChD,OAAlC,OAC3B4B,aAAa,CACXsB,KAAK,aACHmB,WAAY,KACTgiC,GAAiB7oB,IAEtB7D,cAAe,CACbwP,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAGtBxT,aA9Be,EA+Bf5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC2lB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzBzD,UAAU,2BACLs9B,GAAiB7oB,IADb,IAEPtT,UA7CY,IA8CZF,aA/Ce,IAiDjB4P,cAAc,2BACTysB,GAAiB7oB,IADT,IAEXtT,UAlDY,IAmDZ3G,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtB0G,aAtDe,IAwDjBgmC,aAAc,CACZ5sC,MAAOL,EAAQS,QAAQgJ,WAKvB2C,GAAS,CACbvP,KAAM,CAAE2L,MAAO,YAAazE,YAAa,aACzC9C,MAAO,CAAEuH,MAAO,QAASzE,YAAa,SACtC2L,MAAO,CAAElH,MAAO,QAASzE,YAAa,iBACtCmpC,YAAa,CAAE1kC,MAAO,eAAgBzE,YAAa,oBACnDopC,QAAS,CAAE3kC,MAAO,6BAA8BzE,YAAa,oBAAqBgL,WAAW,EAAMC,KAAM,IAG5F,SAASo+B,KACtB,IAAM3tC,EAAUd,KAEhB,EAA0BD,WAAe,IAAzC,oBAAOlF,EAAP,KAAc8S,EAAd,KACM+gC,EAAY/wC,KAAKC,UAAU/C,GAE3B8zC,EAAa5uC,eAAkB,YAnIvC,YAAkE,IAA7C7B,EAA4C,EAA5CA,KAAMoE,EAAsC,EAAtCA,MAAOyO,EAA+B,EAA/BA,MAAOw9B,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QAC9CtU,EAAeC,YACfC,EAAqB,uBAErBh+B,EAAI,uEAEQ8B,EAFR,+BAGIoE,EAHJ,oCAISyO,EAJT,qCAKUw9B,EALV,oDAMyBC,EANzB,QASNzqB,EAAS,CACXwW,YAAa,CACIC,YAAa,GAC5BC,YAAa,CAACP,IAEhBQ,QAAS,CAEPC,KAAM,CAEJC,KAAM,CACJC,QAAS,QACT5V,KAAM7oB,GAERoV,KAAM,CACJqpB,QAAS,QACT5V,KAAM7oB,IAGV0+B,QAAS,CACPD,QAAS,QACT5V,KAAM,mCAGV8V,OAAQX,EACRY,iBAAkB,CAACZ,IAIH,IAAIa,KAAIC,IAAI,CAAEC,WAAY,eAAgBC,UAAUrX,GAAQK,UAI3EpL,MAAK,SAAUhe,GACdoe,QAAQC,IAAIre,EAAKqgC,cAElB/hB,OAAM,SAAUC,GACfH,QAAQ5O,MAAM+O,EAAKA,EAAI+hB,UAmFzBF,CAAUz9B,KAAKqR,MAAM0/B,IACrBz1B,MAAM,gDACL,CAACy1B,IAEE/pC,EAAe5E,eACnB,SAAAP,GAAG,OAAI,SAAA4E,GACL,IAAQ7J,GAAR,OAAkB6J,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAOQ,QAAjBrK,MACRoT,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,kBAAiB5M,EAAMjF,UAEtC,CAACoT,IAGH,OACE,gBAACxG,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQU,KAAnC,UACE,eAAC2F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,GAAI,EAAGyJ,GAAI,EAAGC,GAAI,EAArC,SACE,gBAAC1nC,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QA7F5B,EA6F8CL,UAAWH,EAAQuG,UAAzE,UACE,eAACF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,2BAIF,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,uVAMF,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,qCAKJ,eAACvgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,kRAON,eAACyF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,GAAI,EAAGyJ,GAAI,EAAGC,GAAI,EAArC,SACE,gBAAC1nC,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAAGL,UAAWH,EAAQoX,cAAnE,UACE,gBAAC/Q,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,0CACA,eAACD,GAAA,EAAD,CAAYC,QAAQ,QAApB,4EAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,EAAGZ,aAAc,GAAKuF,WAAW,SAASlG,QAAS,EAAvF,SACGvE,OAAOC,KAAKyQ,IAAQnQ,KAAI,SAAAoJ,GACvB,MAAyE+G,GAAO/G,GAAxEmD,EAAR,EAAQA,MAAR,IAAezE,mBAAf,MAA6B,GAA7B,MAAiCgL,iBAAjC,aAAoDC,YAApD,WAA2DpV,EAA3D,EACA,OACE,gBAACkM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,QAAQ5E,UAAWH,EAAQwtC,aAA/C,SACGzkC,IAEH,eAAC,GAAD,CACEtP,MAAOM,EAAM6L,GACbvB,SAAUR,EAAa+B,GACvBtB,YAAaA,EACbiL,KAAMA,EACND,UAAWA,EACXwB,OAAO,QACP7B,WAAY,CAAE7O,MAAO,CAAEW,WAAY,sBAO/C,eAACsF,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,UAAvC,SACE,eAACd,GAAA,EAAD,CAAQnR,QAASkpC,EAAY1tC,UAAWH,EAAQmX,cAAhD,4BC9LZ,IAAMjY,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXsB,KAAM,kBAAkB,CACtB8G,aADI,EAAGF,aACiBnN,EAAY,EACpC2N,QAAS,IAEXL,KAAM,kBAAyB,CAC7BC,UADI,EAAGA,UAEPF,aAAc,YAEhBG,UAAW,CACT5G,WAAYR,EAAQS,QAAQC,KAC5BE,aAAc,EACd1B,OAAQ,GACRG,OAAQ,EACR4H,aAAc,IAEhBwmC,YAAa,CACXptC,MAAO,SAETmI,MAAO,cAAGklC,WAAH,MAAqB,CAC1BrtC,MAAOL,EAAQyV,KAAKhV,UAEtB4G,UAAW,kBAAyB,CAClChI,OAAQ,EACR8H,UAFS,EAAGA,YAIdG,QAAS,kBAAyB,CAChCC,QAAS,EACTlI,OAAQ,EACRmI,SAAU,EACVL,UAJO,EAAGA,YAMZM,QAAS,CACPnI,QAAS,cACT6G,WAAY,SACZuB,eAAgB,SAChBzI,MAAO,OACP0I,cAAe,SACfV,aAAc,gBA6FL0mC,GA/EgB,SAAC,GAA+H,IAAD,EAA5Hj0C,EAA4H,EAA5HA,GAA4H,IAAxHwN,YAAwH,MAAjH,GAAiH,MAA7GwmC,kBAA6G,WAAhG9zC,EAAgG,EAArFiO,EAAqF,EAArFA,YAAaC,EAAwE,EAAxEA,QAAwE,IAA/DX,iBAA+D,MAAnD,GAAmD,MAA/CJ,eAA+C,SAA/BjD,EAA+B,EAA/BA,SACvHrE,EAAUd,GAAU,CAAEwI,YAAWJ,UAAS2mC,eAEhD,EAAsCjnC,GAAe/M,GAArD,oBAAOqO,EAAP,KAAoBC,EAApB,KACMC,EAAWF,EAAY7O,MAE7B,EAAuB+yC,cAAdnwB,EAAT,qBAASA,SAED7B,EAAaC,eAAbD,SAEF/R,EAAQhB,EAAK,IAAMA,EAAK,GAAGxN,GAC3BmP,EAAM3B,EAAK2K,MAAK,SAAAtM,GAAC,OAAIA,EAAE7L,KAAOuO,KAC9BkS,EAAQ,OAAGtR,QAAH,IAAGA,OAAH,EAAGA,EAAKuR,MAChBwzB,EAAW,OAAG/kC,QAAH,IAAGA,GAAH,UAAGA,EAAK2R,kBAAR,aAAG,EAAiBsB,SAC/BzB,IAAgBJ,IAAaE,GAAY2B,IAAa8xB,IAAgB1mC,EAAK2K,MAAK,SAAAtM,GAAC,aAAIA,EAAE6U,QAAUH,IAAa,OAAD1U,QAAC,IAADA,GAAA,UAAAA,EAAGiV,kBAAH,eAAesB,YAAaA,KACzIZ,EAAoBC,eACpB0yB,EAAa5lC,GAAsBC,EAEzCxJ,aAAgB,gBACM9E,IAAhBygB,EACFrS,EAAe,CAAE9O,MAAOmhB,KAExB5d,YAAQwL,IAAaD,EAAe,CAAE9O,MAAOgP,IAC7CmS,GAAerS,EAAe,CAAE9O,MAAOmhB,EAAY3gB,MAErDyO,gBACC,CAACH,EAAgBC,EAAUC,EAAOmS,IAErC3b,aAAgB,WACdyJ,gBACC,CAACN,IAEJ,IAAMvE,EAAe5E,eACnB,SAACqE,EAAO7J,GACN8O,EAAe,CAAE9O,UACjB4K,GAAYA,EAAS5K,KAEvB,CAAC8O,EAAgBlE,IAGnB,EAA8BiE,EAAtB7O,aAAR,WAAgBU,EAAhB,EAEA,OACE,eAAC2gB,GAAA,EAAD,CAAW3a,UAAWH,EAAQU,KAA9B,SACE,eAACiI,GAAA,EAAD,CAAM5D,QAAQ,YAAY5E,UAAWH,EAAQyH,KAAMmB,cAAc,MAAMnP,MAAOA,EAAO4K,SAAUR,EAAc7D,QAAS,CAAE2H,UAAW3H,EAAQ2H,WAA3I,SACIF,EAGAA,EAAKjL,KAAI,SAACsJ,GAAD,OACP,eAAC+C,GAAA,EAAD,CAEElE,QAAS8W,EAAkB3V,EAAE6U,MAAH,OAAU7U,QAAV,IAAUA,OAAV,EAAUA,EAAGiV,YACvC/a,QAAS,CACPU,KAAMV,EAAQ6H,QACdD,UAAW5H,EAAQ4H,UACnBI,QAAShI,EAAQgI,QACjBK,QAASrI,EAAQ4H,WAEnBkB,KAAMhD,EAAEgD,MAAQ,eAAChD,EAAEgD,KAAH,CAAQ1I,MAAO,CAAEe,aAAc,KAC/C1H,MAAOqM,EAAE7L,GACToO,QAASA,EACTU,MACE,eAACjE,GAAA,EAAD,CACE3E,UAAWiuC,IAAetoC,EAAE7L,GAAK+F,EAAQguC,YAAchuC,EAAQ+I,MAC/DhE,QAAQ,KACR3E,MAAO,CAAE4I,SAAS,eAAD,OAAiB,EAAjB,QACjBjC,QAASsB,EAJX,SAMGvC,EAAEiD,MAAQjD,EAAEiD,MAAQjD,EAAE7L,MAlBtB6L,EAAE7L,OAJX,oC,gBCpHJwN,GAAO,CACX,CAAExN,GAAI,oBAAqB0gB,MAAO,SAAUI,WAAY,CAAEsB,SAAU,YACpE,CAAEpiB,GAAI,UAAW0gB,MAAO,SAAUI,WAAY,CAAEsB,SAAU,aAC1DlgB,QAAO,SAAA2J,GAAC,OAAIA,KAOCuoC,GALa,SAAC,GAA2B,EAAzBhyB,SAA0B,IAAb/R,EAAY,mBAC9C/J,EAAYL,eAAZK,QACR,OAAO,eAAC,GAAD,aAAwBtG,GAAG,sBAAsBg0C,WAAY1tC,EAAQS,QAAQgJ,KAAMvC,KAAMA,IAAU6C,KCDtGxC,GAAU,GAGV+7B,GAAmB,SAAA7oB,GAAW,gBAClClT,WACAjG,WAAY,KAFsB,cAGjCmZ,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAJY,cAMjC9oB,EAAYI,KAAK,MAAQ,CACxBtT,QAASg8B,GAAW,QAPY,GAW9BA,GAAa,SAACC,GAAD,IAAKC,EAAL,uDAAkB,EAAlB,OAAgC,OAAPD,EAAcj8B,GAAqB,OAAPi8B,EAAcj8B,mBAAcA,IAAWk8B,GAEzG9kC,GAAYC,cAAW,gBAAG6b,EAAH,EAAGA,YAAaza,EAAhB,EAAgBA,QAAhB,EAAyBC,QAAzB,EAAkChD,OAAlC,OAC3B4B,aAAa,CACXunB,OAAO,aACL5lB,WAAYR,EAAQS,QAAQwS,MAC5B5S,MAAOL,EAAQM,OAAOC,MACtBe,WAAY,KACTgiC,GAAiB7oB,IAEtB4L,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzBmN,cAAe,CACb3P,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,YAMrB,SAASqtC,GAAT,GAA2H,IAAD,MAAtF9sC,aAAsF,MAA9E,oBAA8E,MAAzDukC,oBAAyD,WAA1C5rC,EAA0C,MAA/B6rC,uBAA+B,WAAb7rC,EAAa,EACvI,EAAkDgqC,YAAe,gBAAjE,2BAASrhC,EAAT,EAASA,WAAT,IAAqBvI,eAArB,MAA+B,GAA/B,EAAqC6R,EAArC,KAEMpM,EAAUd,KAChB2kB,KAEA,IAAIwgB,EAAKrgC,aAAc,MAEjBH,EAAe5E,eACnB,SAAAhF,GAAE,OAAI,SAACqJ,GAAgB,IAAD,EACd7J,EAAK,OAAG6J,QAAH,IAAGA,GAAH,UAAGA,EAAOQ,cAAV,aAAG,EAAerK,MAE3B2S,EADS,eAAPnS,EACQ,SAAAqR,GAAI,MAAK,CAAExI,WAAYrJ,EAAOc,QAAS+Q,EAAK/Q,UAE5C,SAAA+Q,GAAI,MAAK,CAAExI,WAAYwI,EAAKxI,WAAYvI,QAAQ,2BAAM+Q,EAAK/Q,SAAZ,kBAAsBN,EAAKR,UAGxF,CAAC2S,IAGH,OACE,gBAAC/F,GAAA,EAAD,CAAM2X,IAAKumB,eAAsBh+B,WAAS,EAACpG,UAAWH,EAAQ2mB,OAA9D,UACE,eAACtgB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAxB,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAAK5E,UAAWH,EAAQ4mB,YAA5C,SACGplB,MAGL,eAAC6E,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ3V,UAAWH,EAAQmX,cAAexS,QAASqhC,EAAnD,SACGD,EAAe,gBAAkB,yBAK1C,eAAC1/B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACnG,MAAO,CAAE2B,UAAW,GAAK2E,WAAW,SAASlG,QA9ErD,EA8ER,SACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,IAAE,EAACjkC,MAAO,CAAE2B,WAAY,GAA3C,SACE,gBAACsE,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAhFZ,EAgFJ,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAAC68B,GAAD,CAAejqC,MAAOqJ,EAAYuB,SAAUR,EAAa,cAAeS,YAAY,0CAEtF,eAAC+B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAIw9B,EAAK,QAAKlqC,EAAWiG,MAAO,CAAE2H,SAAUs8B,OAAKlqC,EAAY,KAAxE,SACE,eAAC,GAAD,CACEV,MAAOc,EAAO,UACd8J,SAAUR,EAAa,aACvBS,aAAa,UAAA/J,EAAO,iBAAP,eAAsBgC,QAAS,EAAI,YAAc,gBAC9D0S,WAAY,CAAE7O,MAAO,CAAEW,WAAY,UACnC+O,MAAOkS,KAAUxlB,KAAI,SAAAuM,GAAK,MAAK,CAAEtP,MAAOsP,EAAOA,YAC/CgI,WAAW,kB,wBC/FhBvP,GAAQ,cAEfkT,GAAU,SAAA7V,GACd,OAAO,eAAC,GAAD,aAAoBjB,MAAO8kB,GAAiC9f,eAAe,SAASpB,MAAOA,IAAW3C,KAGhG,SAAS0vC,GAAT,GAAwE,IAAD,IAAjCt0C,UAAiC,MAA5BuH,GAA4B,EAArByJ,EAAqB,EAArBA,QAAYX,EAAS,mBACpF,EAA4BuK,aAAe5a,GAAlCiT,EAAT,qBAASA,cACT,EAAkCspB,cAAlC,oBAAOC,EAAP,KAAkBC,EAAlB,KAGM/rB,EAAc1L,IAAMmI,aAAY,WAChCqvB,IACFC,GAAa,GACbA,GAAa,IAEfzrB,GAAWA,MACV,CAACwrB,EAAWC,EAAczrB,IAC7B,OACE,eAAC,GAAD,aACEhR,GAAIA,EACJuH,MAAO,KACPwH,SAAS,KACTmL,YAAY,QACZE,YAAa,KACbK,QAASA,GACTC,aAAc,CAAEzH,iBAChBjC,QAASN,GACLL,ICvBK,SAASkkC,GAAT,GAAwC,IAAR5qB,EAAO,EAAPA,IACvC1W,EAAgB/F,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS3D,aAAaupB,MACrElH,EAAWC,eAEjB,OACE,gBAACtW,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,SAASlG,QAAS,EAA7C,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEoY,OAAQsa,EACRj0B,QAAQ,aACR4Z,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,mCACR7K,UAAU,aAGb6X,GACC,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQyW,EACRxW,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,OACR7K,UAAU,aAIhB,eAACwB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CACEvB,QAAQ,aACR2Z,OAAQ6vB,EACR5vB,OAAO,EACPlc,KAAM0D,KACN+G,cAAa,eAAKwV,KAAOroB,aAAe6S,GACxCwC,QAAQ,uBACR7K,UAAU,gBC3Cb,IAQDi2B,GAAc,SAAC,GAAD,IAAGhF,EAAH,EAAGA,QAAH,OAClB,eAAChxB,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGk1B,EAAU8C,YAAwB9C,GAAW,MAI5CsM,GAAU,SAAC,GAAD,IAAGnyB,EAAH,EAAGA,MAAH,OACd,eAACnL,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGqP,K,4BCbQ7S,GAAO,eAQPyhC,GAAuD,CAClEzhC,QACAusB,QAAS,CAAC9L,aAAmBsX,IAC7BpZ,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGG+rC,GAAsB,SAAC,GAA2D,IAAD,IAAxD1I,oBAAwD,aAAlC91B,aAAkC,WAA1B9V,EAA0B,EAAZ0E,EAAY,mBACtFhD,GAAqB,CAACoU,SDADA,MACX,CACd,CAAE7S,KAAM,MAAOupB,OAAQ,cAAe5e,SAAU,IAAKoiB,KAAMwM,GAAY4G,WAAW,EAAOlhC,KAAM,aAC/F,CAAEe,KAAM,QAASupB,OAAQ,WAAYnnB,MAAO,IAAK2qB,KAAMiY,GAAS7E,WAAW,EAAOlhC,KAAM,aACxF,CACEe,KAAM,UACNupB,OAAQ,eACRnnB,MAAO,IACP2qB,KAAM2Q,GACNyC,WAAW,EACXlhC,KAAM,WAER,CAAEe,KAAM,SAAUupB,OAAQ,SAAUnnB,MAAO,IAAK2qB,KAAMqkB,GAAsBjR,WAAW,KCXzF,OACE,uCACE,eAAC0I,GAAD,CAAoBvnB,OAAQ8f,EAAexkC,MAAOoD,KAClD,eAACksB,GAAD,2BAA2BuV,IAA3B,IAAqD3kC,KAAMksC,aAAkBhpC,GAAM2oC,EAAc91B,GAAQpU,QAASA,EAASk9B,YAAY,GAAUl6B,QCxBxI,SAAS6vC,GAAT,GAAoE,IAAD,IAA5CjvC,cAA4C,WAAnCtF,EAAmC,MAAxB4rC,oBAAwB,SACxE1b,EAAkBqa,KAAlBra,cAER,OACE,uCACGxM,aAAmB,2BAAK0wB,GAAN,IAAkCtjC,QAASof,KAC7DxM,aAAmB,2BAAKmb,GAAN,IAAyB/tB,QAASof,KACrD,eAAC,GAAD,CAAqB5qB,OAAQA,EAAQsmC,aAAcA,OCV1C,SAAS4I,GAAT,GAA4C,IAAXlvC,EAAU,EAAVA,OAC9C,EAAwCR,YAAe,GAAvD,oBAAO8mC,EAAP,KAAqBQ,EAArB,KAEMC,EAAevnC,eAAkB,WACrCsnC,GAAgB,SAAAj7B,GAAI,OAAKA,OACxB,CAACi7B,IACJ,OACE,uCACE,eAAC+H,GAAD,CAA0BvI,aAAcA,EAAcC,gBAAiBQ,IACvE,eAACkI,GAAD,CAAajvC,OAAQA,EAAQsmC,aAAcA,OCyF1C,SAAS6I,GAAT,GAAgG,IAA7D3+B,EAA4D,EAA5DA,MAAOspB,EAAqD,EAArDA,QAAqD,IAA5CtQ,gBAA4C,MAAjC,GAAiC,EAA7BG,EAA6B,EAA7BA,MAAOD,EAAsB,EAAtBA,mBACxEmQ,EAAqB,uBAErBh+B,EAAI,kIACkGi+B,EADlG,yFAC0LsV,YAAY,oBAAD,OACzL5lB,EADyL,+BAC1JE,EAD0J,kBAC9HC,IAFvE,8CAG6BD,EAH7B,4GASNlG,EAAS,CACXwW,YAAa,CACIC,YAAa,GAC5BC,YAAa,CAAC1pB,IAEhB2pB,QAAS,CAEPC,KAAM,CAEJC,KAAM,CACJC,QAAS,QACT5V,KAAM7oB,GAERoV,KAAM,CACJqpB,QAAS,QACT5V,KAAM7oB,IAGV0+B,QAAS,CACPD,QAAS,QACT5V,KAAK,UAAD,OAAYgF,EAAZ,uBAGR8Q,OAAQX,EACRY,iBAAkB,CAACZ,IAIH,IAAIa,KAAIC,IAAI,CAAEC,WAAY,eAAgBC,UAAUrX,GAAQK,UAI3EpL,MAAK,SAAUhe,GACdoe,QAAQC,IAAIre,EAAKqgC,cAElB/hB,OAAM,SAAUC,GACfH,QAAQ5O,MAAM+O,EAAKA,EAAI+hB,U,4EClIvBM,GAAc,SAAC,GAAD,IAAGhF,EAAH,EAAGA,QAAH,OAClB,eAAChxB,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGk1B,EAAU8C,YAAwB9C,GAAW,MAI5CgZ,GAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,iBAAH,OACvB,eAACjqC,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACGmuC,EAAmBnW,YAAwBmW,GAAoB,MAI9D3M,GAAU,eAACvjC,EAAD,uDAAS,GAAT,OACd,eAACiG,GAAA,EAAD,CAAYC,QAAQ,QAAQnE,MAAM,gBAAlC,SACG/B,EAAM,0DAILmwC,GAAU,WAAuI,IAAD,yDAAP,GAAO,IAAnIprB,WAAmI,WAA7HzpB,EAA6H,OAAlH80C,SAAkH,EAA5F5B,mBAA4F,WAA/ElzC,EAA+E,MAApE+0C,yBAAoE,WAAhD/0C,EAAgD,MAArCy8B,WAAqC,MAA/B,GAA+B,EAAjBtsB,EAAiB,mBAC9ImR,EAAoBC,eAEpBzL,EAAQ3F,EAAM,uDACdivB,EAAUlC,aAAWT,GAErB3S,EAAcF,KAEdoF,EAAoC,YAAfkkB,EAA2B,SAA0B,WAAfA,EAA0B,SAAW,UAEhG8B,EAAiB,WACrB,IAAMC,EAAahpB,cACnBwoB,GAAwB,CAAE3+B,QAAOspB,UAAStQ,SAAUrF,EAAKwF,MAAOwN,EAAIhT,IAAKuF,uBACzElF,EAAY,CAAEG,MAAO1B,KAAO2sB,gBAAiBlrB,KAAM,CAAEP,IAAKwrB,EAAYnmB,SAAUrF,EAAK3T,QAAOmZ,MAAOwN,EAAIhT,IAAK2V,UAASvT,MAAM,IAAIlrB,MAAOmrB,aACtI9N,MAAM,yBAGR,OACE,gBAAC9R,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CACEnS,QAAQ,OACRzD,UAAU,SACVqD,QAAS8W,EAAkB9E,YAAU,WAAY,CAC/CiN,MACAgT,MAEAyW,aACAlX,KAAM,SARV,oBAcc,WAAfkX,GACC,eAAChnC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CAAcnS,QAAQ,OAAOzD,UAAU,SAASqD,QAASwqC,EAAgBrjC,SAAgC,SAAtBojC,EAAnF,SACyB,SAAtBA,EAAA,UAAkC/lB,EAAlC,uCAAqFA,EAArF,qBAQPmmB,GAAmB,SAAC,GAAD,IAAG1Y,EAAH,EAAGA,IAAQtsB,EAAX,0BAAuB,eAACqsB,GAAD,2BAAgBC,GAAStsB,KCtE5D+sB,GAAa,SAAAT,GACxB,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIx5B,MAEhB06B,IAAiB96B,YAAQ86B,EAAat2B,OACtCs2B,EAAat2B,MACbu2B,IAAe/6B,YAAQ+6B,EAAWv2B,OAClCu2B,EAAWv2B,MACXo1B,EAAIx5B,KALJw5B,EAAIx5B,MAQG25B,GAAgB,SAAAH,GAC3B,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIE,SAEhBgB,IAAiB96B,YAAQ86B,EAAatJ,WACtCsJ,EAAatJ,UACbuJ,IAAe/6B,YAAQ+6B,EAAWvJ,WAClCuJ,EAAWvJ,UACXoI,EAAIE,QALJF,EAAIE,SAoBGyY,GAAgB,SAAAv1C,GAC3B,IAAMM,EAAU6M,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAOpoB,gBAAnC,QAA+C,MACrE+0C,EAAkBloC,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAO2sB,wBAAnC,QAAuD,MAE3F,EChD8B/sB,GAAcI,KAAOpoB,SDgD1Ck1C,EAAT,qBACA,EEjDsCltB,GAAcI,KAAO2sB,iBFiDlDI,EAAT,qBAGAxwC,aAAgB,WACd,IAAM8jB,EAAQ,yCAAG,iCAAAhd,EAAA,sDACXid,EAAc,GAEdC,EAAS,CACXC,UAAWR,KAAOpoB,QAClB6oB,uBAAmBhpB,GALN,uBAQCipB,KAAOC,KAAKJ,GAAQK,UARrB,QAQbxT,EARa,QASPyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAVpB,UAW2B,oBAA1B3T,EAAM2T,iBAXP,uBAYf+rB,EACExsB,EAAYnd,QAAO,SAAC4F,EAAGhP,GAErB,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,KAhBU,2CAAH,qDAmBdsX,MACC,CAACysB,IAGJvwC,aAAgB,WACd,IAAM8jB,EAAQ,yCAAG,iCAAAhd,EAAA,sDACXid,EAAc,GAEdC,EAAS,CACXC,UAAWR,KAAO2sB,gBAClBlsB,uBAAmBhpB,GALN,uBAQCipB,KAAOC,KAAKJ,GAAQK,UARrB,QAQbxT,EARa,QASPyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAVpB,UAW2B,oBAA1B3T,EAAM2T,iBAXP,uBAYfgsB,EACEzsB,EAAYnd,QAAO,SAAC4F,EAAGhP,GAErB,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,KAhBU,2CAAH,qDAmBdsX,MACC,CAAC0sB,IAEJ,IAAIv1C,EAAOI,EACP2B,OAAOC,KAAK5B,GAASkC,KAAI,SAAAoJ,GAAM,IAAD,oBACtB8pC,EAASp1C,EAAQsL,GACvB,EAAiC8pC,EAAzB9Y,WAAR,MAAc,GAAd,EAAkByW,EAAeqC,EAAfrC,WAEZsC,EAAqB1zC,OAAOC,KAAKmzC,GACpClzC,QAAO,SAAAyJ,GAAC,OAAIypC,EAAgBzpC,GAAGqjB,WAAaymB,EAAO9rB,OACnDvnB,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUyqC,YAAeP,EAAgBtpC,GAAGigB,KAAMqpB,EAAgBlqC,GAAG6gB,SAEvE6pB,EAAkB7yC,YAAQ2yC,EAAmB,IAA+C,GAAzCN,EAAgBM,EAAmB,IAEtFZ,EAAoB/xC,YAAO,OAAC6yC,QAAD,IAACA,OAAD,EAACA,EAAgB7pB,OAAzB,OAAiC6pB,QAAjC,IAAiCA,OAAuB11C,EAAvB01C,EAAgB7pB,KACpE8pB,EAAkB,CACtBlZ,IAAKS,GAAWT,GAChBmY,mBACAjZ,QAASc,EAAId,QAAU8C,YAAwBhC,EAAId,cAAW37B,EAC9D28B,QAASC,GAAcH,GACvBsF,MAAK,UAAEtF,EAAIsF,aAAN,aAAE,EAAWx/B,KAAK,KACvBkxB,UAAS,UAAEgJ,EAAIhJ,iBAAN,aAAE,EAAelxB,KAAK,KAC/BkgC,SAAQ,UAAEhG,EAAIgG,gBAAN,aAAE,EAAclgC,KAAK,KAC7B8/B,gBAAe,UAAE5F,EAAI4F,uBAAN,aAAE,EAAqB9/B,KAAK,KAC3C4/B,YAAW,UAAE1F,EAAI0F,mBAAN,aAAE,EAAiB5/B,KAAK,KACnCogC,OAAM,UAAElG,EAAIkG,cAAN,aAAE,EAAYpgC,KAAK,KACzBsgC,QAAO,UAAEpG,EAAIoG,eAAN,aAAE,EAAatgC,KAAK,KAC3B0/B,WAAU,UAAExF,EAAIwF,kBAAN,aAAE,EAAgB1/B,KAAK,KACjCu1B,UAAS,UAAE2E,EAAI3E,iBAAN,aAAE,EAAev1B,KAAK,KAC/Bo/B,KAAI,UAAElF,EAAIkF,YAAN,aAAE,EAAUp/B,KAAK,KACrBy1B,oBAAqByE,EAAIzE,oBACzB6J,eAAgBpF,EAAIoF,gBAGhBkT,EAAmC,WAAf7B,EAA0B,MAAQpxC,OAAOC,KAAK5B,GAAS8X,MAAK,SAAAxM,GAAC,OAAItL,EAAQsL,GAAGqpC,WAAaS,EAAO9rB,OAAO,OAAS,QAE1I,OAAO,yBACLA,IAAK8rB,EAAO9rB,IACZgT,MACAyW,aACA6B,qBACGY,GALL,IAMElO,gBAAiB,WACf,OAAO3lC,OAAOC,KAAK4zC,GAAiBjqC,QAAO,SAAC4F,EAAGhP,GAAJ,MAAe,CAACgP,EAAGqkC,EAAgBrzC,IAAIC,KAAK,OAAO,KAEhGwtB,UAAW,8BAAC,eAAWwlB,GAAZ,IAAoBR,oBAAmB7B,aAAY0B,sBAC9D9+B,MAAOy/B,EAAO,uDACd/Z,QAAS+Z,EAAO/Z,QAChBG,QAAS4Z,EAAO5Z,aAGpB,GAEJ,OAAOwC,aAAep+B,EAAMF,I,sIGzHf+1C,GA5BE,SAAC,GAAD,IACfjgC,EADe,EACfA,MADe,IAEfrW,aAFe,MAEP,GAFO,EAGfsP,EAHe,EAGfA,MACAhE,EAJe,EAIfA,QACA2E,EALe,EAKfA,MALe,IAMfoH,cANe,MAMN,QANM,EAOfzM,EAPe,EAOfA,SACAsM,EARe,EAQfA,iBARe,KASfrD,aATe,EAUfxB,iBAVe,SAWZxB,EAXY,0BAaf,gBAACpG,GAAA,EAAD,CAAawmB,UAAU,WAAW3lB,QAASA,EAAS2E,MAAO+E,YAAQ/E,GAAQqH,WAAS,EAACD,OAAQA,EAAQhF,SAAUA,EAA/G,UACE,eAACsO,GAAA,EAAD,CAAK6M,GAAI,EAAT,SACE,eAACniB,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BgE,MAE/B,gBAACynB,GAAD,WACE,eAACwf,GAAA,EAAD,yBAAYh0C,KAAG,EAACqI,SAAUA,EAAU5K,MAAOA,GAAW6Q,GAAtD,aACGwF,EAAMtT,KAAI,SAAAW,GAAC,OACV,eAACsiB,GAAA,EAAD,CAAgChmB,MAAO0D,EAAE1D,MAAOimB,QAAS,eAAC,KAAD,CAAUphB,KAAK,UAAYyK,MAAO,eAACjE,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B5H,EAAE4L,SAAnG5L,EAAE1D,cAG3BkX,GAAoBjH,IAAU,eAACmW,GAAA,EAAD,UAAiBnW,WCgGxCumC,GApHG,WAA4E,IAAD,2DAAP,GAAO,IAAxEp2C,YAAwE,MAAjE,SAAiE,MAAvDgjB,eAAuD,aAAtCnR,OAAQwkC,OAA8B,WAArB/1C,EAAqB,EACrF8V,EAAQkgC,eAEVjjC,EAAa,OAAGgjC,QAAH,IAAGA,IAAU,GAExBtsB,EAAG,UAAG1W,SAAH,aAAG,EAAe0W,IAE3B,EAAuBpB,GAAeE,KAAOpoB,QAASspB,GAAtD,oBAAOwsB,EAAP,KAEKpzC,YAAQ4mB,IAAS5mB,YAAQozC,KAC5BljC,EAAa,2BAAQA,GAAkBkjC,IAGzC,MAA4BnxC,IAAMyO,SAASR,GAA3C,oBAAOxB,EAAP,KAAeU,EAAf,KACA,EAA4BnN,IAAMyO,SAAS,IAA3C,oBAAOY,EAAP,KAAe+hC,EAAf,KACA,EAA8BpxC,IAAMyO,UAAS,GAA7C,oBAAOoH,EAAP,KAAgBw7B,EAAhB,KAEMrsB,EAAcF,KACd8gB,EAAS5lC,IAAMmI,aACnB,SAACwc,GAAgC,IAA3BW,EAA0B,4DAAdpqB,EAChBm2C,GAAW,GACXrsB,EAAY,CACVI,OAAQ,IACRD,MAAO1B,KAAOpoB,QACdgqB,SAAU,KACVH,KAAM,CACJP,OAEFW,UAAW,SAAAtK,GACT7N,EAAU6N,EAAOnI,MACjBw+B,GAAW,GACX/rB,GAAaA,EAAUtK,IAEzBuK,QAAS,SAAA/L,GACP63B,GAAW,QAIjB,CAACrsB,IAGGssB,EAAYtxC,IAAMmI,aACtB,YAAsD,IAAnDpL,EAAkD,EAAlDA,IAAgBw0C,EAAkC,EAA7CjsB,UAA+BksB,EAAc,EAAvBjsB,QAC5B8rB,GAAW,GACXrsB,EAAY,CACVI,OAAQ,IACRD,MAAO1B,KAAOpoB,QACdgqB,SAAU,KACVH,KAAK,eACAnoB,GAELuoB,UAAW,SAAAtK,GACT7N,EAAS,OAAC6N,QAAD,IAACA,OAAD,EAACA,EAAQnI,MAClBw+B,GAAW,GACXE,GAAaA,EAAUv2B,IAEzBuK,QAAS,SAAA/L,GACP63B,GAAW,GACXG,GAAWA,EAAQh4B,QAIzB,CAACwL,IAGH9V,qBAAU,YACI,IAAZ0O,GAA6B,SAAThjB,GAAmB+pB,GAAOihB,EAAOjhB,KACpD,CAAC/G,EAAS+G,EAAK/pB,EAAMgrC,IAExB,IAAM6L,EAAazxC,IAAMmI,YAAN,yCACjB,kDAAArB,EAAA,0DAAS2F,OAAQwkC,OAAjB,WAA0B/1C,EAA1B,MAAqCoqB,iBAArC,WAAiDpqB,EAAjD,MAA4DqqB,eAA5D,WAAsErqB,EAAtE,MAAiFw2C,aAAjF,MAAyF,MAAzF,EAAgG7jC,EAAhG,EAAgGA,SACxF9Q,EADR,sBACoBk0C,QADpB,IACoBA,IAAUxkC,GAEf,WAAT7R,GACFmC,EAAI20C,GAASvqB,cACbpqB,EAAI25B,SAAU,IAAI76B,MAAOmrB,UACzBjqB,EAAI40C,UAAY3gC,IAEhBjU,EAAI85B,SAAU,IAAIh7B,MAAOmrB,UACzBjqB,EAAI60C,UAAY5gC,GAGlBogC,EAAU,IACJ33B,EAAY5L,EAAWA,EAASpB,GAAU,GAC5CzP,OAAOC,KAAKwc,GAAWnc,OAAS,GAClC8zC,EAAU33B,GACV8L,GAAWA,EAAQ9L,IAEnB63B,EAAU,CACRv0C,MACAuoB,UAAW,SAAAtK,GACTsK,GAAaA,EAAUtK,IAEzBuK,QAAS,SAAA/L,GACPN,MAAM,wBACNG,QAAQ5O,MAAM,CAAE+O,QAChB+L,GAAWA,EAAQ/L,MA1B3B,2CADiB,sDAiCjB,CAAC/M,EAAQ7O,KAAKC,UAAU4O,GAASuE,EAAOpW,IAGpCub,EAAenW,IAAMmI,aACzB,YAAoC,IAAD,IAAhC07B,eAAgC,SAAhBve,EAAgB,EAAhBA,UACjBmsB,EAAW,CAAEhlC,OAAO,2BAAMA,GAAP,IAAeo3B,YAAWve,gBAG/C,CAACmsB,EAAY7zC,KAAKC,UAAU4O,KAG9B,MAAO,CAAEA,SAAQU,YAAWikC,YAAWK,aAAYt7B,eAAc9G,SAAQu2B,SAAQ/vB,Y,wGCxG7E5V,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX8pC,YAAa,CACXnoC,WAAYR,EAAQM,OAAOC,MAC3BF,MAAOL,EAAQS,QAAQgJ,KACvBnI,WAAY,KAEd+kB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB8mC,kBAAmB,CACjBnvC,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,WAKvB+mC,GAAU,SAAC,GAAwD,IAAtDh3C,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAChE9L,EAAUd,KAEV8xC,EAAY,CAChBC,IAAK,CACHt/B,MAAO4N,GACPxW,MAAO,oCAIX,OACE,gBAACqR,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,sCACA,gBAAC12B,GAAA,EAAD,CAAKC,GAAI,EAAT,uaAEE,eAAChU,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAxB,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACGrK,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,iBAY3BmoC,GAAiB,CACrB,sDAAuD,CACrDniC,UAAU,EACVkB,OAAO,GAET,2BAA4B,CAC1B0B,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,OAAQsP,MAAO,QACxB,CAAEtP,MAAO,SAAUsP,MAAO,UAC1B,CAAEtP,MAAO,WAAYsP,MAAO,cAGhC,mBAAoB,CAClB4I,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,OAAQsP,MAAO,QACxB,CAAEtP,MAAO,SAAUsP,MAAO,UAC1B,CAAEtP,MAAO,aAAcsP,MAAO,cAC9B,CAAEtP,MAAO,qBAAsBsP,MAAO,sBACtC,CAAEtP,MAAO,mBAAoBsP,MAAO,oBACpC,CAAEtP,MAAO,QAASsP,MAAO,WAG7B,QAAS,CACP4I,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,4BAA6BsP,MAAO,6BAC7C,CAAEtP,MAAO,oCAAqCsP,MAAO,qCACrD,CAAEtP,MAAO,QAASsP,MAAO,SACzB,CAAEtP,MAAO,4CAA6CsP,MAAO,6CAC7D,CAAEtP,MAAO,QAASsP,MAAO,SACzB,CAAEtP,MAAO,QAASsP,MAAO,WAG7B,aAAc,CACZ4I,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,uBAAwBsP,MAAO,wBACxC,CAAEtP,MAAO,2BAA4BsP,MAAO,8BAGhD,2BAA4B,CAC1B4I,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,oBAAqBsP,MAAO,qBACrC,CAAEtP,MAAO,kBAAmBsP,MAAO,mBACnC,CAAEtP,MAAO,kBAAmBsP,MAAO,mBACnC,CAAEtP,MAAO,kBAAmBsP,MAAO,mBACnC,CAAEtP,MAAO,YAAasP,MAAO,eAGjC,sCAAuC,CACrC4I,MAAOo+B,GACPhhC,UAAU,EACVe,MAAO,CACL,CAAErW,MAAO,uBAAwBsP,MAAO,wBACxC,CAAEtP,MAAO,mBAAoBsP,MAAO,oBACpC,CAAEtP,MAAO,2BAA4BsP,MAAO,4BAC5C,CAAEtP,MAAO,eAAgBsP,MAAO,gBAChC,CAAEtP,MAAO,oCAAqCsP,MAAO,wCAwBrDooC,GAAa,CACjB,CAAE13C,MAAO,MAAOsP,MAAO,OACvB,CAAEtP,MAAO,KAAMsP,MAAO,OAclBqoC,GAAmB,CACvB,CAAE33C,MAAO,2BAA4BsP,MAAO,4BAC5C,CAAEtP,MAAO,4DAA6DsP,MAAO,6DAC7E,CAAEtP,MAAO,6DAA8DsP,MAAO,8DAC9E,CAAEtP,MAAO,kCAAmCsP,MAAO,mCACnD,CAAEtP,MAAO,qCAAsCsP,MAAO,uCAGlDsoC,GAAS,CACb,CAAE53C,MAAO,oBAAqBsP,MAAO,qBACrC,CAAEtP,MAAO,WAAYsP,MAAO,YAC5B,CAAEtP,MAAO,UAAWsP,MAAO,WAC3B,CAAEtP,MAAO,QAASsP,MAAO,SACzB,CAAEtP,MAAO,iBAAkBsP,MAAO,mBAG9BuoC,GAAU,CACd,CAAE73C,MAAO,oBAAqBsP,MAAO,qBACrC,CAAEtP,MAAO,WAAYsP,MAAO,YAC5B,CAAEtP,MAAO,UAAWsP,MAAO,WAC3B,CAAEtP,MAAO,QAASsP,MAAO,SACzB,CAAEtP,MAAO,iBAAkBsP,MAAO,kBAClC,CAAEtP,MAAO,iBAAkBsP,MAAO,mBAG9BwoC,GAAS,CACb,CAAE93C,MAAO,kBAAmBsP,MAAO,mBACnC,CAAEtP,MAAO,cAAesP,MAAO,eAC/B,CAAEtP,MAAO,kBAAmBsP,MAAO,mBACnC,CAAEtP,MAAO,eAAgBsP,MAAO,iBAG5ByoC,GAAiB,CACrB,kCAAmC,CACjC7/B,MAAOo+B,GACPjgC,MA9Ce,CACjB,CAAErW,MAAO,iBAAkBsP,MAAO,kBAClC,CAAEtP,MAAO,SAAUsP,MAAO,UAC1B,CAAEtP,MAAO,UAAWsP,MAAO,WAC3B,CAAEtP,MAAO,KAAMsP,MAAO,MACtB,CAAEtP,MAAO,WAAYsP,MAAO,YAC5B,CAAEtP,MAAO,MAAOsP,MAAO,OACvB,CAAEtP,MAAO,QAASsP,MAAO,SACzB,CAAEtP,MAAM,2BAA6BsP,MAAM,6BAuCzCgG,UAAU,GAEZ,yEAA0E,CAAEA,UAAU,GACtF,0DAA2D,CAAE4C,MAAOo+B,GAAUjgC,MAAOshC,GAAkBriC,UAAU,GACjH,iEAAkE,CAAE4C,MAAOo+B,GAAUjgC,MAAOshC,GAAkBriC,UAAU,GACxH,qEAAsE,CACpE4C,MAAOo+B,GACPjgC,MAAOqhC,GACPpiC,UAAU,GAEZ,qBAAsB,IAuBlB0iC,GAAiB,CACrB,gCAAiC,CAAE9/B,MAAOo+B,GAAUjgC,MAAOqhC,GAAYpiC,UAAU,GACjF,iDAAkD,CAAE4C,MAAOo+B,GAAUjgC,MAAOqhC,GAAYpiC,UAAU,IAqB9F2iC,GAAiB,CACrB,uEAAwE,CACtE//B,MAAO2gB,GACPvjB,UAAU,EACVe,MAAO,CACL,OACA,yFACA,qFACA,2FACA,2CACA,wFACA,yFACA,yGACA,yGACAtT,KAAI,SAAA/C,GAAK,MAAK,CAAEA,QAAOsP,MAAOtP,OAElC,6EAA8E,CAC5EkY,MAAOo+B,GACPjgC,MAAOqhC,GACPpiC,UAAU,GAEZ,kCAAmC,IAsB/B4iC,GAAY,CAChB,wDACA,0FACA,wCACA,6EAuBIC,GAAY,CAChB,0DACA,+DACA,gEACA,qEACA,uCACA,gDAwBIC,GAAY,CAEhB,2EACA,iEACA,uEACA,4EAEA,uFAGA,+CAwBIC,GAAkB,SAAApmC,GACtB,IAAMgN,EAAY,GAIlB,OAHwB,IAAlBhN,EAAM,KAAsC,IAAlBA,EAAM,KAAmC,MAAlBA,EAAM,KAAqC,SAAlBA,EAAM,MACpFgN,EAAS,IAAU,+BAEdA,GAkFHq5B,GAAc,CA5VN,SAAC,GAAwD,IAAtDh4C,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAC9D9L,EAAUd,KACV8xC,EAAYE,GAElB,OACE,gBAAC92B,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,2BACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQ+C,SAAUA,EAAUpC,MAAO4E,EAAOvF,IAAYuB,KADpGvB,UA0Eb,SAAC,GAAwD,IAAtDhP,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAC9D9L,EAAUd,KAEV8xC,EAAYQ,GAElB,OACE,gBAACp3B,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,+BACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,UAcb,SAAC,GAAwD,IAAtDhP,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAC9D9L,EAAUd,KACV8xC,EAAYS,GAClB,OACE,gBAACr3B,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,+BACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,UAiCb,SAAC,GAAwD,IAAtDhP,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAC9DklC,EAAYU,GACZ1xC,EAAUd,KAEhB,OACE,gBAACkb,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,4BACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,UAeb,SAAC,GAA4E,IAA1EhP,EAAyE,EAAzEA,MAAOsK,EAAkE,EAAlEA,SAAkE,IAAxDiK,cAAwD,MAA/C,GAA+C,MAA3CxC,gBAA2C,aAAzBkmC,kBAAyB,SAClFhB,EAAY,GAClBW,GAAU71C,SAAQ,SAAAm2C,GAAE,OAAKjB,EAAUiB,GAAM,CAAEtgC,MAAOo+B,GAAUjgC,MAAOkiC,EAAaX,GAASC,OAEzF,IAAMtxC,EAAUd,KAEhB,OACE,gBAACkb,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,qCACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,UAkBb,SAAC,GAA4E,IAA1EhP,EAAyE,EAAzEA,MAAOsK,EAAkE,EAAlEA,SAAkE,IAAxDiK,cAAwD,MAA/C,GAA+C,MAA3CxC,gBAA2C,aAAzBkmC,kBAAyB,SAClFhB,EAAY,GAClBY,GAAU91C,SAAQ,SAAAm2C,GAAE,OAAKjB,EAAUiB,GAAM,CAAEtgC,MAAOo+B,GAAUjgC,MAAOkiC,EAAaX,GAASC,OAEzF,IAAMtxC,EAAUd,KAEhB,OACE,gBAACkb,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,iDACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,UAsBb,SAAC,GAAwD,IAAtDhP,EAAqD,EAArDA,MAAOsK,EAA8C,EAA9CA,SAA8C,IAApCiK,cAAoC,MAA3B,GAA2B,MAAvBxC,gBAAuB,SAC9DklC,EAAY,GAClBa,GAAU/1C,SAAQ,SAAAm2C,GAAE,OAAKjB,EAAUiB,GAAM,CAAEtgC,MAAOo+B,GAAUjgC,MAAOyhC,OAEnE,IAAMvxC,EAAUd,KAEhB,OACE,gBAACkb,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAACvV,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,4CACC70C,OAAOC,KAAK80C,GAAWx0C,KAAI,SAAAuM,GAC1B,MAAwCioC,EAAUjoC,GAAlD,IAAQ4I,aAAR,MAAgBuE,GAAhB,EAA8B5L,EAA9B,mBACA,OACE,eAAC8P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC1I,EAAD,aAAO5I,MAAOA,EAAOtP,MAAOM,EAAMgP,GAAQ1E,SAAUA,EAAS0E,GAAQW,MAAO4E,EAAOvF,GAAQ+C,SAAUA,GAAcxB,KADpGvB,WAiGrBmpC,GAAoB,CAhFJ,SAAAxmC,GACpB,IAAMgN,EAAY,GAQlB,OAPAzc,OAAOC,KAAKg1C,IAAgBp1C,SAAQ,SAAA4C,GAC9BwyC,GAAexyC,GAAKqQ,UAAY/R,YAAQ0O,EAAOhN,IACjDga,EAAUha,GAAO,WACRwyC,GAAexyC,GAAKuR,QAAUC,YAAcxE,EAAOhN,MAC5Dga,EAAUha,GAAO,oBAGdga,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAalB,OAZAzc,OAAOC,KAAKs1C,IAAgB11C,SAAQ,SAAA4C,GAC9B8yC,GAAe9yC,GAAKqQ,UAAY/R,YAAQ0O,EAAOhN,MACjDga,EAAUha,GAAO,eAIgE,QAAjFgN,EAAO,uEACL1O,YAAQ0O,EAAO,yBACjBgN,EAAU,sBAAwB,YAI/BA,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAMlB,OALAzc,OAAOC,KAAKu1C,IAAgB31C,SAAQ,SAAA4C,GAC9B+yC,GAAe/yC,GAAKqQ,UAAY/R,YAAQ0O,EAAOhN,MACjDga,EAAUha,GAAO,eAGdga,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAMlB,OALAzc,OAAOC,KAAKw1C,IAAgB51C,SAAQ,SAAA4C,GAC9BgzC,GAAehzC,GAAKqQ,UAAY/R,YAAQ0O,EAAOhN,MACjDga,EAAUha,GAAO,eAGdga,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAMlB,OALAi5B,GAAU71C,SAAQ,SAAA4C,GACZ1B,YAAQ0O,EAAOhN,MACjBga,EAAUha,GAAO,eAGdga,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAMlB,OALAk5B,GAAU91C,SAAQ,SAAA4C,GACZ1B,YAAQ0O,EAAOhN,MACjBga,EAAUha,GAAO,eAGdga,GAGa,SAAAhN,GACpB,IAAMgN,EAAY,GAMlB,OALAm5B,GAAU/1C,SAAQ,SAAA4C,GACZ1B,YAAQ0O,EAAOhN,MACjBga,EAAUha,GAAO,eAGdga,IAMIy5B,GAAkB,sBAC1Bl2C,OAAOC,KAAKg1C,KADc,YAE1Bj1C,OAAOC,KAAKs1C,KAFc,YAG1Bv1C,OAAOC,KAAKu1C,KAHc,YAI1Bx1C,OAAOC,KAAKw1C,KACZC,GACAC,GACAC,IAGU,SAASO,KACtB,IAAMpyC,EAAUd,KACZmlC,EAAKrgC,aAAc,MAEvB,EAA+BisC,KAAvBS,EAAR,EAAQA,WAAY7L,EAApB,EAAoBA,OACd50B,EAAQkgC,eAEd,EAA0BlxC,WAAe,CACvCkQ,KAAM,EACNb,OAAQ,GACRnB,YAAY,EACZ,sDAAuD8C,IAJzD,oBAAOlW,EAAP,KAAc8S,EAAd,KAMQM,EAAuBpT,EAAvBoT,WAAYmB,EAAWvU,EAAXuU,OAEd+jC,EAAct4C,EAAM,uDAE1B,EAAqByyC,cAAdzxB,EAAP,qBACQ6I,EAA8C7I,EAA9C6I,IAAKqF,EAAyClO,EAAzCkO,SAAUokB,EAA+BtyB,EAA/BsyB,WAAvB,EAAsDtyB,EAAnB6b,WAAnC,MAAyC,GAAzC,EAA6CT,EAASpb,EAATob,KAEvC6b,GAAch1C,YAAQisB,IAA4B,YAAfokB,EAEzCpuC,aAAgB,WACD,SAATk3B,GACF0O,EAAOjhB,GAAK,SAAA3J,GACVpN,GAAS,SAAAvB,GAAI,8CAAUA,GAAV,OAAmB2O,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAQnI,MAA3B,IAAiC3C,KAAM,YAIvD,CAACyU,EAAK/mB,KAAKC,UAAU85B,GAAMT,EAAM0O,EAAQh4B,IAE5C,IAAM2J,EAAcC,eAEd5S,EAAe5E,eACnB,SAAAP,GAAG,OAAI,SAAA4E,GAAU,IAAD,EACR7J,EAAK,OAAG6J,QAAH,IAAGA,GAAH,UAAGA,EAAOQ,cAAV,aAAG,EAAerK,MAC7BoT,GAAS,SAAAvB,GAAI,wCAAUA,GAAV,uBAAiB5M,EAAMjF,GAAvB,uBAAsC,IAAtC,UAEf,CAACoT,IAGGylC,EAAQN,EAAaD,GAAH,CAAkBhB,IAAlB,OAA8BgB,IAGhDjlC,GAFcklC,EAAaE,GAAH,CAAwBJ,IAAxB,OAA4CI,KAE7Cn4C,EAAMoV,MAyC7BojC,EAAOD,EAAMv4C,EAAMoV,MAEnBrD,EAAWqB,GAAuB,SAATgpB,EAEzB1a,EAAoBC,eAE1B,OACE,eAACrV,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASrG,MAAO,CAAE0H,QAASu8B,EAAK,EAAI,IAAM7jC,QAAS6jC,EAAK,EAAI,EAApF,SACE,gBAACh+B,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACpG,UAAWH,EAAQkpC,YAAa1oC,QAAS,EAAzD,UACY,SAAT21B,GACC,eAAC9vB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAE4e,OAAQ,WAAara,QAAS8W,EAAkB9E,YAAU,UAAW,CAAE0F,SAAU,YAA7G,SACE,eAACvX,GAAA,EAAD,oCAGJ,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAAClG,MAAO,CAAEZ,MAzkBhB,KAykByBqH,GAAI,GAAjC,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAACG,WAAW,WAAWD,QAAQ,gBAA9C,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAA/B,SACG5pB,YAAQqwC,IAA8B,YAAfA,EAAvB,mBAAgEA,EAAhE,yBAGL,eAAChnC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY3E,UAAWH,EAAQ8wC,kBAA/B,mBAAsD/2C,EAAMoV,KAAO,EAAnE,eAA2EmjC,EAAM/1C,oBAKzF,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC6O,GAAA,EAAD,MAEF,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACklB,GAAD,CAAevV,IAAKA,EAAK/8B,KAAK,eAGlC,eAACwM,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC6O,GAAA,EAAD,MAEF,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC0rC,EAAD,CAAMx4C,MAAOA,EAAOsK,SAAUR,EAAcyK,OAAQA,EAAQxC,SAAUA,EAAUkmC,WAAYA,MAE9F,eAAC3rC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGJ,MAAO,CAAE2B,UAAW,IAAM0E,QAAQ,WAA9D,UACG1M,EAAMoV,KAAO,GACZ,eAAC9I,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQ/Q,QAAQ,YAAYnE,MAAM,UAAU+D,QAnDvC,WAAO,IAAD,EACvB,UAAAzJ,SAASs3C,eAAe,sBAAxB,SAAwCC,SAAS,CAAE5+B,IAAK,EAAG6+B,SAAU,WACrE7lC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB6D,KAAM7D,EAAK6D,KAAO,EAAI7D,EAAK6D,KAAO,EAAI,QAiDvD,oBAKJ,eAAC9I,GAAA,EAAD,CAAMC,MAAI,EAAV,SACGvM,EAAMoV,OAASmjC,EAAM/1C,OAAS,EAC7B,eAACuZ,GAAA,EAAD,CAAQhK,SAAUA,EAAU/G,QAAQ,YAAYnE,MAAM,UAAU+D,QAlFzD,WACnB,IAAM+T,EAAY5L,EAAS/S,GAE3B,GADA8S,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB6B,YAAY,OACrClR,OAAOC,KAAKwc,GAAWnc,OAAS,EAClCsQ,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBgD,OAAQoK,EAAWvL,YAAY,WACvD,CACL,IAAMwoB,GAAU,IAAI76B,MAAOmrB,UAC3ByqB,EAAW,CACThlC,OAAO,2BAAM3R,GAAP,IAAck1C,SAAUhmB,EAAUokB,aAAY1X,UAASG,QAASH,EAASiB,QAC/EpS,QAAS,SAAAlW,GACPzB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB6B,YAAY,OACzCmL,QAAQ5O,MAAM,yBAA0B4E,IAE1CiW,UAAW,WACTjM,QAAQC,IAAI,6BPxgBf,YAAqC,IACpC+gB,EAAqB,uBAErBh+B,EAAI,2UASN2nB,EAAS,CACXwW,YAAa,CACIC,YAAa,GAC5BC,YAAa,CAfwB,EAAT1pB,QAiB9B2pB,QAAS,CAEPC,KAAM,CAEJC,KAAM,CACJC,QAAS,QACT5V,KAAM7oB,GAERoV,KAAM,CACJqpB,QAAS,QACT5V,KAAM7oB,IAGV0+B,QAAS,CACPD,QAAS,QACT5V,KAAM,2BAGV8V,OAAQX,EACRY,iBAAkB,CAACZ,IAIH,IAAIa,KAAIC,IAAI,CAAEC,WAAY,eAAgBC,UAAUrX,GAAQK,UAI3EpL,MAAK,SAAUhe,GACdoe,QAAQC,IAAIre,EAAKqgC,cAElB/hB,OAAM,SAAUC,GACfH,QAAQ5O,MAAM+O,EAAKA,EAAI+hB,UOydnBmY,CAAgB,CAAE1iC,MAAOoiC,IPvjB5B,YAA0D,IAAnBpiC,EAAkB,EAAlBA,MAAOspB,EAAW,EAAXA,QAC7CD,EAAqB,uBAErBh+B,EAAI,kBAAc2U,EAAd,uCAAkDspB,EAAlD,KAGNtW,EAAS,CACXwW,YAAa,CACIC,YAAa,GAC5BC,YAAa,CAACiZ,4BAEhBhZ,QAAS,CAEPC,KAAM,CAEJC,KAAM,CACJC,QAAS,QACT5V,KAAM7oB,GAERoV,KAAM,CACJqpB,QAAS,QACT5V,KAAM7oB,IAGV0+B,QAAS,CACPD,QAAS,QACT5V,KAAM,yCAGV8V,OAAQX,EACRY,iBAAkB,CAACZ,IAIH,IAAIa,KAAIC,IAAI,CAAEC,WAAY,eAAgBC,UAAUrX,GAAQK,UAI3EpL,MAAK,SAAUhe,GACdoe,QAAQC,IAAIre,EAAKqgC,cAElB/hB,OAAM,SAAUC,GACfH,QAAQ5O,MAAM+O,EAAKA,EAAI+hB,UO8gBnBqY,CAA4B,CAAE5iC,MAAOoiC,EAAa9Y,QAASlC,aAAWT,KACtE/pB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB6B,YAAY,OACzCqJ,EAAYG,YAAU,YAAa,CAAEigB,MAAKnkB,KAAM,gBAgE1C,oBAIA,eAACqD,GAAA,EAAD,CAAQ/Q,QAAQ,YAAYnE,MAAM,UAAU+D,QAhGvC,WACjB,IAGO,EAHD+T,EAAY5L,EAAS/S,GACvBkC,OAAOC,KAAKwc,GAAWnc,OAAS,EAClCsQ,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBgD,OAAQoK,QAErC,UAAAxd,SAASs3C,eAAe,sBAAxB,SAAwCC,SAAS,CAAE5+B,IAAK,EAAG6+B,SAAU,WACrE7lC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgB6D,KAAM7D,EAAK6D,KAAO,SA0FrC,8BCxnBT,IAAMkoB,GAAa,SAAAT,GACxB,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIx5B,MAEhB06B,IAAiB96B,YAAQ86B,EAAat2B,OACtCs2B,EAAat2B,MACbu2B,IAAe/6B,YAAQ+6B,EAAWv2B,OAClCu2B,EAAWv2B,MACXo1B,EAAIx5B,KALJw5B,EAAIx5B,M,cCNGA,GAAO,UAEPyhC,GAAuD,CAClEzhC,QACAusB,QAAS,GACT5N,SAAS,EACT8c,QAAQ,EACRn2B,QAAQ,GAGJxD,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXukC,sBAAuB,CACrBjiC,YAAa,EACbN,aAAc,EACdoG,aAAc,EACdwX,OAAQ,OACRpe,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5B,UAAW,CACTjJ,WAAYR,EAAQS,QAAQgJ,OAGhCmN,cAAe,CACbzV,YAAa,EACbN,aAAc,EACdoG,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQC,KAC5B,UAAW,CACTF,WAAYR,EAAQS,QAAQgJ,YAMvB8oC,GAAU,SAAC,GAAkC,IAAxBvpB,EAAuB,EAA/B9pB,OAAmB6K,EAAY,mBACjDzO,ERyCU,CACd,CAAEuB,KAAM,MAAOupB,OAAQ,cAAe5e,SAAU,IAAKoiB,KAAMmlB,GAAkB/R,WAAW,EAAOlhC,KAAM,aACrG,CAAEe,KAAM,aAAcupB,OAAQ,cAAennB,MAAO,IAAKnD,KAAM,QAC/D,CAAEe,KAAM,UAAWupB,OAAQ,UAAWnnB,MAAO,IAAK2qB,KAAM6kB,IACxD,CACE5xC,KAAM,mBACNupB,OAAQ,qBACRnnB,MAAO,IACP2qB,KAAM2kB,GACNvR,WAAW,EACXlhC,KAAM,WAER,CAAEe,KAAM,QAASupB,OAAQ,eAAgBnnB,MAAO,IAAK2qB,KAAMiY,GAAS7E,WAAW,EAAOlhC,KAAM,aAC5F,CACEe,KAAM,UACNupB,OAAQ,eACRnnB,MAAO,IACP2qB,KAAM2Q,GACNyC,WAAW,EACXlhC,KAAM,YQ3DJnC,EAAOq1C,GAAcnyC,IACrB4C,EAAUd,KAEV+/B,ED3BuB,SAAAjlC,GAC7B,IAAMM,EAAU6M,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAOpoB,gBAAnC,QAA+C,MACrE+0C,EAAkBloC,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,KAAO2sB,wBAAnC,QAAuD,MAErFxzC,EAAO,CACX,CAAEuB,KAAM,WACR,CAAEA,KAAM,cACR,CAAEA,KAAM,qBACR,CAAEA,KAAM,qBAJG,mBAKR+0C,GAAmB31C,KAAI,SAAAY,GAAI,MAAK,CAAEA,YAL1B,CAMX,CAAEA,KAAM,WACR,CAAEA,KAAM,WACR,CAAEA,KAAM,SAGNlD,EAAOI,EACP2B,OAAOC,KAAK5B,GAASkC,KAAI,SAAAoJ,GACvB,IAAM8pC,EAASp1C,EAAQsL,GACvB,EAAiC8pC,EAAzB9Y,WAAR,MAAc,GAAd,EAAkByW,EAAeqC,EAAfrC,WAEZsC,EAAqB1zC,OAAOC,KAAKmzC,GACpClzC,QAAO,SAAAyJ,GAAC,OAAIypC,EAAgBzpC,GAAGqjB,WAAaymB,EAAO9rB,OACnDvnB,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUyqC,YAAeP,EAAgBtpC,GAAGigB,KAAMqpB,EAAgBlqC,GAAG6gB,SAEvE6pB,EAAkB7yC,YAAQ2yC,EAAmB,IAA+C,GAAzCN,EAAgBM,EAAmB,IACtFZ,EAAoB/xC,YAAO,OAAC6yC,QAAD,IAACA,OAAD,EAACA,EAAgB7pB,OAAzB,OAAiC6pB,QAAjC,IAAiCA,OAAuB11C,EAAvB01C,EAAgB7pB,KACpEkpB,EAAmC,WAAf7B,EAA0B,MAAQpxC,OAAOC,KAAK5B,GAAS8X,MAAK,SAAAxM,GAAC,OAAItL,EAAQsL,GAAGqpC,WAAaS,EAAO9rB,OAAO,OAAS,QAE1I,OAAO,yBACLA,IAAK8rB,EAAO9rB,IACZ2V,QAASlC,GAAWT,GACpByW,aACA6B,oBACAH,iBAAkBA,EAAmBnW,YAAwBmW,GAAoB,IAC9EW,GANL,IAOE/Z,QAAe,OAAN+Z,QAAM,IAANA,KAAQ/Z,QAAUiD,YAAwB8W,EAAO/Z,SAAW,GACrEG,QAAe,OAAN4Z,QAAM,IAANA,KAAQ5Z,QAAU8C,YAAwB8W,EAAO5Z,SAAW,QAGzE,GAEEmJ,EAAeR,GAAgBvkC,EAAM2B,GAC3C,OAAOoD,IAAMmI,aAAY,kBAAM63B,GAAa,KAAO,CAACA,ICf/B8T,GAEftzC,EAAS8pB,EAAS,GACxB,OACE,uCACE,eAACnP,GAAA,EAAD,CAAK2O,EAAG,EAAR,SACE,eAAC1iB,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,WAApC,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACwP,GAAA,EAAD,CAAQxX,KAAK,QAAQ6B,UAAWH,EAAQmX,cAAexS,QAASs6B,EAAhE,UACE,eAAC,KAAD,CAAc7+B,MAAO,CAAE8E,YAAa,KADtC,0BAON,eAACokB,GAAD,2BAA2BuV,IAA3B,IAAqD3kC,KAAMA,EAAM2B,QAASA,EAASk9B,YAAY,EAAMt5B,OAAQA,GAAY6K,QC1DhH,SAAS0oC,KACtB,IAAMvN,EAAeC,cACrB,EAAmC8G,cAAnC,uBAASnwB,gBAAT,MAAoB,UAApB,EAEM5c,EAASkoB,cACf,EAA4BznB,eAApB1C,EAAR,EAAQA,OAAQ+C,EAAhB,EAAgBA,QAKVolC,EAAclmC,EAASgmC,EAFN,IAFOjoC,EAAtBooC,kBAIyE,GAEjF,OACE,gBAACxrB,GAAA,EAAD,CAAKse,GAAI,EAAGuI,QAAS1gC,EAAQS,QAAQwS,MAArC,UACE,eAAC,GAAD,CAAqB6I,SAAUA,IAC/B,eAAC3G,GAAA,EAAD,CAAStV,MAAO,CAAE2B,UAAW,MACf,YAAbsa,EAAyB,eAAC,GAAD,CAAS5c,OAAQkmC,EAAcF,IAAmB,eAACkJ,GAAD,CAAuBlvC,OAAQkmC,O,wBCLlGsN,GAfFC,KACX,sBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,SAKE,uBACEC,SAAS,UACT5vB,EAAE,wFACF6vB,SAAS,cAGb,QCGatvC,GAfAivC,KACb,sBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,SAKE,uBACEC,SAAS,UACT5vB,EAAE,mHACF6vB,SAAS,cAGb,UCOWC,GAAmB,SAAA30C,GAC9B,IAAMoR,EAAQkgC,eACd,OAAO,aACL3uC,MAAO,GACPiyC,iBAAkB,GAClBn3B,SAAUqF,GAAW,GACrBvO,QAAS,GACTsgC,SAAU,QACVC,WAAW,EACXC,gBAAgB,EAChBC,WAAY5jC,EACZ6jC,aAAa,IAAIh5C,MAAOmrB,UACxB0P,SAAS,IAAI76B,MAAOmrB,WACjBpnB,IAIM8iB,GAAa,CAAC,OAAQ,SAEtBoyB,GAAY,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAAU,SAAU,Y,WCrChH,SAASlxC,GAAT,GAAgD,IAA5BqgB,EAA2B,EAA3BA,UAA2B,IAAhBytB,aAAgB,MAAR,KAAQ,EAC5D,EAA0B1xC,WAAe,CAAE/E,KAAM,GAAI4a,SAAS,EAAOxL,SAAS,IAA9E,oBAAOvP,EAAP,KAAc8S,EAAd,KAEMmnC,EAAgB/0C,eACpB,WAAyH,IAAD,yDAAP,GAAO,IAArHg1C,wBAAqH,WAAlG95C,EAAkG,MAAvF+5C,gCAAuF,WAA5D/5C,EAA4D,MAAjDg6C,iCAAiD,WAArBh6C,EAAqB,EAChHi6C,EAAO,yCAAG,iCAAAruC,EAAA,sDACVid,EAAc,GAEdC,EAAS,CACXC,YACAC,uBAAmBhpB,EACnB85C,mBACAC,2BACAC,6BARY,uBAWE/wB,KAAOC,KAAKJ,GAAQK,UAXtB,QAWZxT,EAXY,QAYNyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAbrB,UAc4B,oBAA1B3T,EAAM2T,iBAdR,uBAed5W,GAAS,SAAAvB,GAAI,kCACRA,GADQ,IAEXwJ,SAAS,EACTxL,SAAS,EACTpP,KAAM8oB,EAAYnd,QAAO,SAAC4F,EAAGhP,GAE3B,OADAgP,EAAEhP,EAAEk0C,IAAUl0C,EACPgP,IACN,SAtBS,2CAAH,qDAyBboB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBpR,KAAM,GAAI4a,SAAS,EAAMxL,SAAS,OAC/D8qC,MAEF,CAACzD,EAAOztB,EAAWrW,IAGrB,MAAO,CAAE9S,QAAO8S,WAAUmnC,iBCnC5B,IAAM5vB,GAAQ1B,KAAOhoB,SAEN,SAAS25C,KAAiD,IAAD,yDAAJ,GAAI,IAAlCvP,qBAAkC,WAAlB3qC,EAAkB,EACtE,EAAiC0I,GAAS,CAAEqgB,UAAWkB,GAAOusB,MAAO,QAA7D52C,EAAR,EAAQA,MAAOi6C,EAAf,EAAeA,cACf,EAAmCj6C,EAA3BG,EAAR,EAAQA,KAAM4a,EAAd,EAAcA,QAASxL,EAAvB,EAAuBA,QAEjB+gB,EAAgBprB,eAAkB,WACtC+0C,EAAclP,KAEb,CAACjoC,KAAKC,UAAUgoC,GAAgBkP,IAEnC/0C,aAAgB,WACdorB,MACC,CAACA,IAEJ,IAAM9a,EAAOtT,OAAOC,KAAKhC,GAAMsC,KAAI,SAAAoJ,GAAC,sBAAU1L,EAAK0L,OAEnD,MAAO,CACL1L,KAAMqV,EACN8a,gBACAvV,UACAxL,WAIG,IAAMgrC,GAAsB,SAAC,GAClC,OAAOD,GAAY,CACjBvP,cAAe,CACbmP,iBAAkB,oBAClBC,yBAA0B,CACxB,UAAW,UAEbC,0BAA2B,CACzB,UAR2C,EAAbI,Y,qHCrBhCr1C,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXijC,SAAU,CACRzhC,MAAOL,EAAQmJ,MAAMzI,KACrBmvB,YAAa7vB,EAAQmJ,MAAMzI,MAE7B0yC,UAAW,CACT/yC,MAAOL,EAAQS,QAAQC,KACvBmvB,YAAa7vB,EAAQS,QAAQC,WAsJpBuzC,GAjJM,SAAC,GAYf,IAXL5wB,EAWI,EAXJA,IACAiwB,EAUI,EAVJA,WACAv3B,EASI,EATJA,SASI,IARJq3B,iBAQI,WARQx5C,EAQR,MAPJs6C,aAOI,MAPI,mCAOJ,EANJX,EAMI,EANJA,YACAJ,EAKI,EALJA,SACAD,EAII,EAJJA,iBACAjyC,EAGI,EAHJA,MAGI,IAFJshC,eAEI,WAFM3oC,EAEN,EADDmQ,EACC,mBACEtK,EAAUd,GAAU,IACpBsX,EAAcC,eAEdoE,EAAc5b,IAAMmI,aAAY,WACpCoP,EAAYG,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,OAAQuH,aACxE,CAACpN,EAAaoN,IAGX8b,EADqB4U,GAAoB,CAAEC,OAAQ3wB,IAAjD1pB,KACkBiC,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,WAEzC,OACE,iDAASx4B,GAAT,cACE,sBACElK,MAAO,CACLkT,WAAY,qBACZ/T,SAAU,YAHd,SAMGk1C,EACC,eAACC,GAAA,EAAD,CACE/vC,QAASkW,EACT85B,MAAOF,EACPr0C,MAAO,CACLX,OAAQ,OACRF,SAAU,WACVsU,IAAK,EACLrU,MAAO,UAIX,sBACEmF,QAASkW,EACTza,MAAO,CACL0H,QAAS,GACTrI,OAAQ,OACRF,SAAU,WACVsU,IAAK,EACLrU,MAAO,OACPuB,WAAYwG,KAAK,MARrB,SAWE,eAACzC,GAAA,EAAD,CAAYlE,MAAM,gBAAgB+R,MAAM,SAAS5N,QAAQ,KAAKgC,QAAM,EAApE,SACGvF,QAKT,gBAAC4Y,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,gBAAChU,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAAM/rB,MAAOuT,EAAUvX,QAAQ,eAEhC6a,YAAK+zB,IACJ,eAACttC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAAM/rB,MAAM,aAAahE,QAAQ,WAAW5E,UAAWH,EAAQ2zC,cAGlE/zB,YAAKkjB,IACJ,eAACz8B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwuB,GAAA,EAAD,CAAM/rB,MAAM,WAAWhE,QAAQ,WAAW5E,UAAWH,EAAQqiC,gBAInE,eAACjoB,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACT6G,WAAY,SACZ3E,UAAW,GACXZ,aAAc,IALlB,SAQE,gBAACkF,GAAA,EAAD,CAAME,WAAS,EAAf,WACIvJ,YAAQ62C,IACR,eAACxtC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,YAAxC,SACG8uC,MAIP,eAACxtC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,SACG,CAAC,GAAD,OACIo0C,YAAkBd,EAAa,SAAU,iBAD7C,iBAGIJ,EAHJ,SAIChU,EAASnjC,OAAS,GAAlB,OACAmjC,EAASnjC,OAAS,GAAlB,UAA0BmjC,EAASnjC,OAAnC,cAECJ,QAAO,SAAA2J,GAAC,OAAIA,KACZtJ,KAAI,SAAAsJ,GAAC,OACJ,eAACO,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,gBAAgBmE,QAAQ,UAA1C,SACGe,kBAQjB,eAAC+Y,GAAA,EAAD,CAAMje,MAAM,cAAc+D,QAASkW,EAAa9V,QAAQ,KAAxD,SACGvD,IAEH,eAACsD,GAAA,EAAD,CACElE,MAAM,gBACNR,MAAO,CACLX,OAAQ,GACRsC,UAAW,EACXzC,SAAU,SACVu1C,aAAc,WACdC,gBAAiB,WACjBC,gBAAiB,GAEnBhwC,QAAQ,QAVV,SAYG0uC,Y,4DChJLv0C,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX41C,kBAAmB,CACjBnzC,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,KACvBrI,SAAU,SAoDDszC,GA/CK,SAAC,GAAqF,IAAD,IAAlFzzC,aAAkF,WAA1ErH,EAA0E,MAA/D+6C,gBAA+D,WAApD/6C,EAAoD,MAAzCg7C,oBAAyC,aAAnB7yC,eAAmB,MAAT,GAAS,EACjG2N,EAAQkgC,eACRnwC,EAAUd,KAEVk2C,EAAWD,EACf,eAACrwC,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BkL,EAAK,iBAAaA,GAAU,UACvDilC,EACF,eAACpwC,GAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BmwC,IAE7B,+BAGIG,EAAc7zC,GAAS2zC,GAAgBD,GAAa5yC,GAAWA,EAAQ/F,OAAS,EAEtF,OACE,qCACG84C,GACC,eAAC,KAAD,CAASn3B,gBAAc,EAAC9d,MAAO,CAAE2B,UAAW,GAAIwR,cAAe,IAA/D,SACE,gBAAClN,GAAA,EAAD,CAAMK,WAAW,SAASH,WAAS,EAACE,QAAQ,gBAAgBjG,QA9BtD,EA8BN,UACE,gBAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,UACG9E,GACC,eAACsD,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,KAAK5E,UAAWH,EAAQg1C,kBAAhE,SACGxzC,IAGJ4zC,KAEH,eAAC/uC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAxCd,EAwCF,SACG8B,EAAQ9F,KACP,gBAAGuM,EAAH,EAAGA,MAAH,IAAUnI,aAAV,MAAkB,UAAlB,MAA6BtC,YAA7B,MAAoC,QAApC,MAA6Cg3C,iBAA7C,WAAyDn7C,EAAzD,OAAoE4K,QAApE,EAA0FJ,gBAA1F,WAAoGxK,EAApG,EAAkHmQ,EAAlH,0BACE,eAACjE,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,yBAAQlV,MAAOA,EAAOtC,KAAMA,EAAMg3C,UAAWA,EAAW3wC,QAASA,EAASI,QAAQ,YAAeuF,GAAjG,aACGvB,MAFWA,kB,gCCpBvBwsC,GAAe,SAAChmC,EAAM/I,GAAP,MACZ,SAAdA,EAAuB+I,EAAKlT,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUyqC,YAAe7pC,EAAEyvC,UAAWrwC,EAAEqwC,cAAcjmC,EAAKlT,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUswC,YAAc1vC,EAAEyvC,UAAWrwC,EAAEqwC,eCd3HE,GAXOxC,KACpB,sBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,SAKE,uBAAM3vB,EAAE,kOAEV,iBCNIiyB,GAAc,CAClBC,KAAM,CAAE7sC,MAAO,SAAU8sC,eCHJ3C,KACrB,sBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,SAKE,uBAAM3vB,EAAE,gOAEV,mBDJAoyB,IAAK,CAAE/sC,MAAO,QAAS8sC,eAAgBE,KAc1BC,GAXQ,WACrB,MAAoC/2C,IAAMyO,SAAiBzR,OAAOC,KAAKy5C,IAAa,IAApF,oBAAOM,EAAP,KAAmBC,EAAnB,KAKA,EAAkCP,GAAYM,GAE9C,MAAO,CAAEA,aAAYE,UAFrB,EAAQptC,MAE+B8sC,eAFvC,EAAeA,eAEwCO,0BANrB,WAChCF,GAAc,SAAA5qC,GAAI,MAAc,SAATA,EAAkB,MAAQ,aEG/CpM,GAAYC,cAAW,SAAA2K,GAAK,OAChC1K,aAAa,CACXi3C,cAAe,CACbvuC,QAAS,GACTgJ,OAAQ,GACRtJ,aAAc,GACd5G,MAAOkJ,EAAMvJ,QAAQM,OAAOC,MAC5BC,WAAY+I,EAAMvJ,QAAQmJ,MAAMzI,WAwIvBq1C,GAnIM,SAAC,GAA2B,IAAD,IAAxBh6B,gBAAwB,MAAb,OAAa,EACxCtc,EAAUd,GAAU,IAC1B,ECzBsB,WACtB,MAA+BojB,GAAcI,KAAOjoB,OAApD,2BAAOA,OAAP,MAAe,GAAf,EAAmB87C,EAAnB,KAEMlsB,EAAgBprB,IAAMmI,aAAY,WACtC,IAAM2b,EAAQ,yCAAG,iCAAAhd,EAAA,sDACXid,EAAc,GAEdC,EAAS,CACXC,UAAWR,KAAOjoB,MAClB0oB,uBAAmBhpB,GALN,uBAQCipB,KAAOC,KAAKJ,GAAQK,UARrB,QAQbxT,EARa,QASPyT,MAAMznB,SAAQ,SAAAqB,GAAC,OAAI6lB,EAAYQ,KAAKrmB,MAC1C8lB,EAAOE,kBAAoBrT,EAAM2T,iBAVpB,UAW2B,oBAA1B3T,EAAM2T,iBAXP,uBAYf8yB,EACEvzB,EAAYnd,QAAO,SAAC4F,EAAGhP,GAErB,OADAgP,EAAEhP,EAAEmnB,KAAOnnB,EACJgP,IACN,KAhBU,2CAAH,qDAmBdsX,MACC,CAACwzB,IAEJ,MAAO,CAAE97C,QAAO87C,WAAUlsB,iBDDOmsB,GAAzB/7C,EAAR,EAAQA,MAAO4vB,EAAf,EAAeA,cAEf,EAA6E2rB,KAArEC,EAAR,EAAQA,WAAYG,EAApB,EAAoBA,0BAA2BD,EAA/C,EAA+CA,UAAWN,EAA1D,EAA0DA,eAE1D,EAA4B52C,IAAMyO,SAAS,IAA3C,oBAAOhL,EAAP,KAAe+zC,EAAf,KACA,EAAwCx3C,IAAMyO,UAAS,GAAvD,oBAAOq4B,EAAP,KAAqBQ,EAArB,KACM/pB,EAAUC,eAEVgrB,EAAexoC,IAAMmI,aAAY,SAAA9D,GAAK,aAAImzC,EAAS,OAACnzC,QAAD,IAACA,GAAD,UAACA,EAAOQ,cAAR,aAAC,EAAerK,SAAQ,CAACg9C,IAC5EC,EAAoBz3C,IAAMmI,aAAY,kBAAMqvC,EAAU,MAAK,CAACA,IAE5Dh7B,EAAoBC,eAE1Bzc,IAAMkP,WAAU,WACdkc,MACC,CAACA,IAEJ,IJ1CwB9a,EI8ClB7D,EAAS8nC,GAAiB,CAAEl3B,aAE5Bq6B,EAAe5Q,EAAqC5/B,KAAtBA,KAE9Bu5B,GJlDkBnwB,EAGC,SAACA,EAAM7M,GAChC,OAAI1F,YAAQ0F,GACH6M,EAEAA,EAAKpT,QAAO,SAAAy6C,GAEjB,IAAMC,EAAY,CAChBhD,WAAY+C,EAAK/C,WACjBv3B,SAAUs6B,EAAKt6B,SACfw3B,YAAY,GAAD,OAAKgD,aAAOF,EAAK9C,YAAa,WACzCJ,SAAS,GAAD,OAAKkD,EAAKlD,SAAV,SACRD,iBAAkBmD,EAAKnD,iBACvBjyC,MAAOo1C,EAAKp1C,OAEd,OAAO8/B,aAAQuV,EAAWE,aAAYr0C,OIkCxCs0C,CACE/6C,OAAOC,KAAKzB,GACT0B,QACC,SAAAyJ,GAAC,aAAK4W,IAAaA,IAAYoD,YAAI,UAACnlB,EAAMmL,UAAP,aAAC,EAAU+tC,aAAgBl5C,EAAMmL,GAAG0W,WAAaA,IAAaypB,EAAetrC,EAAMmL,GAAGk9B,SAAWroC,EAAMmL,GAAGk9B,YAE9ItmC,KAAI,SAAAoJ,GAAC,OAAInL,EAAMmL,MAClBlD,GJxDU,SI0DZuzC,EJ1DqB1mC,EAAKlT,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUyqC,YAAe7pC,EAAE+tC,YAAa3uC,EAAE2uC,gBAAgBvkC,EAAKlT,MAAK,SAAC0J,EAAGZ,GAAJ,OAAUswC,YAAc1vC,EAAE+tC,YAAa3uC,EAAE2uC,iBI6D9I,OACE,gBAACh5B,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAAC,GAAD,CACExH,MAAO8a,EACP44B,SAAS,gEACT5yC,QACEka,EACI,CACE,CACEzT,MAAO,eACPpE,QAAS8W,EAAkB9E,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,SAAU3Q,cAC1F4pC,UAAW,eAAC,GAAD,CAAU3zC,SAAS,YAGlC,KAIR,gBAACyY,GAAA,EAAD,CAAK68B,GAAI,EAAT,UACE,gBAAC5wC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBC,WAAW,SAAnD,UACE,eAACL,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC8T,GAAA,EAAD,CAAKha,MAAO,CAAEZ,MAAO,KAArB,SACE,eAACoR,GAAA,EAAD,CACEvM,SAAUojC,EACVhuC,MAAOiJ,EACPqO,WAAS,EACT9B,WAAY,CACV1K,eACE,eAACC,GAAA,EAAD,CAAgBjF,SAAS,QAAzB,SACE,eAAC,GAAD,CAAYoC,SAAS,YAGzB8C,aACE,eAACD,GAAA,EAAD,CAAgBjF,SAAS,QAAzB,SACE,eAACmF,GAAA,EAAD,CAAYtE,MAAO,CAAE0H,QAAS,EAAG5C,aAAc,IAAMP,QAAS+xC,EAA9D,SACE,eAAC,KAAD,CAAa/0C,SAAS,eAK9BrD,KAAK,QACLgG,YAAY,eACZS,QAAQ,iBAId,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACGgc,GACC,eAACnW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAtEP,WAC/B4hC,GAAgB,SAAAj7B,GAAI,OAAKA,MAqEgDhN,KAAK,QAAQg3C,UAAW,eAACqB,EAAD,CAAah1C,SAAS,UAAYoD,QAAQ,OAA7H,SACGghC,EAAe,gBAAkB,oBAIxC,eAAC1/B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAASyxC,EAA2B93C,KAAK,QAAQg3C,UAAW,eAACO,EAAD,CAAgBl0C,SAAS,UAAYoD,QAAQ,OAAjI,SACGoxC,cAMX,eAAC/7B,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,gBAAChU,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACGulC,GACC,eAAC1/B,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAI1G,UAAWH,EAAQq2C,cAAtC,SACE,eAACvxC,GAAA,EAAD,CAAYC,QAAQ,KAAK3E,MAAO,CAAEQ,MAAO,SAAzC,sCAKiB,IAApB8+B,EAASnjC,OACR,eAAC6d,GAAA,EAAD,CAAK8M,EAAG,EAAR,SACE,eAACpiB,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,gBAAgB+R,MAAM,SAArD,gCACmBozB,EAAe,iBAAmB,QADrD,8BAKFrG,EAASljC,KAAI,SAAAo6C,GAAI,OACf,eAACvwC,GAAA,EAAD,CAAMC,MAAI,EAAgBynC,GAAI,EAAGD,GAAI,EAAGjnC,GAAI,GAA5C,SACE,eAAC,GAAD,eAAkB+vC,KADJA,EAAKhzB,oBEhItBszB,GAhBGhE,KAChB,uBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,UAKE,uBAAM3vB,EAAE,kFACR,uBACE4vB,SAAS,UACT5vB,EAAE,yFACF6vB,SAAS,eAGb,a,WCPW/xC,GAAQ,UACf4iB,GAAQ1B,KAAOhoB,SAEN,SAASy8C,GAAT,GAAiD,IAAD,IAAvBl9C,UAAuB,MAAlBuH,GAAkB,EAAXyJ,EAAW,EAAXA,QAC5CmsC,EAASC,eAEf,EAA6BxiC,aAAe5a,GAA5C,oBAASJ,EAAT,KAASA,KAAQgT,EAAjB,KACMlC,EAAc1L,IAAMmI,aAAY,WACpCyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,OACnD7J,GAAWA,MACV,CAACA,EAAS4B,IAEPoX,EAAcF,KAEd5O,EAAelW,IAAMmI,aACzB,SAAAsE,GACEmB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAEtC,IAAMqP,EACK,QAATtqB,EAAA,2BACS6R,GADT,IACiBkY,IAAKwC,cAAQwqB,UAAWwG,EAAQ5B,WAAW,IAAI16C,MAAOmrB,YADvE,2BAESva,GAFT,IAEiBmlC,UAAWuG,EAAQE,WAAW,IAAIx8C,MAAOmrB,YAE5DhC,EAAY,CACVG,SACAC,OAAQ,IACRF,OACAK,QAAS,kBAAM3X,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACnE6a,UAAW,kBAAM5Z,SAGrB,CAACkC,EAAUoX,EAAamzB,EAAQv9C,EAAM8Q,IAGlCyK,EAAenW,IAAMmI,aAAY,SAAAsE,GAAM,OAAIyJ,EAAa,2BAAKzJ,GAAN,IAAco3B,SAAS,OAAS,CAAC3tB,IAE9F,OACE,eAAC,GAAD,CACElb,GAAIA,EACJuH,MAAOvH,EACPua,SAAUW,EACVd,YAAsB,QAATxa,EAAiB,MAAQ,OACtCoR,QAASA,EACTwJ,SAAmB,SAAT5a,GAAmBub,EAC7BzI,OAAQ,CACN,CACE1S,GAAI,MACJiI,QAAQ,GAEV,CACEjI,GAAI,SACJiI,QAAQ,GAEV,CACEjI,GAAI,aACJ8O,MAAO,cACPgG,UAAU,GAEZ,CACE9U,GAAI,UACJ8O,MAAO,UACPiG,WAAW,EACXM,WAAW,EACXC,KAAM,M,wDCoCDgoC,GAjGS,SAAlBA,EAAmB,GAAoF,IAAD,IAAjFC,mBAAiF,SAA7DvB,EAA6D,EAA7DA,WAA6D,IAAjDwB,iBAAiD,WAArCt9C,EAAqC,MAA1Bu9C,aAA0B,MAAlB,EAAkB,EAAZ74C,EAAY,mBAClG+kB,EAA6D/kB,EAA7D+kB,IAAKqrB,EAAwDpwC,EAAxDowC,SAAU4E,EAA8Ch1C,EAA9Cg1C,WAAYzgC,EAAkCvU,EAAlCuU,QAASoiC,EAAyB32C,EAAzB22C,UAAW5E,EAAc/xC,EAAd+xC,UAEjDp0B,EAAUC,eACV26B,EAASC,eACT36B,EAAWD,eAEXwlB,EAAUzlB,IAAaxf,YAAQo6C,IAAWA,IAAWxG,EACrD+G,EAAYxH,eAElB,EXwBOkE,GAAY,CACjBvP,cAAe,CACbmP,iBAAkB,wBAClBC,yBAA0B,CACxB,YAAa,YAEfC,0BAA2B,CACzB,YW/B0D,CAAElF,SAAUrrB,GXuBtCqrB,aWvBxBv0C,EAAd,EAAQR,KAAgBmwB,EAAxB,EAAwBA,cAElBqV,EAAW6V,GACf76C,EAASyB,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,WACxBmT,GAGF,OACE,uCACE,eAAC77B,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACT0T,cAAe,GACf7R,YAAa4P,KAAKlC,IAAY,GAARsoC,EAAY,MAJtC,SAOE,eAAC/wC,GAAA,EAAD,CACEvG,MAAO,CACL6E,WAAY,GACZvD,YAAa,GACbN,aAAc,GACdkS,WAAY,GACZC,cAAe,GACf/T,MAAO,QAETuF,QAAQ,WATV,SAWE,gBAACsB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBjG,QAAS,EAAjD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,YAAxC,SACG8uC,MAGL,eAACxtC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,QAAxC,SACGqO,WAKT,eAAC/M,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAWujC,aAAa,WAAWtjC,WAAW,WAAWlG,QAAS,EAA1F,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAEwW,UAAW,SAAvC,SACE,gBAAC9R,GAAA,EAAD,CAAY6N,MAAM,QAAQ/R,MAAM,gBAAgBmE,QAAQ,UAAxD,UACG/H,YAAQiyC,GAAY,aAAe,WACnC2I,aAAoBpC,EAAW,CAAEqC,WAAW,SAGjD,eAACxxC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,WAApC,UACGw7B,GACC,eAAC57B,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC,KAAD,CAAkBoY,OAAQy4B,EAAex4B,MAAO64B,EAAatqC,cAAerO,EAAO6Q,QAAQ,GAAG3K,QAAQ,OAAOkG,QAASwsC,EAAtH,oBAKH/6B,GACC,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CACEwH,OAAQy4B,EACRlsC,QAASwsC,EACT/nC,QAAQ,GACRxC,cAAe,CAAE2mC,WAAY72C,YAAQ26C,GAAa,YAAcA,EAAWpD,OAAQ11C,EAAM01C,OAAQtF,SAAUpwC,EAAM+kB,KACjH7e,QAAQ,OACR4Z,OAAOsjB,GAAkBuV,EAN3B,sCAmBjB9X,EAASljC,KAAI,SAAAs7C,GAAO,OACnB,eAACP,EAAD,2BAAsCO,GAAtC,IAA+C7B,WAAYA,EAAYwB,UAAWptB,EAAemtB,aAAa,EAAOE,MAAOA,EAAQ,IAA9GI,EAAQ79C,W,qFC3FhC6S,GAAW,SAAApB,GACf,IAAMgN,EAAY,GAOlB,GANA,CAAC,QAAS,mBAAoB,WAAY,WAAY,eAAe5c,SAAQ,SAAA8J,GACvE5I,YAAQ0O,EAAO9F,MACjB8S,EAAU9S,GAAK,gBAId5I,YAAQ0O,EAAM,OAAY,CAK7B,IAAIqsC,EAAIrsC,EAAM,MAAUnP,OACpBy7C,EAAItsC,EAAM,MAAUusC,SAAS,MAAQ,EAAI,EACvCC,EAAS,IAAIC,KAAQJ,GACxBK,MAAM,IAAID,KAAQ,EAAI,IACtBE,MAAML,GACNM,UAAU,KACVC,YACWL,EAAOM,kBAAkB,OAGrC9/B,EAAS,MAAT,wBAAsCw/B,EAAOjzB,WAA7C,mEAIJ,OAAOvM,GA4HMhM,GAzHG,SAAC,GAAsG,IAAD,MAAnG7S,YAAmG,MAA5F,SAA4F,MAAlFgjB,eAAkF,aAAjEnR,OAAQwkC,OAAyD,WAAhD/1C,EAAgD,MAArCmiB,SAAUm8B,OAA2B,WAAhBt+C,EAAgB,EAChHqc,EAAcC,eACdxG,EAAQkgC,eAEVjjC,EAAgBsmC,GAAgB,OAClCtD,QADkC,IAClCA,IAAU,CACR5zB,SAAQ,OAAEm8B,QAAF,IAAEA,IAAY92B,GAAW,KAI/BiC,EAAG,UAAG1W,SAAH,aAAG,EAAe0W,IAE3B,EAAuBpB,GAAeE,KAAOjoB,MAAOmpB,GAA7CwsB,EAAP,qBAEKpzC,YAAQ4mB,IAAS5mB,YAAQozC,KAC5BljC,EAAa,2BAAQA,GAAkBkjC,IAGzC,MAA4BnxC,IAAMyO,SAASR,GAA3C,oBAAOxB,EAAP,KAAeU,EAAf,KACA,EAA4BnN,IAAMyO,SAAS,IAA3C,oBAAOY,EAAP,KAAe+hC,EAAf,KACA,EAA8BpxC,IAAMyO,UAAS,GAA7C,oBAAOoH,EAAP,KAAgBw7B,EAAhB,KAEMrsB,EAAcF,KACd20B,EAAUz5C,IAAMmI,aACpB,SAAAwc,GACE0sB,GAAW,GACXrsB,EAAY,CACVI,OAAQ,IACRD,MAAO1B,KAAOjoB,MACd6pB,SAAU,KACVH,KAAM,CACJP,OAEFW,UAAW,SAAAtK,GACT7N,EAAU6N,EAAOnI,MACjBw+B,GAAW,IAEb9rB,QAAS,SAAA/L,GACP63B,GAAW,QAIjB,CAACrsB,IAGG00B,EAAa15C,IAAMmI,aACvB,YAAuD,IAApDwvC,EAAmD,EAAnDA,KAAiBpG,EAAkC,EAA7CjsB,UAA+BksB,EAAc,EAAvBjsB,QAC7B8rB,GAAW,GACXrsB,EAAY,CACVI,OAAQ,IACRD,MAAO1B,KAAOjoB,MACd6pB,SAAU,KACVH,KAAK,eACAyyB,GAELryB,UAAW,SAAAtK,GACT7N,EAAS,OAAC6N,QAAD,IAACA,OAAD,EAACA,EAAQnI,MAClBw+B,GAAW,GACXE,GAAaA,EAAUv2B,IAEzBuK,QAAS,SAAA/L,GACP63B,GAAW,GACXG,GAAWA,EAAQh4B,QAIzB,CAACwL,IAGH9V,qBAAU,YACI,IAAZ0O,GAA6B,SAAThjB,GAAmB+pB,GAAO80B,EAAQ90B,KACrD,CAAC/G,EAAS+G,EAAK/pB,EAAM6+C,IAExB,IAAMhI,EAAazxC,IAAMmI,YAAN,yCACjB,gDAAArB,EAAA,0DAAS2F,OAAQwkC,OAAjB,WAA0B/1C,EAA1B,MAAqCoqB,iBAArC,WAAiDpqB,EAAjD,MAA4DqqB,eAA5D,WAAsErqB,EAAtE,MAAiFw2C,aAAjF,MAAyF,MAAzF,EACQiG,EADR,sBACqB1G,QADrB,IACqBA,IAAUxkC,GAEhB,WAAT7R,GACF+8C,EAAKjG,GAASvqB,cACdwwB,EAAKjhB,SAAU,IAAI76B,MAAOmrB,UAC1B2wB,EAAKhG,UAAY3gC,IAEjB2mC,EAAK9gB,SAAU,IAAIh7B,MAAOmrB,UAC1B2wB,EAAK/F,UAAY5gC,GAGnBogC,EAAU,IACJ33B,EAAY5L,GAASpB,GACvBzP,OAAOC,KAAKwc,GAAWnc,OAAS,GAClC8zC,EAAU33B,GACV8L,GAAWA,EAAQ9L,IAEnBigC,EAAW,CACT/B,OACAryB,UAAW,SAAAtK,GACTzD,EAAYG,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,YACjEkI,GAAaA,EAAUtK,IAEzBuK,QAAS,SAAA/L,GACPN,MAAM,6BACNG,QAAQ5O,MAAM,CAAE+O,QAChB+L,GAAWA,EAAQ/L,MA3B3B,2CADiB,sDAkCjB,CAAC/M,EAAQ7O,KAAKC,UAAU4O,GAAS8K,EAAavG,EAAOpW,IAGjDub,EAAenW,IAAMmI,aACzB,YAAoC,IAAD,IAAhC07B,eAAgC,SAAhBve,EAAgB,EAAhBA,UACjBmsB,EAAW,CAAEhlC,OAAO,2BAAMA,GAAP,IAAeo3B,YAAWve,gBAG/C,CAACmsB,EAAY7zC,KAAKC,UAAU4O,KAG9B,MAAO,CAAEA,SAAQU,YAAWikC,YAAWK,aAAYt7B,eAAc9G,SAAQoqC,UAAS5jC,YC1I9E5V,GAAYC,cAAW,SAAA2K,GAAK,OAChC1K,aAAa,CACXsU,aAAc,CACZ9S,MAAOkJ,EAAMvJ,QAAQmJ,MAAMzI,KAC3BmvB,YAAatmB,EAAMvJ,QAAQmJ,MAAMzI,KACjC,UAAW,CACTmvB,YAAatmB,EAAMvJ,QAAQmJ,MAAMzI,OAGrC+G,QAAS,CACPpH,MAAOkJ,EAAMvJ,QAAQyV,KAAKhV,QAC1B43C,WAAY9uC,EAAMrJ,WAAWm4C,WAC7B,OAAQ,CACNj3C,SAAUmI,EAAMrJ,WAAWo4C,GAAGl3C,SAC9BE,WAAYiI,EAAMrJ,WAAWq4C,eAC7BC,WAAYjvC,EAAMrJ,WAAWo4C,GAAGE,WAChC53C,aAAc2I,EAAMtJ,QAAQ,IAE9B,OAAQ,CACNmB,SAAUmI,EAAMrJ,WAAWu4C,GAAGr3C,SAC9BE,WAAYiI,EAAMrJ,WAAWq4C,eAC7BC,WAAYjvC,EAAMrJ,WAAWu4C,GAAGD,WAChC53C,aAAc2I,EAAMtJ,QAAQ,IAE9B,MAAO,CACLmB,SAAUmI,EAAMrJ,WAAWw4C,MAAMt3C,SACjCo3C,WAAYjvC,EAAMrJ,WAAWw4C,MAAMF,WACnC53C,aAAc2I,EAAMtJ,QAAQ,IAE9B,OAAQ,CACNmB,SAAUmI,EAAMrJ,WAAWw4C,MAAMt3C,SACjCo3C,WAAYjvC,EAAMrJ,WAAWw4C,MAAMF,WACnC53C,aAAc2I,EAAMtJ,QAAQ,UA6MrB04C,GAvMS,WAAO,IAAD,EACtBl5C,EAAUd,KACVsd,EAAUC,eACVjG,EAAcC,eAEdkhC,EAAYxH,eAElB,EAAkB3D,cAAT5oB,EAAT,qBAASA,IACT,EAAsClX,GAAU,CAAE7S,KAAM,OAAQ6R,OAAQ,CAAEkY,SAA1E,IAAQlY,cAAR,MAAiB,GAAjB,EAAqB0J,EAArB,EAAqBA,aAEbw+B,EAAmBloC,EAAnBkoC,eAEFl3B,EAAWC,eAEXyR,EAAanvB,IAAMmI,aAAY,WACnCoP,EAAYG,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,cAChE,CAAC7F,IAEE2iC,EAAal6C,IAAMmI,aAAY,WACnCoP,EAAYG,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,OAAQ3Q,gBAExE,CAAC8K,EAAa3Z,KAAKC,UAAU4O,KAE1B0tC,EAAe,UAAGC,KAAUC,SAASC,KAAOv8C,YAAO,OAAC0O,QAAD,IAACA,OAAD,EAACA,EAAQ0H,SAAW,GAA3B,OAAgC1H,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQ0H,iBAArE,QAAkF,GAEvG,EAA0CkhC,GAAoB,CAAEC,OAAQ3wB,IAA1DlpB,EAAd,EAAQR,KAAgBmwB,EAAxB,EAAwBA,cAExB,EAA6E2rB,KAArEC,EAAR,EAAQA,WAAYG,EAApB,EAAoBA,0BAA2BD,EAA/C,EAA+CA,UAAWN,EAA1D,EAA0DA,eAEpD2D,EAAe9+C,EAASyB,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,WAASvmC,OAEhDmjC,EAAW6V,GACf76C,EAASyB,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,SAAW9lC,YAAQsP,EAAE2iC,aAC7CgH,GAGF,OAAQvqC,EACN,qCACE,gBAACoP,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAAC,GAAD,CACExH,MAAM,eACN0zC,SAAS,8BACTC,cAAc,EACd7yC,QAAS,CACP,CACEyG,MAAO,OACPusC,UAAW,eAAC,KAAD,CAAiB3zC,SAAS,UACrCgD,QAASypB,GAEX5R,IAAO,OACL9Q,QADK,IACLA,OADK,EACLA,EAAQo3B,UAAW,CACjB/5B,MAAO,oBACPusC,UAAW,eAAC,KAAD,CAAwB3zC,SAAS,UAC5CgD,QAAS,WACPyQ,EAAa,CAAE0tB,SAAS,EAAOve,UAAW6J,MAGhD5R,KACE,OAAC9Q,QAAD,IAACA,KAAQo3B,UAAW,CAClB/5B,MAAO,oBACPusC,UAAW,eAAC,KAAD,CAAc3zC,SAAS,UAClCgD,QAAS,WACPyQ,EAAa,CAAEmP,UAAW6J,KAE5BjuB,UAAWH,EAAQ0T,cAEvB8I,GAAW,CACTzT,MAAO,iBACPusC,UAAW,eAAC,GAAD,CAAe3zC,SAAS,UACnCgD,QAASw0C,IAEXh9C,QAAO,SAAAgJ,GAAC,OAAIA,OAEhB,eAACuQ,GAAA,EAAD,IACA,eAAC0E,GAAA,EAAD,CAAK68B,GAAI,EAAT,SACE,gBAACn8B,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAACoR,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACToI,eAAgB,UAHpB,SAME,eAAC6sB,GAAA,EAAD,CAAM/rB,MAAO2C,EAAO4Q,SAAUvX,QAAQ,eAExC,eAACD,GAAA,EAAD,CACE6N,MAAM,SACN/R,MAAM,cACNR,MAAO,CACLyB,WAAY,OACZE,UAAW,IAEbgD,QAAQ,KAPV,SASG2G,EAAOlK,SAERxE,YAAQ0O,EAAO+nC,mBACf,eAAC3uC,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,gBAAgBR,MAAO,CAAE2B,UAAW,IAAMgD,QAAQ,YAAnF,SACG2G,EAAO+nC,mBAGZ,eAACr5B,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACToI,eAAgB,SAChBlG,UAAW,IAJf,SAOE,eAACqY,GAAA,EAAD,CACEha,MAAO,CACLsG,WAAY,SACZ7G,QAAS,OACTkC,UAAW,IAJf,SAOE,gBAACsE,GAAA,EAAD,CAAME,WAAS,EAAf,WACIvJ,YAAQ0O,EAAOmoC,aACf,eAACxtC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,cAAcmE,QAAQ,YAAvD,SACG2G,EAAOmoC,eAId,eAACxtC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY6N,MAAM,SAAS/R,MAAM,gBAAgBmE,QAAQ,QAAzD,mBACO00C,YAAa,OAAC/tC,QAAD,IAACA,OAAD,EAACA,EAAQooC,aAAuD,GAAxCgD,aAAM,OAACprC,QAAD,IAACA,OAAD,EAACA,EAAQooC,YAAa,UADxE,iBAC4FpoC,EAAOgoC,SADnG,yBASXhoC,EAAO+oC,OACN,eAACr6B,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACS,GAAA,EAAD,CAAW9R,SAAS,KAApB,SACE,eAAC3C,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,SACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,sBAAKsV,IAAI,QAAQD,IAAKjQ,EAAO+oC,MAAOr0C,MAAO,CAAEoqC,UAAW,eAMlE,eAACpwB,GAAA,EAAD,CAAK68B,GAAI,EAAT,SACE,eAACn8B,GAAA,EAAD,CAAW9R,SAAS,KAApB,SACE,sBAAK7I,UAAWH,EAAQgI,QAAxB,SACE,0BAAS0xC,wBAAyB,CAAEC,OAAQP,WAIjDx5B,YAAKg0B,IACJ,+BACE,gBAAC94B,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,gBAAC3C,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,gBAAgBjG,QAAS,EAAjD,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,KAAxC,6BACgBy0C,EADhB,SAKF,eAACnzC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAACD,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACwP,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAASyxC,EAA2B93C,KAAK,QAAQg3C,UAAW,eAACO,EAAD,CAAgBl0C,SAAS,UAAYoD,QAAQ,OAAjI,SACGoxC,MAGJz5B,GACC,eAACrW,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAAC4Q,GAAA,EAAD,CACEwH,OAAQy4B,EACRlsC,QAASof,EACTnd,cAAe,CAAE2mC,WAAY72C,YAAQ26C,GAAa,YAAcA,EAAWpD,OAAQ3wB,GACnF7e,QAAQ,UAJV,mCAaV,eAACqV,GAAA,EAAD,CAAKC,GAAI,EAAT,SACuB,IAApBqlB,EAASnjC,OACR,eAACuI,GAAA,EAAD,CAAYlE,MAAM,gBAAlB,mCAEA8+B,EAASljC,KAAI,SAACs7C,EAAS36C,GAAV,OACX,eAAC,GAAD,2BAAsC26C,GAAtC,IAA+C7B,WAAYA,EAAYwB,UAAWptB,EAAemtB,YAAmB,IAANr6C,IAAxF26C,EAAQ79C,mBAvJ/B,M,iDCzFbiF,GAAYC,cAAW,SAAA2K,GAAK,OAChC1K,aAAa,CACXsB,KAAM,CACJ,gBAAiB,CACfsS,OAAQ,OACRzR,aAAa,aAAD,OAAeuI,EAAMvJ,QAAQgU,SACzC,2BAA4B,CAC1B3T,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,MAEjC,+BAAgC,CAC9BL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,MAEjC,0BAA2B,CACzBL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,MAEjC,gCAAiC,CAC/BL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,MAEjC,iBAAkB,CAChBL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,KAC/B,eAAgB,CACd24C,OAAQ9vC,EAAMvJ,QAAQ6V,UAAUnV,OAGpC,iBAAkB,CAChBL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUnV,KAC/B,eAAgB,CACd24C,OAAQ9vC,EAAMvJ,QAAQ6V,UAAUnV,OAGpC,qBAAsB,CACpB,eAAgB,CACd24C,OAAQ9vC,EAAMvJ,QAAQ6V,UAAUnV,OAGpC,eAAgB,CACd24C,OAAQ9vC,EAAMvJ,QAAQyV,KAAKhV,SAE7B,eAAgB,CACdJ,MAAOkJ,EAAMvJ,QAAQyV,KAAKhV,SAE5B,uBAAwB,CACtB8G,QAASgC,EAAMtJ,QAAQ,GACvBH,gBAAiByJ,EAAMvJ,QAAQQ,WAAWioC,QAC1Ch2B,OAAQ,OACRse,UAAWxnB,EAAMynB,QAAQ,IACzB/pB,aAAcsC,EAAMqmB,MAAM3oB,eAG9B,kBAAmB,CACjBwL,OAAQ,OACR,eAAgB,CACd4lC,WAAY9uC,EAAMrJ,WAAWm4C,WAC7Bj3C,SAAU,GACVf,MAAOkJ,EAAMvJ,QAAQyV,KAAKhV,QAC1B,qBAAsB,CACpBJ,MAAOkJ,EAAMvJ,QAAQyV,KAAKI,mBAavByjC,GALK,SAAC,GAAyC,IAAD,IAAtC15C,iBAAsC,WAA1BhG,EAA0B,EAAZmQ,EAAY,mBACrDtK,EAAUd,GAAU,IAC1B,OAAO,eAAC,KAAD,aAAOiB,UAAWgL,mBAAKnL,EAAQU,KAAMP,IAAgBmK,K,qBCzD/CwvC,GAZG5G,KAChB,uBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,UAKE,uBAAM3vB,EAAE,oEACR,uBAAMA,EAAE,2DAEV,aCMaq2B,GAfL7G,KACR,sBACEC,MAAM,6BACNC,QAAQ,YACRC,KAAK,eAHP,SAKE,uBACEC,SAAS,UACT5vB,EAAE,qMACF6vB,SAAS,cAGb,K,uQCEIr0C,GAAYC,cAAW,kBAC3BC,aAAa,CACXmH,UAAW,gBAAGyzC,EAAH,EAAGA,aAAH,mBAAC,aACVtzC,WAAY,SACZsM,OAAQ,EACRxL,aAAc,EACd4oB,YAAa,UACbvwB,QAAS,OACTw/B,SAAU,OACVp3B,eAAgB,SAChB8K,QAAS,OACTjL,QAAS,IACLkyC,GAAgB,CAClB35C,gBAAiB,gBACjB8J,QAAS,KAZF,IAcT,UAAW,CACT9J,gBAAiB,eACjB2e,OAAQ,UACR7U,QAAS,OAGb8vC,IAAK,CACH,QAAS,CACPz6C,MAAO,MAGX06C,SAAU,CACRlnC,OAAQ,EACRod,YAAa,UACb5oB,aAAc,EACd,QAAS,CACPzF,UAAW,SAMbo4C,GAAsC,SAAAt7C,GAC1C,IACEu7C,EAoBEv7C,EApBFu7C,OAEAC,GAkBEx7C,EAnBFiN,SAmBEjN,EAlBFw7C,OAEAC,GAgBEz7C,EAjBF07C,kBAiBE17C,EAhBFy7C,UACAE,EAeE37C,EAfF27C,QACAC,EAcE57C,EAdF47C,QAKAC,GASE77C,EAbF87C,QAaE97C,EAZF+7C,OAYE/7C,EAXFg8C,qBAWEh8C,EAVFi8C,WAUEj8C,EATF67C,QAIAK,GAKEl8C,EARFm8C,eAQEn8C,EAPFo8C,eAOEp8C,EANFq8C,mBAMEr8C,EALFk8C,UACAI,EAIEt8C,EAJFs8C,YACAC,EAGEv8C,EAHFu8C,SAEG9wC,GACDzL,EAFFw8C,sBAnBF,aAqBIx8C,EArBJ,KAyBA,EAAsDy8C,aAAY,CAChElB,SACAE,WACAE,UACAC,UACAC,WALMa,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,cAAexB,EAArC,EAAqCA,aAQ/Bh6C,EAAUd,GAAU,CAAE86C,iBAE5B,OACE,iDAAS1vC,GAAT,cACE,gBAAC8P,GAAA,EAAD,yBAAKja,UAAWH,EAAQuG,WAAeg1C,KAAvC,cACE,sCAAWC,MACX,eAACphC,GAAA,EAAD,CAAKja,UAAWH,EAAQi6C,IAAxB,SACE,sBAAKr+B,IAAI,cAAcD,IAAI,wCAE7B,gBAACvB,GAAA,EAAD,CAAK2O,EAAG,EAAR,UACE,eAACjkB,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,KAAxC,8BACiBu1C,GAAyB,IAAbA,EAAiB,GAAK,OAEnD,eAAClgC,GAAA,EAAD,CAAKha,MAAO,CAAE2B,UAAW,IAAzB,SACE,gBAAC+C,GAAA,EAAD,CAAYlE,MAAM,cAAcmE,QAAQ,QAAxC,6BACeu1C,GAAyB,IAAbA,EAAiB,GAAK,KAC9C,OACD,eAACz7B,GAAA,EAAD,CAAMje,MAAM,UAAUU,UAAU,SAAhC,oBAEQ,IALV,oCAWL+4C,EAAM99C,OAAS,GACd,gBAAC6d,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAAC,KAAD,UACGggC,EAAM79C,KAAI,SAAAi/C,GAAI,OACb,gBAACvkB,GAAA,EAAD,CAA0B/2B,UAAWH,EAAQk6C,SAA7C,UACE,eAACwB,GAAA,EAAD,UACE,eAAC,GAAD,CAAe/5C,SAAS,YAE1B,eAACy1B,GAAA,EAAD,CACEp2B,QAASy6C,EAAKr+C,KACdu+C,uBAAwB,CACtB/6C,MAAO,cACPmE,QAAS,aAEXqR,UAAWwlC,YAAYH,EAAKn9C,QAE9B,eAAC,KAAD,CAASkD,MAAM,SAAf,SACE,eAACkD,GAAA,EAAD,CAAYyZ,KAAK,MAAMxZ,QAAS,kBAAMo2C,GAAYA,EAASU,IAA3D,SACE,eAAC,GAAD,CAAO95C,SAAS,gBAdP85C,EAAKI,WAoBxB,gBAACzhC,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACToI,eAAgB,WAChBlG,UAAW,IAJf,UAOE,eAAC+T,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAASw2C,EAAa78C,KAAK,QAAQzE,KAAK,SAASkL,QAAQ,OAAjF,wBAGA,eAAC+Q,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAASy2C,EAAU98C,KAAK,QAAQ8B,MAAO,CAAE6E,WAAY,IAAMpL,KAAK,SAASkL,QAAQ,YAAzG,+BAgCZo1C,GAAa9Y,aAAe,CAC1BgZ,MAAO,IAGMF,U,2FCzJA2B,GAzBQ,SAAC,GAAqF,IAAnFz3C,EAAkF,EAAlFA,SAAU5K,EAAwE,EAAxEA,MAAOiQ,EAAiE,EAAjEA,MAAiE,IAA1Duc,eAA0D,aAAzCtV,wBAAyC,SAAZrG,EAAY,mBAC1G,OACE,eAAC,KAAD,CAAyByxC,MAAOC,KAAhC,SACE,eAAC,KAAD,aACEjrC,WAAW,EACXD,OAAO,QACPmrC,aAAa,WACbC,oBAAqB,CACnB,aAAc,eAEhBziD,MAAOA,EACP4K,SAAUpF,eACR,SAAAxF,GACE4K,EAAS,CAAEP,OAAQ,CAAErK,MAAOwsB,GAAWxsB,EAAQA,EAAMwsB,UAAYxsB,OAEnE,CAACwsB,EAAS5hB,IAEZqF,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,GAASA,GACnDY,OCpBNpL,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACX+8C,YAAa,CACX30C,aAAc,GACdhI,MAAO,OACPwT,OAAQ,YACRod,YAAa7vB,EAAQM,OAAOC,OAE9B0H,SAAU,CACRhB,aAAc,GACdhI,MAAO,OACPwT,OAAQ,YACRod,YAAa7vB,EAAQS,QAAQwS,YAqCpB4oC,GAhCG,SAAC,GAA4F,IAAD,IAAzF3iD,aAAyF,MAAjF,GAAiF,MAA7EsP,aAA6E,WAArE5O,EAAqE,MAA1DuP,aAA0D,WAAlDvP,EAAkD,MAAvC2V,aAAuC,MAA/B,GAA+B,MAA3BzL,gBAA2B,WAAhBlK,EAAgB,EACtG6F,EAAUd,GAAU,IACpBm9C,EAAep9C,eACnB,SAAAxF,GAAK,OAAI,WACP4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,cAEnC,CAAC4K,IAGH,OACE,gBAACgC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASjG,QAAS,EAAGkG,WAAW,SAAxD,WACI1J,YAAQ+L,IACR,eAAC1C,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BgE,MAG7B+G,EAAMtT,KAAI,SAAA8J,GAAI,OACb,eAACD,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIw9B,GAAI,EAAGyJ,GAAI,EAAGC,GAAI,EAArC,SACE,sBAAKnyB,IAAG,OAAEtV,QAAF,IAAEA,OAAF,EAAEA,EAAMyC,MAAOpE,QAAS03C,EAAY,OAAC/1C,QAAD,IAACA,OAAD,EAACA,EAAM7M,OAAQkiB,IAAG,OAAErV,QAAF,IAAEA,OAAF,EAAEA,EAAM7M,MAAO0G,UAAWmG,EAAK7M,QAAUA,EAAQuG,EAAQwI,SAAWxI,EAAQm8C,oBAG5In/C,YAAQ0M,IACR,eAACrD,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY6N,MAAM,QAAQ/R,MAAM,QAAhC,SACG8I,UCxCAlI,GAAQ,uBAEf6M,GAAmB,WAEvB,MADa,IAIA,SAASiuC,GAAT,GAAyE,IAAD,IAApCriD,UAAoC,MAA/BuH,GAA+B,MAAxB6C,gBAAwB,WAAblK,EAAa,EACrF,EAAqB0a,aAAe5a,GAA3B4S,EAAT,qBACMwvC,EAAep9C,IAAMmI,aACzB,SAAAsE,GACEmB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,OACnCpG,GAAYA,EAAQ,OAACqH,QAAD,IAACA,OAAD,EAACA,EAAQipC,SAE/B,CAAC9nC,EAAUxI,IAGb,OACE,eAAC,GAAD,CACEpK,GAAIA,EACJuH,MAAOvH,EACPua,SAAU6nC,EACVvvC,SAAUuB,GACVgG,YAAa,eACbrL,SAAS,KACT2D,OAAQ,CACN,CACE1S,GAAI,QACJ8O,MAAO,wBACPgG,UAAU,EACV4C,MAAOyqC,GACPtsC,MAAO,CACL,CAAE/G,MAAO,gBAAiBtP,MAAO,oCACjC,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,UAAWtP,MAAO,8BAC3B,CAAEsP,MAAO,WAAYtP,MAAO,+BAC5B,CAAEsP,MAAO,WAAYtP,MAAO,+BAC5B,CAAEsP,MAAO,WAAYtP,MAAO,+BAC5B,CAAEsP,MAAO,WAAYtP,MAAO,oC,oCCHzB8iD,GAtCD,SAAC,GAA0C,IAAD,IAAvC9iD,aAAuC,MAA/B,GAA+B,MAA3B4K,gBAA2B,WAAhBlK,EAAgB,EACtD,EAA0B8E,IAAMyO,SAAS,GAAzC,oBAAO8uC,EAAP,KAAcC,EAAd,KACMC,EAAYz9C,IAAM2xB,SAMxB,OACE,gBAACvqB,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAAxB,UACE,eAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAY6N,MAAM,SAAlB,SACE,eAAC,KAAD,CACEqL,IAAK0+B,EACL/H,MAAOl7C,EACP+F,MAAO,IACPC,OAAQ,IACRuT,OAAQ,GACRpS,MAAO,CAAC,IAAK,IAAK,IAAK,IACvB47C,MAAOA,EACPG,OAAQ,QAId,eAACt2C,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC+1C,GAAA,EAAD,CAAQnjD,MAAO+iD,EAAOptC,IAAK,GAAKC,IAAK,EAAGF,KAAM,IAAM,kBAAgB,OAAO9K,SAAU,SAACiI,EAAGkwC,GAAJ,OAAcC,EAASD,QAE9G,eAACn2C,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,sBAAKzG,MAAO,CAAEwW,UAAW,SAAzB,SACE,eAACM,GAAA,EAAD,CAAcpL,SAAU9O,YAAO,OAAC0/C,QAAD,IAACA,OAAD,EAACA,EAAWj5C,SAAUhB,KAAM0D,KAAYvF,MAAM,UAAU+D,QAzB5E,WAAO,IAAD,EACvBN,GAAYA,EAAQ,OAACq4C,QAAD,IAACA,GAAD,UAACA,EAAWj5C,eAAZ,aAAC,EAAoBo5C,WAAWC,cAwB9C,kCCxBJC,GAAW,SAACtB,GAAD,OACf,IAAIuB,SAAQ,SAACC,EAASC,GACpB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAc5B,GACrB0B,EAAOG,OAAS,kBAAML,EAAQE,EAAOljC,SACrCkjC,EAAOI,QAAU,SAAA7zC,GAAK,OAAIwzC,EAAOxzC,QA8LtB8zC,GA3LY,SAAC,GAAoD,IAU1DvjD,EAVyD,IAAjDyR,cAAiD,MAAxC,GAAwC,EAA7BU,EAA6B,EAA7BA,UAA6B,IAAlBkC,cAAkB,MAAT,GAAS,EAC7E,EAAmG5C,EAA3FlK,aAAR,MAAgB,GAAhB,EAAoBqyC,EAA+EnoC,EAA/EmoC,WAAYv3B,EAAmE5Q,EAAnE4Q,SAAhC,EAAmG5Q,EAAzD0H,eAA1C,MAAoD,GAApD,EAAwDqhC,EAA2C/oC,EAA3C+oC,MAAxD,EAAmG/oC,EAApC+nC,wBAA/D,MAAkF,GAAlF,EAAsFC,EAAahoC,EAAbgoC,SAEhF+J,EAAe,yCAAG,kCAAA13C,EAAA,iFAAQ01C,EAAR,cACDsB,GAAStB,GADR,OAChBhH,EADgB,OAEtBroC,GAAU,SAAAd,GAAI,kCAAUA,GAAV,IAAgBmpC,aAFR,2CAAH,sDAKrB,EAAgCx1C,IAAMyO,UAAS,GAA/C,oBAAOgwC,EAAP,KAAiBC,EAAjB,KAIM95C,EAAe,SAAA5J,GAAE,OAAI,SAAAqJ,GAAK,OAAI8I,GAAU,SAAAd,GAAI,wCAAUA,GAAV,kBAAiBrR,EAAjB,OAAsBqJ,QAAtB,IAAsBA,GAAtB,UAAsBA,EAAOQ,cAA7B,aAAsB,EAAerK,aACjFmkD,EAAoB,SAAAnJ,GACxBroC,GAAU,SAAAd,GAAI,kCAAUA,GAAV,IAAgBmpC,aAC9BkJ,GAAY,IAIR7zC,EAAQ5J,eAEd,OACE,+BACE,gBAACmG,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACynC,GAAI,EAAGD,GAAI,EAAG+P,GAAI,EAAGh3C,GAAI,GAApC,SACE,eAACq3B,GAAA,EAAD,CAAMn5B,QAAQ,WAAd,SACE,gBAACq5B,GAAA,EAAD,WACE,eAAC,GAAD,CAAMr1B,MAAM,aAAa+H,OAAO,SAAS1T,KAAK,QAAQ3D,MAAO+H,EAAOkI,MAAO4E,EAAM,MAAWjK,SAAUR,EAAa,WACnH,eAACuW,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAAC,GAAD,CACEvJ,OAAO,SACPxB,WAAS,EACTvG,MAAM,oBACNwG,KAAM,EACN9V,MAAOg6C,EACPpvC,SAAUR,EAAa,oBACvB6F,MAAO4E,EAAM,qBAGjB,eAACxJ,GAAA,EAAD,CACElE,MAAM,gBACNR,MAAO,CACLe,aAAc,GACdY,UAAW,IAEbgD,QAAQ,YANV,mBAUC0vC,EACC,uBAAKr0C,MAAO,CAAEwW,UAAW,UAAzB,UACG8mC,EAAW,eAAC,GAAD,CAAOjkD,MAAOg7C,EAAOpwC,SAAUu5C,IAAwB,sBAAKjiC,IAAK84B,EAAO74B,IAAI,QAAQxb,MAAO,CAAEZ,MAAO,QAC9GxC,YAAQsR,EAAM,QACd,eAAC8L,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACvV,GAAA,EAAD,CAAY6N,MAAM,QAAQ/R,MAAM,QAAhC,SACG0N,EAAM,UAIb,gBAAC8L,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACToI,eAAgB,WAChBlG,UAAW,IAJf,UAOE,eAAC+T,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QAjDhB,kBAAMg5C,GAAY,SAAAryC,GAAI,OAAKA,MAiDiBvG,QAAQ,OAA5D,SACG24C,EAAW,sBAAwB,uBAEtC,eAAC5nC,GAAA,EAAD,CAAQlV,MAAM,UAAU+D,QA1DhB,kBAAMyH,GAAU,SAAAd,GAAI,kCAAUA,GAAV,IAAgBmpC,WAAOt6C,QA0DC4K,QAAQ,OAA5D,sCAMJ,uCACE,eAAC+4C,GAAD,CAAe1D,OAAO,UAAUE,SAAU,EAAGI,OAAQ+C,IACrD,eAACrjC,GAAA,EAAD,CACEha,MAAO,CACLP,QAAS,OACToI,eAAgB,WAChBlG,UAAW,IAJf,SAOE,eAACmV,GAAA,EAAD,CAAcnS,QAAQ,UAAU2Z,OAAQ49B,EAA0Bj4C,SAAUu5C,EAA5E,2CAMN,gBAACxjC,GAAA,EAAD,CAAKha,MAAO,CAAE2B,UAAW,IAAzB,UACE,eAAC+C,GAAA,EAAD,CAAYlE,MAAM,gBAAgBR,MAAO,CAAEe,aAAc,IAAM4D,QAAQ,YAAvE,qBAGA,eAAC,GAAD,CACET,YAAY,kBACZlE,MAAO,CACLX,OAAQ,IACR+H,aAAc,EACdwL,OAAO,aAAD,OAAelJ,EAAMvJ,QAAQgU,UAErClQ,UA3FIpK,EA2FkB,UA3FZ,SAAAR,GAAK,OAAI2S,GAAU,SAAAd,GAAI,kCAAUA,GAAV,kBAAiBrR,EAAKR,SA4FvDA,MAAO2Z,cAMjB,eAAC/M,GAAA,EAAD,CAAMC,MAAI,EAACynC,GAAI,EAAGD,GAAI,EAAG+P,GAAI,EAAGh3C,GAAI,GAApC,SACE,eAACq3B,GAAA,EAAD,CAAMn5B,QAAQ,WAAd,SACE,gBAACq5B,GAAA,EAAD,WACE,eAAChkB,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACzJ,GAAA,EAAD,CACEnX,MAAO6iB,EACPjY,SAAUR,EAAa,YACvBkN,WAAS,EACThI,MAAM,WACN3L,KAAK,WACL2gD,QAAM,EACNC,YAAa,CAAEC,QAAQ,GACvBl5C,QAAQ,WARV,SAUG4c,GAAWnlB,KAAI,SAAA8f,GAAQ,OACtB,yBAAuB7iB,MAAO6iB,EAA9B,SACGA,GADUA,UAMnB,eAAClC,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACzJ,GAAA,EAAD,CAAWG,WAAS,EAACzB,WAAS,EAACvG,MAAM,cAAchE,QAAQ,WAAWtL,MAAOo6C,EAAYxvC,SAAUR,EAAa,kBAElH,eAACuW,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,eAACzJ,GAAA,EAAD,CACEnX,MAAOi6C,EACPrvC,SAAUR,EAAa,YACvBkN,WAAS,EACThI,MAAM,YACN3L,KAAK,WACL2gD,QAAM,EACNC,YAAa,CAAEC,QAAQ,GACvBl5C,QAAQ,WARV,SAUGgvC,GAAUv3C,KAAI,SAAA0hD,GAAE,OACf,yBAAiBzkD,MAAOykD,EAAxB,SACGA,GADUA,UAMnB,eAAC,GAAD,CACEjkD,GAAG,cACH8O,MAAM,iBACNnI,MAAM,UACNyD,SAAUR,EAAa,eACvBpK,MAAOiS,EAAM,YACbhC,MAAO4E,EAAM,YACbwC,OAAO,SACPmV,SAAS,IAEX,gBAAC7L,GAAA,EAAD,CAAKC,GAAI,EAAT,UACE,eAAC,GAAD,CACEpgB,GAAG,YACH8O,MAAM,aACNnI,MAAM,UACNyD,SAAUR,EAAa,aACvBpK,MAAOiS,EAAM,UACbhC,MAAO4E,EAAM,YAEf,eAAC,GAAD,CACErU,GAAG,iBACH8O,MAAM,kBACNnI,MAAM,UACNyD,SAAUR,EAAa,kBACvBpK,MAAOiS,EAAM,eACbhC,MAAO4E,EAAM,iBAEf,eAAC,GAAD,CAAOrU,GAAG,UAAU8O,MAAM,WAAWnI,MAAM,UAAUyD,SAAUR,EAAa,WAAYpK,MAAOiS,EAAM,QAAahC,MAAO4E,EAAM,0BC3JhI6vC,GAjCQ,WACrB,IAAM1iC,EAAoBC,eAC1B,EAAuB8wB,cAAdlwB,EAAT,qBAASA,SACT,EAAkD5P,GAAU,CAAE7S,KAAM,SAAUyiB,aAAtE5Q,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWkC,EAA3B,EAA2BA,OAAQoiC,EAAnC,EAAmCA,WAEnC,OACE,gBAAC51B,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAAC,GAAD,CACExH,MAAM,cACN2zC,cAAc,EACd7yC,QAAS,CACP,CACEyG,MAAO,SACPpE,QAAS8W,EAAkB9E,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,YAChFzb,MAAO,aAET,CACEmI,MAAO,kBACPusC,UAAW,eAAC,KAAD,IACX3wC,QAAS+rC,EACT3rC,QAAS,gBAKf,eAAC2Q,GAAA,EAAD,IACA,eAAC0E,GAAA,EAAD,CAAKha,MAAO,CAAEkT,WAAY,GAAIC,cAAe,IAA7C,SACE,eAAC,GAAD,CAAoB7H,OAAQA,EAAQU,UAAWA,EAAWkC,OAAQA,UCG3D8vC,GA/BM,SAAC,GAAwB,IAAdlO,EAAa,EAArBxkC,OAChB+P,EAAoBC,eAC1B,EAAkDhP,GAAU,CAAE7S,KAAM,OAAQ6R,OAAQwkC,IAA5ExkC,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,UAAWkC,EAA3B,EAA2BA,OAAQoiC,EAAnC,EAAmCA,WAEnC,OACE,gBAAC51B,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAAC,GAAD,CACExH,MAAM,YACN2zC,cAAc,EACd7yC,QAAS,CACP,CACEyG,MAAO,SACPpE,QAAS8W,EAAkB9E,YAAU,aAAa,SAAArL,GAAI,kCAAUA,GAAV,IAAgB+Q,SAAU,YAChFzb,MAAO,aAET,CACEmI,MAAO,kBACPusC,UAAW,eAAC,KAAD,IACX3wC,QAAS+rC,EACT3rC,QAAS,gBAIf,eAAC2Q,GAAA,EAAD,IACA,eAAC0E,GAAA,EAAD,CAAKha,MAAO,CAAEkT,WAAY,GAAIC,cAAe,IAA7C,SACE,eAAC,GAAD,CAAoB7H,OAAQA,EAAQU,UAAWA,EAAWkC,OAAQA,U,mBC7B3D,SAAS+vC,GAAT,GAOX,IAAD,QANDj6B,aAMC,MANO1B,KAAOloB,OAMd,MALDP,GAAI2jC,OAKH,WALQzjC,EAKR,MAJDJ,MAAOukD,OAIN,WAJsBnkD,EAItB,MAHD0S,SAAU0xC,OAGT,WAH4BpkD,EAG5B,MAFD6R,cAEC,aADDuY,UAAWisB,OACV,WADsBr2C,EACtB,EACD,EAA0C8E,aAA1C,oBAAOu/C,EAAP,KAAsBC,EAAtB,KACM1kD,EAAQukD,GAAgCE,EACxC3xC,EAAW0xC,GAAsCE,EAC/Ch0C,GAAR,OAAiB1Q,QAAjB,IAAiBA,IAAS,CAAE0Q,UAAMtQ,IAA1BsQ,KACFwZ,EAAcF,KACd/nB,EAAG,OAAGjC,QAAH,IAAGA,GAAH,UAAGA,EAAO2kD,gBAAV,aAAG,EAAiB5sC,KACvB6sC,EAAO,UAAG9hD,KAAKC,UAAUd,UAAlB,QAA0B,KAEjCquB,EAAgBprB,eACpB,WAA8C,IAAD,yDAAP,GAAO,IAA1ChF,GAAI2kD,OAAsC,WAAhCzkD,EAAgC,EAArBoqB,EAAqB,EAArBA,UAChBtqB,EAAK2kD,GAAYhhB,EAClB5gC,YAAQ/C,KACX4S,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAMpL,WAAOvP,EAAWukD,cAAUvkD,OACxE8pB,EAAY,CACVG,QACAC,OAAQ,IACRF,KAAM,CAAElqB,MACRuqB,QAAS,SAAAk6B,GAAQ,OAAI7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,uBAAwBg1C,iBACjGn6B,UAAW,SAAAm6B,GACT7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,WAAOvP,EAAWukD,gBAC/Dn6B,GAAaA,EAAUm6B,GACvBlO,GAAaA,EAAUkO,SAK/B,CAAC9gB,EAAIxZ,EAAOH,EAAausB,EAAW3jC,IAGtC5N,aAAgB,gBACD9E,IAATsQ,EACFuB,GAAUvB,GAAQ4f,IAElBre,GAAUqe,MAEX,CAACA,EAAe5f,EAAMuB,IAEzB,IAAM6yC,EAAS5/C,eACb,YAAoG,IAAD,IAAhGhF,GAAI2kD,OAA4F,WAAtFzkD,EAAsF,EAA3EuR,EAA2E,EAA3EA,OAA2E,IAAnEJ,YAAmE,WAA5DnR,EAA4D,MAAjDoqB,iBAAiD,WAArCpqB,EAAqC,MAA1BqqB,eAA0B,WAAhBrqB,EAAgB,EAE3FF,EAAK2kD,GAAYhhB,EACvB,IAAK5gC,YAAQ/C,GAAK,CAChB,IAAM6kD,OAAsB3kD,IAATmR,EAAqBzO,KAAKqR,MAAMywC,GAAWrzC,EAC9DuB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAMpL,WAAOvP,EAAWukD,cAAUvkD,OACxE8pB,EAAY,CACVG,QACAC,OAAQ,IACRF,KAAK,2BAAM26B,GAAP,IAAmB7kD,MAAOyR,GAC9B8Y,QAAS,SAAAk6B,GACP7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,uBAAwBg1C,gBAC5El6B,GAAWA,EAAQk6B,IAErBn6B,UAAW,SAAAm6B,GACT7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,WAAOvP,EAAWukD,gBAC/Dn6B,GAAaA,EAAUm6B,GACvBlO,GAAaA,EAAUkO,SAK/B,CAAC9gB,EAAIxZ,EAAOvX,EAAUoX,EAAa06B,EAASnO,IAIxCuO,EAAa9/C,eACjB,YAAoG,IAAD,IAAhGhF,GAAI2kD,OAA4F,WAAtFzkD,EAAsF,EAA3EuR,EAA2E,EAA3EA,OAA2E,IAAnEJ,YAAmE,WAA5DnR,EAA4D,MAAjDoqB,iBAAiD,WAArCpqB,EAAqC,MAA1BqqB,eAA0B,WAAhBrqB,EAAgB,EAE3FF,EAAK2kD,GAAYhhB,EAClB5gC,YAAQ/C,KACX4S,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAMpL,WAAOvP,EAAWukD,cAAUvkD,OACxE8pB,EAAY,CACVG,QACAC,OAAQ,IACRF,KAAK,2BAAM7Y,GAAP,IAAarR,MAAOyR,GACxB8Y,QAAS,SAAAk6B,GACP7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,uBAAwBg1C,gBAC5El6B,GAAWA,EAAQk6B,IAErBn6B,UAAW,SAAAm6B,GACT7xC,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,WAAOvP,EAAWukD,gBAC/Dn6B,GAAaA,EAAUm6B,GACvBlO,GAAaA,EAAUkO,SAK/B,CAAC9gB,EAAIxZ,EAAOvX,EAAUoX,EAAausB,IAWrC,MAAO,CAAEx0C,MAAK6iD,SAAQG,WAPH//C,eACjB,YAA2C,IAAD,IAAvChF,UAAuC,WAAlCE,EAAkC,EAAvBuR,EAAuB,EAAvBA,OAAWpB,EAAY,mBACxC+f,EAAc,CAAEpwB,KAAIsqB,UAAW,SAAAm6B,GAAQ,OAAIK,EAAW,aAAE9kD,GAAIA,EAAIyR,SAAQJ,KAAI,OAAEozC,QAAF,IAAEA,OAAF,EAAEA,EAAU5sC,MAASxH,SAEnG,CAACy0C,EAAY10B,IAGmBA,gBAAevV,QAAO,OAAE/a,QAAF,IAAEA,OAAF,EAAEA,EAAO+a,S,0MC1GpD,SAASmqC,GAAT,GAA4J,IAAD,IAAzIxlD,aAAyI,WAAjIU,EAAiI,OAAtHwW,iBAAsH,EAA5FjH,MAA4F,EAAzEw1C,cAAyE,EAA9Cn2C,cAA8C,MAAtC,GAAsC,MAAlC1E,gBAAkC,WAAvBlK,EAAuB,EAATmQ,EAAS,mBAClKzG,EAAe5E,eACnB,SAACqE,EAAO7J,GACN4K,GAAYA,EAAS,CAAEP,OAAQ,CAAErK,aAEnC,CAAC4K,IAGH,OACE,eAACob,GAAA,EAAD,CAAkBC,QAAS,eAAC,KAAD,aAAW9e,MAAM,UAAUyD,SAAUR,EAAc2b,QAASI,YAAKnmB,IAAY6Q,IAAWvB,MAAOA,EAAO2oB,eAAe,U,wHC+BrIytB,GAhCQ,SAAC,GAWK,IAV3Bp2C,EAU0B,EAV1BA,MAU0B,IAT1BhE,eAS0B,MAThB,WASgB,EAR1BtL,EAQ0B,EAR1BA,MACAiQ,EAO0B,EAP1BA,MACAqF,EAM0B,EAN1BA,SAM0B,IAL1B+B,cAK0B,MALjB,QAKiB,MAJ1BH,wBAI0B,SAF1B5Q,GAE0B,EAH1Bm/C,cAG0B,EAF1Bn/C,UACGuK,EACuB,mBACpB+lB,EAAapxB,IAAM2xB,OAAyB,MAClD,EAAoC3xB,IAAMyO,SAAS,GAAnD,oBAAO+iB,EAAP,KAAmBC,EAAnB,KAMA,OAJAzxB,IAAMkP,WAAU,WACduiB,EAAcL,EAAW5sB,QAASutB,eACjC,CAACX,IAGF,gBAACnsB,GAAA,EAAD,CAAaa,QAASA,EAASgK,SAAUA,EAAUrF,MAAO+E,YAAQ/E,GAAQqH,WAAS,EAACD,OAAQA,EAA5F,UACE,eAACmgB,GAAA,EAAD,CAAYjT,IAAKqS,EAAYpf,QAAQ,EAArC,SACGlI,IAEH,eAAC,KAAD,yBAAQooB,SAAS,EAAMV,WAAYA,EAAYh3B,MAAO2lD,YAAW3lD,IAAY6Q,GAA7E,aACGvK,MAED4Q,GAAoBjH,IAAU,eAACmW,GAAA,EAAD,UAAiBnW,Q,qDCxBxC21C,GAVA,SAAC,GAAD,QAAGvvC,aAAH,MAAW,GAAX,MAAe0b,gBAAf,aAAiCzmB,eAAjC,MAA2C,WAA3C,MAAuD4L,wBAAvD,SAAoFrG,EAApF,0BACb,eAAC,GAAD,yBAAgBvF,QAASA,EAASymB,SAAUA,EAAU7a,iBAAkBA,GAAsBrG,GAA9F,aACGwF,EAAMtT,KAAI,SAAC8J,EAAMnJ,GAAP,OACT,eAACshB,GAAA,EAAD,CAAkBhlB,MAAO+xB,EAAWllB,EAAOA,EAAK7M,MAAhD,SACG6M,EAAKyC,OADO5L,U,8DCuBNmiD,GA1BI,SAAC,GAAoE,IAAlEj7C,EAAiE,EAAjEA,SAAU5K,EAAuD,EAAvDA,MAAOiQ,EAAgD,EAAhDA,MAAgD,IAAzCiH,wBAAyC,SAAZrG,EAAY,mBACrF,OACE,eAAC,KAAD,CAAyByxC,MAAOC,KAAhC,SACE,eAAC,KAAD,aACEjrC,WAAW,EACXD,OAAO,QACPmrC,aAAa,WACbnF,OAAO,aACPoF,oBAAqB,CACnB,aAAc,eAEhBziD,MAAOA,EACP4K,SAAUpF,eACR,SAACqN,EAAG7S,GACF4K,EAAS,CAAEP,OAAQ,CAAErK,aAEvB,CAAC4K,IAEHqF,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,GAASA,GACnDY,O,kGC2BGi1C,GA9CE,SAAC,GAUX,IAAD,IATJ9lD,aASI,MATI,GASJ,MARJqX,cAQI,MARK,QAQL,MAPJ/L,eAOI,MAPM,WAON,MANJ4L,wBAMI,aALJjH,aAKI,WALIvP,EAKJ,OAJJmT,aAII,EAHJ2B,mBAGI,WAHS9U,EAGT,MAFJ2R,gBAEI,WAFO3R,EAEP,EADDmQ,EACC,mBAKEuhB,EAAaoE,aAAcx2B,GAEjC,OACE,eAACmX,GAAA,EAAD,aACEnX,MAAOA,EACPiQ,MAAO+E,YAAQ/E,GACfmH,WAAYF,EAAmBjH,GAAS,IAAMA,EAC9CoH,OAAQA,EACR/L,QAASA,EACTgM,WAAS,EACTC,gBAAiB,CACfC,QAAQ,GAEVhC,WAAU,aACRxK,aACE,eAAC,KAAD,CAASjD,MAAM,gBAAf,SACE,eAACgD,GAAA,EAAD,CAAgBjF,SAAS,MAAzB,SACE,eAACmF,GAAA,EAAD,CAAYoH,SAAU9O,YAAQvD,GAAQ,aAAW,YAAYkL,QAASknB,EAAYqE,YArBtE,SAAA5sB,GACtBA,EAAME,kBAoBoH2a,KAAK,MAArH,SACE,eAAC,KAAD,WAKLlP,GAELnD,SAAUA,GACNxB,KChCG9I,GAAQ,YACf4iB,GAAQ1B,KAAOloB,OAEfglD,GAAiB,CACrB,CAAEz2C,MAAO,eAAgBtP,MAAO,QAChC,CAAEsP,MAAO,yBAA0BtP,MAAO,SAC1C,CAAEsP,MAAO,0BAA2BtP,MAAO,UAC3C,CAAEsP,MAAO,4CAA6CtP,MAAO,YAC7D,CAAEsP,MAAO,2BAA4BtP,MAAO,YAG/B,SAASgmD,GAAT,GAA+C,IAAD,IAAvBxlD,UAAuB,MAAlBuH,GAAkB,EAAXyJ,EAAW,EAAXA,QAC1CmsC,EAASC,eAEf,EAAqBxiC,aAAe5a,GAA3B4S,EAAT,qBACMlC,EAAc1L,IAAMmI,aACxB,WACEyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,OACnD7J,GAAWA,MAEb,CAACA,EAAS4B,IAGNoX,EAAcF,KAEdnjB,EADcV,eAAZK,QACcS,QAAQwS,MAExBksC,EAAazgD,IAAMmI,aACvB,YAA4B,IAAzBsE,EAAwB,EAAxBA,OAAQ8kC,EAAgB,EAAhBA,UACHrsB,EAAI,2BAAQzY,GAAR,IAAgB9K,UAC1BiM,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OAEtC,IAAQ6qC,EAAcj0C,EAAdi0C,UAEFp7B,EAAY,SAAZA,EAAa,GAAc,IAG3Bq7B,EACAC,EAJe3lD,EAAW,EAAXA,KAEX4lD,EAA6B5lD,EAA7B4lD,MAAOC,EAAsB7lD,EAAtB6lD,IAAKC,EAAiB9lD,EAAjB8lD,aAGpB,GAAkB,UAAdL,EAEFC,EAAYK,KAAOH,GAAOI,IAAI,EAAG,QACjCL,EAAUI,KAAOF,GAAKG,IAAI,EAAG,aACxB,GAAkB,WAAdP,EAETC,EAAYK,KAAOH,GAAOI,IAAI,EAAG,SACjCL,EAAUI,KAAOF,GAAKG,IAAI,EAAG,cACxB,GAAkB,aAAdP,EAETC,EAAYK,KAAOH,GAAOI,IAAI,EAAG,SACjCL,EAAUI,KAAOF,GAAKG,IAAI,EAAG,aACxB,IAAkB,YAAdP,EAKT,OAAOnP,EAAUrsB,GAHjBy7B,EAAYK,KAAOH,GAAOI,IAAI,EAAG,UACjCL,EAAUI,KAAOF,GAAKG,IAAI,EAAG,UAK/B,GAAIN,EAAUO,UAAYF,KAAOD,GAAcE,IAAI,EAAG,QAAQC,SAAU,CACtE,IAAMC,EAAQ,2BAAQlmD,GAAR,IAAcD,GAAImsB,cAAQ05B,MAAOF,EAAUO,SAASE,cAAeN,IAAKF,EAAQM,SAASE,cAAepR,SAAU9qB,EAAKlqB,KACrIqe,QAAQC,IAAI,CAAE+nC,OAAQ,uBAAwBF,aAC9Cn8B,EAAY,CACVG,SACAC,OAAQ,IACRF,KAAMi8B,EACN57B,QAAS,kBAAM3X,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACnE6a,UAAW,kBAAMA,EAAU,CAAErqB,KAAMkmD,YAGrC9nC,QAAQC,IAAI,8BACZi4B,EAAUrsB,IAIdF,EAAY,CACVG,SACAC,OAAQ,IACRF,OACAK,QAAS,kBAAM3X,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACnE6a,UAAW,kBAAMA,EAAU,CAAErqB,KAAMiqB,SAGvC,CAACtX,EAAUoX,EAAarjB,IAGpB4jB,EAAUvlB,IAAMmI,aAAY,WAChCuD,EAAY,CAAEF,MAAM,EAAM1F,QAAS,QAASqF,QAAS,YACpD,CAACO,IAEE4Z,EAAYtlB,IAAMmI,aAAY,WAClCuD,EAAY,CAAEF,MAAM,EAAM1F,QAAS,UAAWqF,QAAS,cACtD,CAACO,IAEEwK,EAAelW,IAAMmI,aAAY,SAAAsE,GAAM,OAAIg0C,EAAW,CAAEh0C,SAAQ8kC,UAAWjsB,EAAWksB,QAASjsB,MAAY,CAACk7B,EAAYn7B,EAAWC,IAEzI,OACE,eAAC,GAAD,CACEtX,cAAe,CACbjT,GAAImsB,cACJgxB,UAEFn9C,GAAIA,EACJuH,MAAOvH,EACPua,SAAUW,EACVd,YAAY,MACZpJ,QAASA,EACT0B,OAAQ,CACN,CACE1S,GAAI,KACJiI,QAAQ,GAEV,CACEjI,GAAI,QACJ8O,MAAO,QACPgG,UAAU,GAEZ,CACE9U,GAAI,cACJ8O,MAAO,cACPuG,WAAW,EACXC,KAAM,GAER,CACEtV,GAAI,OACJ8O,MAAO,OACP4I,MAAO4tC,IAET,CACEtlD,GAAI,SACJ8O,MAAO,UACP4I,MAAOstC,IAET,CACEhlD,GAAI,QACJ8O,MAAO,QACP4I,MAAOmqC,IAET,CACE7hD,GAAI,MACJ8O,MAAO,MACP4I,MAAOmqC,IAET,CACE7hD,GAAI,YACJ8O,MAAO,kBACP4I,MAAO0tC,GACPvvC,MAAO0vC,GACPe,kBAAkB,EAClBxxC,UAAU,EACVgC,WAAW,GAEb,CACE9W,GAAI,eACJ8O,MAAO,QACP4I,MAAO2tC,GACPp9C,OAAQ,gBAAGy9C,EAAH,EAAGA,UAAH,OAAmB3iD,YAAQ2iD,IAA4B,SAAdA,GACjD5uC,WAAW,EACXjE,SAAU,SAAApB,GACR,IAAQi0C,EAAiCj0C,EAAjCi0C,UAAWK,EAAsBt0C,EAAtBs0C,aAAcD,EAAQr0C,EAARq0C,IAE3BS,EAAKP,KAAOD,GACZ1zC,EAAI2zC,KAAOF,GAGbr2C,EAFY82C,EAAKl0C,EAEG,oCAAiCnS,EACzD,IAAKuP,EACH,GAAkB,UAAdi2C,EAAuB,CACzB,IAAMc,EAAWn0C,EAAE4zC,IAAI,EAAG,UAAUC,SACnBK,EAAGL,SAAWM,IAE7B/2C,EAAQ,0CAEL,GAAkB,WAAdi2C,EAAwB,CACjC,IAAMe,EAAeT,KAAO3zC,GAAG4zC,IAAI,EAAG,SAASS,SAAS,EAAG,QAAQR,SAC7DS,EAAYX,KAAO3zC,GAAG4zC,IAAI,EAAG,UAAUC,SAC7C,GAAIO,EAAeF,EAAGL,SACpBz2C,EAAQ,gEAEU82C,EAAGL,SAAWS,IAE9Bl3C,EAAQ,0CAGP,GAAkB,aAAdi2C,EAA0B,CACnC,IAAMkB,EAAiBZ,KAAO3zC,GAAG4zC,IAAI,EAAG,SAASS,SAAS,EAAG,QAAQR,SAC/DW,EAAcb,KAAO3zC,GAAG4zC,IAAI,EAAG,UAAUC,SAC/C,GAAIU,EAAiBL,EAAGL,SACtBz2C,EAAQ,iEAEY82C,EAAGL,SAAWW,IAEhCp3C,EAAQ,0CAGP,GAAkB,YAAdi2C,EAAyB,CAClC,IAAMoB,EAAgBd,KAAO3zC,GAAG4zC,IAAI,EAAG,UAAUS,SAAS,EAAG,QAAQR,SAC/Da,EAAaf,KAAO3zC,GAAG4zC,IAAI,GAAI,UAAUC,SAC/C,GAAIY,EAAgBP,EAAGL,SACrBz2C,EAAQ,iEAEW82C,EAAGL,SAAWa,IAE/Bt3C,EAAQ,2CAIZA,EAAQ,oBAGZ,OAAOA,O,kCChNbxK,GAAYC,cAAW,SAAA2K,GAAK,MAAK,CACrCpJ,KAAM,GACN5C,OAAQ,CACNqD,aAAc2I,EAAMtJ,QAAQ,GAC5B,QAAS,CACPyE,WAAY6E,EAAMtJ,QAAQ,SAK1BygD,GAA0B,SAAC,GAAwC,IAAtC9gD,EAAqC,EAArCA,UAA0B+gD,GAAW,EAA1BC,WAA0B,oBAChEnhD,EAAUd,KAEVk4C,EAASC,eAETnqC,EAAgB,CACpBjT,GAAImsB,cACJgxB,SACA0I,MAAOG,OAASE,SAChBJ,IAAKE,OAASC,IAAI,GAAI,WAAWC,SACjCR,UAAW,OACXK,aAAcC,OAASC,IAAI,EAAG,UAAUC,UAG1C,OACE,eAAC95C,GAAA,EAAD,yBAAMlG,UAAWgL,mBAAKnL,EAAQU,KAAMP,GAAYoG,WAAS,EAACE,QAAQ,gBAAgBjG,QAAS,GAAO0gD,GAAlG,aACE,eAAC76C,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAACzG,MAAO,CAAEwW,UAAW,SAAlC,SACE,eAACM,GAAA,EAAD,CAAcwH,OAAQ+gC,EAAavyC,cAAeA,EAAenI,QAAQ,WAAWzG,KAAK,QAAQqgB,OAAO,EAAO5N,WAAS,EAACtO,KAAM0D,KAA/H,6BAaR86C,GAAO5f,aAAe,CACpB8f,WAAY,cAGCF,U,kMC/BTG,GAA4B,CAChC,CACEr4C,MAAO,QACPtP,MAAO,eACPqP,KAAMu4C,MAER,CACEt4C,MAAO,OACPtP,MAAO,eACPqP,KAAMw4C,MAER,CACEv4C,MAAO,MACPtP,MAAO,cACPqP,KAAMy4C,MAER,CACEx4C,MAAO,SACPtP,MAAO,WACPqP,KAAM04C,OAIJtiD,GAAYC,cAAW,iBAAO,CAClCuB,KAAM,OAGF+gD,GAA4B,SAAC,GAAuG,IAArGthD,EAAoG,EAApGA,UAAWuhD,EAAyF,EAAzFA,KAAMC,EAAmF,EAAnFA,WAAYC,EAAuE,EAAvEA,WAAYC,EAA2D,EAA3DA,YAAyBC,GAAkC,EAA9CX,WAA8C,EAAlCW,cAAcC,EAAoB,EAApBA,KAASb,EAAW,mBACjIlhD,EAAUd,KAEhB,OACE,gBAACmH,GAAA,EAAD,yBAAMlG,UAAWgL,mBAAKnL,EAAQU,KAAMP,GAAYuG,WAAW,SAASH,WAAS,EAACE,QAAQ,gBAAgBjG,QAAS,GAAO0gD,GAAtH,cACE,eAAC76C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,gBAAC,KAAD,CAAahI,KAAK,QAAlB,UACE,eAACwX,GAAA,EAAD,CAAQnR,QAASi9C,EAAjB,kBACA,eAAC9rC,GAAA,EAAD,CAAQnR,QAASk9C,EAAjB,mBACA,eAAC/rC,GAAA,EAAD,CAAQnR,QAASg9C,EAAjB,uBAGJ,gBAACK,GAAA,EAAD,CAAQC,QAAM,EAAd,UACE,eAAC57C,GAAA,EAAD,CAAMC,MAAI,EAAV,SACE,eAACxB,GAAA,EAAD,CAAYC,QAAQ,KAAKnE,MAAM,cAA/B,SACGq/C,KAAOyB,GAAM5K,OAAO,iBAGzB,eAACzwC,GAAA,EAAD,CAAMC,MAAI,EAAV,SACG86C,GAAY5kD,KAAI,SAAA0lD,GACf,IAAMz/C,EAAOy/C,EAAWp5C,KAExB,OACE,eAAC,KAAD,CAAgCtH,MAAO0gD,EAAWn5C,MAAlD,SACE,eAACrE,GAAA,EAAD,CAAY9D,MAAOshD,EAAWzoD,QAAUsoD,EAAO,YAAc,UAAWp9C,QAAS,kBAAMm9C,EAAaI,EAAWzoD,QAA/G,SACE,eAACgJ,EAAD,OAFUy/C,EAAWzoD,oBAyBvCgoD,GAAQpgB,aAAe,CACrBsgB,WAAY,aACZC,WAAY,aACZC,YAAa,aACbV,WAAY,aACZW,aAAc,cAGDL,UCrGFjgD,GAAQ,aACf4iB,GAAQ1B,KAAOloB,OAEN,SAAS2nD,GAAT,GAAqE,IAAD,IAAzCloD,UAAyC,MAApCuH,GAAoC,MAA7BsK,gBAA6B,SAAXb,EAAW,EAAXA,QACtE,EAAsC4J,aAAe5a,GAArD,2BAASmoD,EAAT,EAASA,QAAS33C,EAAlB,EAAkBA,KAAQoC,EAA1B,KAEaK,EAAkBmxC,GAAY,CAAEpkD,GAAImoD,EAASh+B,MAAO1B,KAAOloB,OAAQwR,OAAQvB,IAAhFzO,IAEF2O,EAAc1L,IAAMmI,aACxB,WACEyF,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBb,MAAM,EAAOqK,SAAS,OACnD7J,GAAWA,MAEb,CAACA,EAAS4B,IAGNoX,EAAcF,KAEd27B,EAAazgD,IAAMmI,aACvB,YAA4B,IAAzBsE,EAAwB,EAAxBA,OAAQ8kC,EAAgB,EAAhBA,UACHrsB,EAAOzY,EACbmB,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OACtCmP,EAAY,CACVG,SACAC,OAAQ,IACRF,OACAK,QAAS,kBAAM3X,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACnE6a,UAAW,kBAAMisB,EAAUrsB,QAG/B,CAACtX,EAAUoX,IAGPO,EAAUvlB,IAAMmI,aAAY,WAChCuD,EAAY,CAAEF,MAAM,EAAM1F,QAAS,QAASqF,QAAS,YACpD,CAACO,IAEE4Z,EAAYtlB,IAAMmI,aAAY,WAClCuD,EAAY,CAAEF,MAAM,EAAM1F,QAAS,UAAWqF,QAAS,cACtD,CAACO,IAEEyK,EAAenW,IAAMmI,aACzB,SAAAsE,GACE,IAAMyY,EAAI,2BAAQzY,GAAR,IAAgBo3B,SAAS,IACnCj2B,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,OACtCmP,EAAY,CACVG,SACAC,OAAQ,IACRF,OACAK,QAAS,kBAAM3X,GAAS,SAAAvB,GAAI,kCAAUA,GAAV,IAAgBwJ,SAAS,EAAOpL,MAAO,gCACnE6a,UAAW,kBAAMA,SAGrB,CAAC1X,EAAUoX,EAAaM,IAGpBpP,EAAelW,IAAMmI,aAAY,SAAAsE,GAAM,OAAIg0C,EAAW,CAAEh0C,SAAQ8kC,UAAWjsB,EAAWksB,QAASjsB,MAAY,CAACk7B,EAAYn7B,EAAWC,IAEzI,OACE,eAAC,GAAD,CACEvqB,GAAIA,EACJuH,MAAOsK,EAAW,aAAe7R,EACjCua,SAAUW,EACVjI,cAAeA,EACfjC,QAASA,EACTwJ,SAAW3I,OAA0B3R,EAAfib,EACtBf,YAAavI,EAAW,KAAO,OAC/BqI,YAAY,QACZxH,OAAQ,CACN,CACE1S,GAAI,KACJiI,QAAQ,GAEV,CACEyP,MAAOsE,GACPlN,MAAO,qBAET,CACE4I,MAAO+D,MAET,CACEzb,GAAI,QACJ8O,MAAO,QACPgG,UAAU,EACVjD,YAEF,CACE7R,GAAI,cACJ8O,MAAO,cACP+C,WACAwD,WAAW,EACXC,KAAM,GAER,CACEtV,GAAI,OACJ8O,MAAO,OACP4I,MAAO4tC,GACPzzC,YAEF,CACE7R,GAAI,SACJ8O,MAAO,UACP4I,MAAOstC,GACPnzC,YAEF,CACE7R,GAAI,QACJ8O,MAAO,QACP4I,MAAOmqC,GACPhwC,YAEF,CACE7R,GAAI,MACJ8O,MAAO,MACP4I,MAAOmqC,GACPhwC,eCxGV,IAAM5M,GAAYC,cAAW,SAAC2K,GAAD,MAAiB,CAC5CpJ,KAAM,CACJL,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,KAC1CtC,UAAW,OACX4L,WAAYxJ,EAAMtJ,QAAQ,GAC1B+S,cAAezJ,EAAMtJ,QAAQ,IAE/B6hD,SAAU,CACRtgD,UAAW+H,EAAMtJ,QAAQ,GACzBsH,QAASgC,EAAMtJ,QAAQ,GACvB,0BAA2B,CACzBH,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,MAE5C,0BAA2B,CACzB3J,gBAAiByJ,EAAMvJ,QAAQQ,WAAWioC,SAE5C,yBAA0B,CACxB5Y,YAAatmB,EAAMvJ,QAAQgU,SAE7B,0BAA0B,eACrBzK,EAAMrJ,WAAW4wB,OAEtB,6BAA8B,CAC5BhxB,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,KAC1ComB,YAAatmB,EAAMvJ,QAAQgU,SAE7B,oBAAqB,CACnB6b,YAAatmB,EAAMvJ,QAAQgU,SAE7B,oBAAqB,CACnB6b,YAAatmB,EAAMvJ,QAAQgU,SAE7B,6BAA8B,CAC5BlU,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,MAE5C,+BAAgC,CAC9B3J,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,MAE5C,2BAA4B,CAC1B3J,gBAAiByJ,EAAMvJ,QAAQ6V,UAAUnV,KACzCL,MAAOkJ,EAAMvJ,QAAQ6V,UAAUksC,aAC/BC,YAAa,EACbp4C,QAAS,GACT,aAAa,2BACRL,EAAMrJ,WAAW+hD,IADtB,IAEE5hD,MAAO,YAET,cAAc,2BACTkJ,EAAMrJ,WAAWw4C,OADtB,IAEEr4C,MAAO,aAGX,6BAA6B,eACxBkJ,EAAMrJ,WAAW4wB,OAEtB,gCAAgC,2BAC3BvnB,EAAMrJ,WAAWgiD,WADtB,IAEE5gD,WAAYiI,EAAMrJ,WAAWiiD,iBAC7B9hD,MAAOkJ,EAAMvJ,QAAQyV,KAAKI,UAC1BtO,QAASgC,EAAMtJ,QAAQ,GACvBH,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,OAE5C,+BAAgC,CAC9BomB,YAAatmB,EAAMvJ,QAAQgU,SAE7B,gCAAgC,eAC3BzK,EAAMrJ,WAAWkiD,WAEtB,qCAAsC,CACpCtiD,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,KAC1ComB,YAAatmB,EAAMvJ,QAAQgU,SAE7B,uCAAuC,eAClCzK,EAAMrJ,WAAW+hD,IAEtB,sCAAsC,eACjC14C,EAAMrJ,WAAW+hD,IAEtB,wCAAyC,CACvCniD,gBAAiByJ,EAAMvJ,QAAQQ,WAAWiJ,MAE5C,qCAAqC,eAChCF,EAAMrJ,WAAWw4C,OAEtB,oCAAoC,eAC/BnvC,EAAMrJ,WAAW4wB,YAuKXuxB,GAlKM,SAAC,GAAyE,IAAvEpoD,EAAsE,EAAtEA,OAAQwkD,EAA8D,EAA9DA,WAAY30B,EAAkD,EAAlDA,cAAkD,IAAnCw4B,cAAmC,aAAnBC,YAAmB,SACtF9iD,EAAUd,KACV6jD,EAAcnyB,iBAA4B,MAC1C9mB,EAAQ5J,eACR8iD,EAAexrB,aAAc1tB,EAAMkR,YAAYI,KAAK,OAE1D,EAAwB1N,mBAAeuyC,OAASE,UAAhD,oBAAOuB,EAAP,KAAauB,EAAb,KACA,EAAwBv1C,mBAAes1C,EAAe,WAAa,gBAAnE,oBAAOjB,EAAP,KAAamB,EAAb,KAEA,EAA2BruC,aAAe,aAAjCugB,EAAT,qBACA,EAA+BvgB,aAAe,cAArCsuC,EAAT,qBA8CM/L,EAASC,eAqCT+L,EAAiB,yCAAG,8BAAAr9C,EAAA,sDAASzC,EAAT,EAASA,MACjC07C,EAAW,CACT/kD,GAAIqJ,EAAMrJ,GACVyR,OAAQ,CACN23C,OAAQ//C,EAAM+/C,OACdvD,MAAOx8C,EAAMw8C,MAAMO,cACnBN,IAAKz8C,EAAMy8C,IAAIM,eAEjB97B,UAAW8F,IARW,2CAAH,sDAYjBi5B,EAAe,yCAAG,8BAAAv9C,EAAA,sDAASzC,EAAT,EAASA,MAC/B07C,EAAW,CACT/kD,GAAIqJ,EAAMrJ,GACVyR,OAAQ,CACN23C,OAAQ//C,EAAM+/C,OACdvD,MAAOx8C,EAAMw8C,MAAMO,cACnBN,IAAKz8C,EAAMy8C,IAAIM,eAEjB97B,UAAW8F,IARS,2CAAH,sDAwBrB,OAZAlc,qBAAU,WACR,IAAMo1C,EAAaR,EAAYt/C,QAE/B,GAAI8/C,EAAY,CACd,IAAMC,EAAcD,EAAWE,SACzBC,EAAUV,EAAe,WAAa,eAE5CQ,EAAYG,WAAWD,GACvBR,EAAQQ,MAET,CAACV,IAGF,gBAACloC,GAAA,EAAD,CAAW9R,UAAU,EAArB,UACG65C,GAAUhlC,aAAmB,2BAAK4hC,GAAN,IAAmBx0C,QAASof,KACxDxM,aAAmB,2BAAKskC,GAAN,IAAuBr2C,UAAWg3C,EAAM73C,QAASof,KACnEw4B,GAAU,eAAC,GAAD,IACX,eAAC,GAAD,CAASnB,KAAMA,EAAMC,WAzFF,WACrB,IAAM4B,EAAaR,EAAYt/C,QAE/B,GAAI8/C,EAAY,CACd,IAAMC,EAAcD,EAAWE,SAE/BD,EAAY7uB,OACZsuB,EAAQO,EAAYI,aAkF6BhC,WApG9B,WACrB,IAAM2B,EAAaR,EAAYt/C,QAE/B,GAAI8/C,EAAY,CACd,IAAMC,EAAcD,EAAWE,SAE/BD,EAAYl4C,OACZ23C,EAAQO,EAAYI,aA6FyD/B,YA1HzD,WACtB,IAAM0B,EAAaR,EAAYt/C,QAE/B,GAAI8/C,EAAY,CACd,IAAMC,EAAcD,EAAWE,SAE/BD,EAAYK,QACZZ,EAAQO,EAAYI,aAmHuF9B,aA/GtF,SAAC4B,GACxB,IAAMH,EAAaR,EAAYt/C,QAE3B8/C,IACkBA,EAAWE,SAEnBE,WAAWD,GACvBR,EAAQQ,KAwGmI3B,KAAMA,IACjJ,eAACp7C,GAAA,EAAD,CAAOxG,UAAWH,EAAQqiD,SAA1B,SACE,eAAC,KAAD,CACEyB,wBAAsB,EACtBC,YAAarC,EACbsC,YAAajC,EACbkC,WAAS,EACTC,UAAQ,EACRC,WAzDkB,SAACC,GACzBjB,EAAmB,CACjB14C,MAAM,EACN5Q,KAAM,OACNuoD,QAASgC,EAAI9gD,MAAMrJ,MAsDfoqD,UAAWf,EACXgB,YAAU,EACVC,yBAAuB,EACvBC,YAAapB,EACb5oD,OAAQA,EAAO2B,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,WAC9Bnc,QAAQ,EACRlnB,OAAQ,IACRue,IAAK+kC,EACL0B,cAAe,GACf1G,OA9FkB,SAACqG,GACzB,IAAMb,EAAaR,EAAYt/C,QAE3B8/C,GACkBA,EAAWE,SAEnBiB,WAGdtvB,EAAe,CACb3qB,MAAM,EACNyC,cAAe,CACbjT,GAAImsB,cACJgxB,SACAiM,QAAQ,EACRziD,MAAO,GACPpC,YAAa,GACbuhD,IAAKE,KAAOmE,EAAItE,OAAOI,IAAI,EAAG,SAASC,SACvCL,MAAO,IAAIhlD,KAAKspD,EAAItE,OACpBH,UAAW,OACXK,aAAcC,KAAOmE,EAAItE,OAAOI,IAAI,EAAG,UAAUC,SACjD3+C,MAAO,GACPmjD,OAAQ,SAyENC,YAAU,EACVC,UAAQ,EACRC,QAAS,CAACC,KAAeC,KAAgBC,KAAmBC,KAAYC,cCxQ5E/gC,GAAQ1B,KAAOloB,OAEN,SAAS4qD,KAA+C,IAAD,yDAAJ,GAAI,IAAlCtgB,qBAAkC,WAAlB3qC,EAAkB,EACpE,EAAiC0I,GAAS,CAAEqgB,UAAWkB,KAA/CrqB,EAAR,EAAQA,MAAOi6C,EAAf,EAAeA,cACf,EAAmCj6C,EAA3BG,EAAR,EAAQA,KAAM4a,EAAd,EAAcA,QAASxL,EAAvB,EAAuBA,QAEjB+gB,EAAgBprB,eAAkB,WACtC+0C,EAAclP,KAEb,CAACjoC,KAAKC,UAAUgoC,GAAgBkP,IAEnC/0C,aAAgB,WACdorB,MACC,CAACA,IAEJ,IAAM9a,EAAOtT,OAAOC,KAAKhC,GAAMsC,KAAI,SAAAoJ,GAAC,sBAAU1L,EAAK0L,OAEnD,MAAO,CACL1L,KAAMqV,EACN8a,gBACAvV,UACAxL,WClBW,SAAS+7C,KACtB,MAAwCD,KAA1B5qD,EAAd,EAAQN,KAAcmwB,EAAtB,EAAsBA,cACd20B,EAAeX,GAAY,CAAEj6B,MAAO1B,KAAOloB,SAA3CwkD,WACFxiC,EAAUC,eAChB,OAAO,eAAC6oC,GAAD,CAAczC,OAAQrmC,EAASsmC,KAAMtmC,EAAShiB,OAAQA,EAAO2B,QAAO,SAAAmQ,GAAC,OAAKA,EAAEw2B,WAAUkc,WAAYA,EAAY30B,cAAeA,ICNtI,IAWek7B,GAXM,WACnB,OACE,gBAACzqC,GAAA,EAAD,CAAW9R,SAAS,KAApB,UACE,eAAC,GAAD,IACA,eAACoR,GAAA,EAAD,CAAK68B,GAAI,EAAT,SACE,eAACoO,GAAD,UCPF59C,GAAO,CACX,CAAExN,GAAI,OAAQ0gB,MAAO,WAAYI,WAAY,CAAEsB,SAAU,OAAQmpC,UAAW,SAC5E,CAAEvrD,GAAI,QAAS0gB,MAAO,WAAYI,WAAY,CAAEsB,SAAU,OAAQC,SAAU,UAC5E,CAAEriB,GAAI,WAAY0gB,MAAO,WAAYI,WAAY,CAAEsB,SAAU,cAC7DlgB,QAAO,SAAA2J,GAAC,OAAIA,KAMC2/C,GAJY,SAAA5mD,GACzB,OAAO,eAAC,GAAD,aAAwB5E,GAAG,qBAAqBwN,KAAMA,IAAU5I,K,2BCAnE6mD,GAAa,CACjB7C,OAAQ1E,GACR2E,KAAM1E,GACN2D,KAAM7I,GACN1/B,KAAM88B,GACN+L,SAAUkD,IAgBGI,GAbI,WACjB,MAAkEnZ,cAAlE,uCAA4D,GAA5D,GAASnwB,gBAAT,MAAoB,OAApB,MAA4BC,gBAA5B,MAAuC,OAAvC,EAAkDhS,EAAlD,mBACMs7C,EAAgBF,GAAWrpC,GAEjC,OACE,gBAACjC,GAAA,EAAD,CAAKse,GAAI,EAAT,UACE,eAAC,GAAD,CAAoBpc,SAAUA,IAC9B,eAAC5G,GAAA,EAAD,CAAStV,MAAO,CAAE2B,UAAW,MAC7B,eAAC6jD,EAAD,aAAetpC,SAAUA,GAAchS,QCPvCpL,GAAYC,cAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,aAAa,CACXwnB,YAAa,CACXjlB,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,MAEzB+hC,KAAM,CACJlqC,WAAY,IACZjB,MAAOL,EAAQM,OAAOmrC,YAKb,SAAS6Z,KAAkB,IAAD,IACjC7lD,EAAUd,KACZmlC,EAAKrgC,aAAc,MAEvB,EAAgBwoC,cAATzyC,EAAP,qBAEQkvB,EAA8ClvB,EAA9CkvB,SAAUE,EAAoCpvB,EAApCovB,mBAAoBC,EAAgBrvB,EAAhBqvB,MAAO3W,EAAS1Y,EAAT0Y,KAErCmyB,EAAiBF,GAAoB,CAAE7nB,SAAS,IAAhD+nB,aACR3lC,aAAgB,WACd2lC,EAAaxb,KACZ,CAACwb,EAAcxb,IAElB,IAAMwN,EAAMzvB,aAAY,SAACqJ,GAAD,OAAiBA,EAAExS,SAAS0kB,KAAOroB,cAAc+uB,MAEzE,SAA0CwN,QAA1C,IAA0CA,IAAO,GAAzChT,EAAR,EAAQA,IAAKmU,EAAb,EAAaA,WAAYD,EAAzB,EAAyBA,aAEnB2U,EAAsB,WAATh6B,EAEbgJ,EAAoBC,eAEpBgxB,EAAgB,iBAAG3U,QAAH,IAAGA,OAAH,EAAGA,EAAYlJ,mBAAf,QAA8B,GAC9C8d,EAAkB,iBAAG7U,QAAH,IAAGA,OAAH,EAAGA,EAAcjJ,mBAAjB,QAAgC,GAClDZ,EAAM,sBAAOye,GAAP,YAA4BC,IAElCC,EAAUrL,GAAkB,MAAO3d,GAEzC,EAAwB3kB,WAAe,GAAvC,oBAAO4tC,EAAP,KAAaC,EAAb,KAEMC,EAAmB9tC,eACvB,SAACqE,EAAOupC,GACNC,EAAQD,KAEV,CAACC,IAGG7M,EAAS2M,EAAQC,EAAO,GAE9B,EAAwB5tC,YAAe,GAAvC,oBAAOwL,EAAP,KAAauiC,EAAb,KAKA,OAJA/tC,aAAgB,WACdguC,YAAW,kBAAMD,GAAQ,KAAO,OAC/B,CAACA,IAGF,gBAAC3mC,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,SAASrG,MAAO,CAAE0H,QAASu8B,EAAK,GAAK,IAAM7jC,QAAS,EAA5E,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAIzG,MAAO,CAAE4e,OAAQ,WAAara,QAAS8W,EAAkB9E,YAAU,SAAU,IAAhG,SACE,eAAC7R,GAAA,EAAD,yCAEF,eAACuB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACslC,GAAD,CAAevV,IAAKA,MAEtB,gBAACvwB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,eAAC6O,GAAA,EAAD,IACA,eAACzD,GAAA,EAAD,CAAUC,GAAIzH,EAAd,SACE,eAAC2P,GAAA,EAAD,CAAKC,GAAI,EAAT,SACGoyB,EACC,eAACS,GAAA,EAAD,CACEC,SAAS,UACTrvC,OACE,eAAC4G,GAAA,EAAD,CACE,aAAW,QACX9D,MAAM,UACNtC,KAAK,QACLqG,QAAS,WACPqoC,GAAQ,IALZ,SAQE,eAAC,KAAD,CAAarrC,SAAS,cAX5B,wDAkBA,eAACurC,GAAA,EAAD,CACEC,SAAS,UACTrvC,OACE,eAAC4G,GAAA,EAAD,CACE,aAAW,QACX9D,MAAM,UACNtC,KAAK,QACLqG,QAAS,WACPqoC,GAAQ,IALZ,SAQE,eAAC,KAAD,CAAarrC,SAAS,cAX5B,SAeE,gBAAC0E,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAGiG,QAAQ,gBAApC,UACE,gBAACJ,GAAA,EAAD,CAAMC,MAAI,EAAV,UACE,eAAC8mC,GAAA,EAAD,UACE,4FAFJ,iGAMA,eAAC/mC,GAAA,EAAD,CAAMC,MAAI,EAACO,IAAE,EAAb,SACE,eAACqQ,GAAA,EAAD,CACEvS,QAAS8W,EAAkB9E,YAAU,WAAY,CAAEigB,MAAK3N,WAAUokB,WAAYlkB,EAAoBgN,KAAM,QACxGpxB,QAAQ,eAFV,+DAad,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,gBAACR,GAAA,EAAD,CAAME,WAAS,EAAC/F,QAAS,EAAzB,UACE,eAAC6F,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ+rC,KAA/B,+DAEF,eAAC1lC,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAAC+5B,GAAD,CAAuBC,eAAgB,IAAM9I,WAAYA,EAAYD,aAAcA,MAErF,eAACzxB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAG4M,GAAI,EAAhB,SACE,eAACqkB,GAAD,CAAerd,OAAQA,QAG3B,gBAAC5nB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,UACE,gBAAC/B,GAAA,EAAD,CAAY3E,UAAWH,EAAQ4mB,YAAa7hB,QAAQ,QAApD,kCACwB6nC,EAAQrwC,OADhC,OAGA,eAACuI,GAAA,EAAD,CAAYC,QAAQ,UAApB,gEAEF,eAACsB,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACuT,GAAA,EAAD,CAAKC,GAAI,EAAT,SAAa4lB,GAAU,eAACgM,GAAD,eAAmBhM,EAAO/V,kBAElD0iB,EAAQrwC,OAAS,GAChB,eAAC8J,GAAA,EAAD,CAAMC,MAAI,EAACO,GAAI,GAAf,SACE,eAACR,GAAA,EAAD,CAAME,WAAS,EAACE,QAAQ,WAAxB,SACE,eAAC6mC,GAAA,EAAD,CAAYT,KAAMA,EAAMU,MAAOX,EAAQrwC,OAAQwI,QAAQ,WAAWorB,MAAM,UAAU9rB,SAAU0oC,gBCvJ5G,IAsBe+Y,GAtBA,kBACb,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOC,OAAK,EAAClK,KAAM,IAAKnxB,UAAWkd,KACnC,eAAC,KAAD,CAAOme,OAAK,EAAClK,KAAMllC,YAAU,KAAM+T,UAAWkd,KAC9C,eAAC,KAAD,CAAOme,OAAK,EAAClK,KAAMllC,YAAU,UAAW+T,UAAWsoB,KACnD,eAAC,KAAD,CAAO+S,OAAK,EAAClK,KAAMllC,YAAU,cAAe+T,UAAW4b,KACvD,eAAC,KAAD,CAAOyf,OAAK,EAAClK,KAAMllC,YAAU,SAAU+T,UAAWkd,KAClD,eAAC,KAAD,CAAOme,OAAK,EAAClK,KAAMllC,YAAU,uBAAwB+T,UAAW4e,KAChE,eAAC,KAAD,CAAOyc,OAAK,EAAClK,KAAMllC,YAAU,SAAU+T,UAAW8a,KAClD,eAAC,KAAD,CAAOugB,OAAK,EAAClK,KAAMllC,YAAU,WAAY+T,UAAWpqB,KACpD,eAAC,KAAD,CAAOylD,OAAK,EAAClK,KAAMllC,YAAU,eAAgB+T,UAAW0gB,KACxD,eAAC,KAAD,CAAO2a,OAAK,EAAClK,KAAMllC,YAAU,oBAAqB+T,UAAWygB,KAC7D,eAAC,KAAD,CAAO4a,OAAK,EAAClK,KAAMllC,YAAU,cAAe+T,UAAWnU,KACvD,eAAC,KAAD,CAAOwvC,OAAK,EAAClK,KAAMllC,YAAU,oBAAqB+T,UAAW2f,KAC7D,eAAC,KAAD,CAAO0b,OAAK,EAAClK,KAAMllC,YAAU,YAAa+T,UAAW6hB,KACrD,eAAC,KAAD,CAAOwZ,OAAK,EAAClK,KAAMllC,YAAU,YAAa+T,UAAWi7B,KACrD,eAAC,KAAD,CAAOI,OAAK,EAAClK,KAAMllC,YAAU,WAAY+T,UAAW0nB,KACpD,eAAC,KAAD,CAAO2T,OAAK,EAAClK,KAAMllC,YAAU,mBAAoB+T,UAAWm7B,KAC5D,eAAC,KAAD,CAAOE,OAAK,EAAClK,KAAMllC,YAAU,eAAgB+T,UAAWgc,S,qBCf7Csf,GAdU,WACvB,IAAM/1C,EAAQkgC,eACRiH,EAASC,eAEfp4C,IAAMkP,WAAU,YACV83C,EAAIC,iBAAoBC,eAAYnpD,YAAQo6C,IAAYp6C,YAAQiT,KAClEqI,QAAQC,IAAR,qCAA0C6+B,EAA1C,YAAoDnnC,IACpDm2C,KAAUC,SAASjP,EAAQ,CACzBnnC,aAGH,CAACA,EAAOmnC,KCOb,IAOenuC,gBAPS,SAAClP,EAAiBmP,GACxC,IAAI0jC,EAAU1jC,EAAQ0jC,QAChB0Z,EAAWvsD,GAASA,EAAMwsD,QAAUxsD,EAAMwsD,OAAOD,SAEvD,OADA1Z,EAAQ0Z,SAAWA,GAAsB1Z,EAAQ0Z,SAC1C,CAAE1Z,aAGI3jC,EAnBf,SAAmBpK,GACjB,IAAQ+tC,EAAY/tC,EAAZ+tC,QAER,OADAoZ,KAEE,eAAC,IAAD,CAAiBpZ,QAASA,EAA1B,SACE,eAAChkB,GAAD,UACE,eAAC,GAAD,W,UCLO49B,GAVG,CACd,mBAAsB,YACtB,6BAAgC,iDAChC,mBAAsB,YACtB,kBAAqB,sBACrB,6BAAgC,6BAChC,MAAS,ICJAC,GAAO,CAClBC,oBAAqB,cACrBC,oBAAqB,aAIVrrD,GAAO,SAAAwO,GAAK,gCACvBlJ,MAAOkJ,EAAMvJ,QAAQyV,KAAKhV,SACvB8I,EAAMrJ,WAAW4wB,OAFG,IAGvBhxB,gBAAiByJ,EAAMvJ,QAAQQ,WAAWioC,QAC1C,eAAgB,CAEd3oC,gBAAiByJ,EAAMvJ,QAAQM,OAAOC,UAwD3BohB,qBApDO,SAAApY,GAAK,MAAK,CAC9B,UAAW,CACT28C,QACA,yBAA0B,CACxBG,UAAW,WAEb,YAAa,CACX/kD,WAAYiI,EAAMrJ,WAAWq4C,gBAE/Bx9C,KAAK,yBACHwV,OAAQ,GACLxV,GAAKwO,IAFN,IAKF,cAAe,CACbzJ,gBAAiByJ,EAAMvJ,QAAQQ,WAAWioC,eAqChB,CAAE5rC,KAAM,kBAA3B8kB,EA5Bf,SAAqBrjB,GAEnB,MAA4BA,EAApBkB,gBAAR,MAAmB,KAAnB,EAEA,OAAO,eAAC,WAAD,UAAiBA,OC9Bb6sC,GAAUia,cACVntD,GAAgBoyB,OAAeg7B,kBAC/BC,G9NKE,SAAwBna,EAAkBlzC,EAAyBstD,GAEtC,qBAAXl7B,QAAiCA,OAAhE,IAEMm7B,GAAoBC,EAEpBC,EAsBR,SAA0BA,EAAkBva,GAC1C,OAAOwa,YAA0BnrD,OAAOorD,OAAO,GAAIF,EAAa,CAAEZ,OAAQe,YAAc1a,MAvBpE2a,CAAiBhqD,EAAUqvC,GACzC4a,EAAmBC,YAAehpD,EAAe0oD,GAkBvD,OAhBkCO,YAChCC,YAAgBC,IAAOC,YAAiBjb,IACxCqa,EAAoBA,IAAsB,SAACx7C,GAAD,OAAYA,GAFtBi8C,CAGhCI,IAGYC,CAA0BP,EAAkB9tD,G8NpBvCsuD,CAAepb,GAASlzC,IAEhCuuD,IADWlB,GAAMliC,SACLqjC,YAAanB,KAMtC,SAASoB,GAAetpD,GACtB,IAAQkB,EAAalB,EAAbkB,SACFqoD,EAAcC,cAEpB,OACE,gBAAC,IAAD,CAAkBv+C,MAAOs+C,EAAzB,UACE,eAACE,GAAD,IACA,eAAC,GAAD,UAAWvoD,OAKjB,SAASwoD,GAAW1pD,GAClB,IAAQkB,EAAalB,EAAbkB,SACR,OACE,eAAC,IAAD,CAAUgnD,MAAOA,GAAjB,SACE,eAAC,IAAD,CAAajyC,QAAS,KAAMmzC,UAAWA,GAAvC,SACE,eAAC,KAAD,CAAyBlM,MAAOC,KAAhC,SACE,eAACmM,GAAD,UAAiBpoD,UAtB3BkmD,EAAIC,kBAAoBC,eAAWC,KAAUoC,KAAK,iBAElDC,WAAQC,UAAUC,IAqCHC,OAVf,WACE,OACE,eAACL,GAAD,UACE,eAAC,IAAMM,SAAP,CAAgBz9B,SAAU,+BAA1B,SACE,eAAC,GAAD,CAAWwhB,QAASA,U,gBC9CRxvB,QACW,cAA7B0O,OAAOw6B,SAASwC,UAEe,UAA7Bh9B,OAAOw6B,SAASwC,UAEhBh9B,OAAOw6B,SAASwC,SAASC,MACvB,2DCXNC,cAEAl4B,IAASm4B,OAAO,eAAC,GAAD,IAAS/tD,SAASs3C,eAAe,SD0H3C,kBAAmB0W,WACrBA,UAAUC,cAAcC,MAAMlxC,MAAK,SAAAmxC,GACjCA,EAAaC,iB,iCErIJ,QAA0B,8C,gCCCzC,kHAIanvB,EAAMrhB,EAAQ,KAG3BqhB,EAAIovB,OAAOC,OAASA,SACpBrvB,EAAIovB,OAAOE,YAAc,IAAItvB,EAAIuvB,2BAA2B,CAC1DC,eAAgBC,mBAGX,IAAMxmC,EAAS,IAAI+W,EAAI0vB,SAASC,eAK1BpnC,EAAS,CACpBroB,aAAc,eACdE,QAAS,UACTE,MAAO,QACPC,SAAU,WACVF,OAAQ,SACRF,QAAS,UACT+0C,gBAAiB,oB,iCCzBnB,iHAEa0a,EAAqB,CAChCt/C,MAAM,EACN5Q,KAAM,MACNyU,OAAQ,GACRlB,YAAY,EACZD,YAAY,EACZD,cAAe,IAGXxT,EAAe,CACnB,kBAAmB,CAAE+Q,MAAM,IAGhBu/C,EAAe,SAAC/vD,EAAIL,GAAL,MAAkB,CAAEC,KAAM,gBAAiBI,KAAIL,YAEpE,SAASqwD,IAAuC,IAA/BlwD,EAA8B,uDAAtBL,EAAcoE,EAAQ,uCACpD,OAAQA,EAAOjE,MACb,IAAK,gBACH,OAAOC,YAAYC,EAAO+D,GAC5B,IAAK,SACH,OAAOpE,EACT,QACE,OAAOK,K,gCCxBb,gOAKaiK,EAAgB,WAAyB,IAAxB1F,EAAuB,uDAAhB,KAC7BwL,EAAQ5J,cACd,OAAOs3B,YAAc1tB,EAAMkR,YAAYI,KAAK9c,KAGjCqe,EAAc,WACzB,IAAM3f,EAAUmK,aAAY,SAACqJ,GAAD,YAA8BrW,IAAlBqW,EAAEhT,OAAO6a,QAEjD,SADiBlR,aAAY,SAACqJ,GAAD,YAA8BrW,IAAlBqW,EAAEhT,OAAO6a,SAC9Brb,IAGTyf,EAAa,WACxB,IAAMC,EAAWC,IACX1M,EAAQ9I,aAAY,SAACqJ,GAAD,yCAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,aAAhE,QAAyE,MAC7Fi6C,EAAcC,aAAWC,MAAM,KACrC,SAAO1tC,GAAYwtC,EAAYp/B,WAAU,SAAAu/B,GAAE,OAAIA,EAAGC,OAAO93B,gBAAkBviB,EAAMq6C,OAAO93B,kBAAkB,IAG/FvC,EAAgB,SAAAh1B,GAC3B,OAAOgE,IAAMmI,aAAY,WACvB,IAAMmjD,EAAMz+B,OAAOrhB,KAAKxP,EAAM,UAC9BsvD,GAAOA,EAAI7mD,UACV,CAACzI,KAGOiuB,EAAkB,SAAAshC,GAC7B,IAEEC,EACAttD,EAFAutD,EADa5+B,OAAOw6B,SAAS5jD,OAAOq+B,UAAU,GACrBqpB,MAAM,KAIjC,IAAKjtD,EAAI,EAAGA,EAAIutD,EAAcnuD,OAAQY,IAGpC,IAFAstD,EAAiBC,EAAcvtD,GAAGitD,MAAM,MAErB,KAAOI,EACxB,YAA6BrwD,IAAtBswD,EAAe,IAA0BE,mBAAmBF,EAAe,M,iCCxCxF,8GAIMvrD,EAAYC,aAAW,SAAC2K,GAAD,OAC3B1K,YAAa,CACXsoC,gBAAiB,CACf9mC,MAAOkJ,EAAMvJ,QAAQM,OAAOC,MAC5BC,WAAY+I,EAAMvJ,QAAQS,QAAQwS,MAClC,UAAW,CACTzS,WAAY+I,EAAMvJ,QAAQS,QAAQC,YAM3B,SAASkgC,EAAT,GAA6E,IAAD,IAAjDvT,iBAAiD,MAArC,GAAqC,EAAjCX,EAAiC,EAAjCA,YAAaG,EAAoB,EAApBA,QAASU,EAAW,EAAXA,QACxE9tB,EAAUd,EAAU,IAEpB2sB,EAAa5sB,IAAMmI,aACvB,SAAA+4B,GAAQ,OAAI,SAAA78B,GACVA,GAASA,EAAM+c,iBAAmB/c,EAAM+c,kBACxC,IAAMuL,EAAmB,YAAbuU,EAAyBlT,EAA2B,QAAbkT,EAAqB/S,EAAUU,EACxEhC,OAAOrhB,KAAKmhB,EAAK,UACvBloB,WAEN,CAACupB,EAAaG,EAASU,IAGzB,OACE,cAAC,IAAD,CAAY/mB,QAAM,EAAC2jB,UAAU,OAA7B,SACE,cAAC,IAAD,CAAMnkB,WAAS,EAAC/F,QAAS,EAAzB,SACGotB,EACEvxB,KAAKC,KACLH,OAAOC,KACPI,KAAI,SAACusB,EAAG5rB,GAAJ,OACH,cAAC,IAAD,CAAMmJ,MAAI,EAAV,SACE,cAAC,IAAD,CAAQhI,KAAK,QAAQ6B,UAAWH,EAAQ0nC,gBAAiB/iC,QAASknB,EAAW9C,GAA7E,SACGA,KAFL,mBAA4BA,EAA5B,YAAiC5rB,a,wsBCHhC0gB,EAAqB,SAAC,GAAD,IAAYlgB,EAAZ,EAAGqrC,QAAH,IAAoBxnC,aAApB,WAA4BrH,EAA5B,EAA0C0E,EAA1C,wBAAsDlB,GAAU,cAACA,EAAD,aAAQ1D,GAAIuH,GAAW3C,KAE5G+rD,EAAmB,SAAC,GAAD,QAC9B7lD,eAD8B,MACpB,aADoB,MAE9BF,iBAF8B,MAElB,OAFkB,MAG9B6K,eAH8B,MAGpB,OAHoB,MAI9BiP,aAJ8B,SAK3BrU,EAL2B,wBAM1B,cAAC4M,EAAD,aAAcnS,QAASA,EAAStC,KAAMooD,IAAUhxD,KAAK,OAAO6V,QAASA,EAAS7K,UAAWA,EAAW8Z,MAAOA,GAAWrU,KA6EtHpL,GA3EcgjB,aAAW,SAAApY,GAAK,OAClC1K,YAAa,CACX+iB,MAAO,CACLtO,IAAK,EACLuO,MAAO,EACPpP,OAAO,aAAD,OAAelJ,EAAMvJ,QAAQQ,WAAWJ,YALhCuhB,CAQlBG,KAmEgBljB,aAAW,gBAAGoB,EAAH,EAAGA,QAASC,EAAZ,EAAYA,QAAZ,OAC3BpB,YAAa,CACX0R,OAAQ,CACNA,OAAQtQ,EAAQ,IAElBsqD,SAAU,CACRhjD,QAAS,EACTpG,YAAa,GACbN,aAAc,EACdL,WAAY,UACZ,UAAW,CACTH,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQC,OAGhCkW,cAAe,CACb3P,aAAc,EACd7F,SAAU,GACVE,WAAY,IACZjB,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5BjC,SAAU,IACVtI,OAAQ,GACR,UAAW,CACTsB,WAAYR,EAAQS,QAAQC,OAGhC8pD,eAAgB,CACdvjD,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAYR,EAAQS,QAAQgJ,KAC5B,UAAW,CACTjJ,WAAYR,EAAQS,QAAQC,OAGhC+pD,aAAc,CACZrpD,SAAU,GACVspD,UAAW,IACXzjD,aAAc,EACd5G,MAAOL,EAAQM,OAAOC,MACtBC,WAAY,QACZ,UAAW,CACTA,WAAY,QACZoJ,QAAS,IAEXzI,YAAa,GACbN,aAAc,GACd3B,OAAQ,GACRD,MAAO,WAKP0X,EAAejY,IAAMisD,YAAW,WA+BpCltC,GACC,IAuCgBtJ,EAvCjB,IA9BEza,GAAI2jC,OA8BN,WA9BWzjC,EA8BX,MA7BEukB,cA6BF,WA7BWvkB,EA6BX,MA5BEN,YA4BF,MA5BS,MA4BT,MA3BE6V,eA2BF,MA3BY,GA2BZ,MA1BE7K,iBA0BF,MA1Bc,SA0Bd,MAzBEjE,aAyBF,MAzBU,UAyBV,MAxBEmE,eAwBF,MAxBY,MAwBZ,MAvBEzD,iBAuBF,MAvBc,QAuBd,MAtBEwtB,mBAsBF,MAtBgB,UAsBhB,MArBExwB,YAqBF,MArBS,QAqBT,MApBEyK,aAoBF,MApBU,GAoBV,MAnBE+C,gBAmBF,WAnBa3R,EAmBb,MAlBEsI,YAkBF,MAlBS0oD,IAkBT,MAjBEj+C,sBAiBF,MAjBkB,GAiBlB,OAhBEk+C,eAgBF,gBAfEzsC,cAeF,gBAdEha,gBAcF,YAdYxK,EAcZ,QAbE8Q,gBAaF,YAbY9Q,EAaZ,QAZEkK,iBAYF,YAZalK,EAYb,QAXEklB,gBAWF,YAXYllB,EAWZ,QAVEuR,eAUF,YAVWvR,EAUX,QATEiS,kBASF,YATcjS,EASd,QAREgG,kBAQF,YARchG,EAQd,QAPEk0B,sBAOF,YAPkBl0B,EAOlB,QANE4W,kBAMF,gBALE3Q,cAKF,YALUjG,EAKV,GAJE4F,GAIF,EAJEA,SACGuK,GAGL,iBACMtK,GAAUd,EAAU,IACpB4K,GAAQ5J,cACR6D,GAAaC,cACb/J,GAAK2jC,GAAUlf,GAAUA,EAAOld,MACtC,GAA2BqT,YAAe5a,IAAjCm7B,GAAT,qBACA,GAAgCn2B,IAAMyO,SAAmC,MAAzE,qBAAOwP,GAAP,MAAiBC,GAAjB,MAEM0gB,GAAUhhC,KAAKC,UAAUwN,IACzBwzB,GAAe7+B,IAAMmI,aAAY,WACrCguB,GAAe,aACbv7B,OACA4Q,MAAM,EACNyC,cAAejP,YAASiP,KACrBrQ,KAAKqR,MAAM2vB,QAEf,CAACzI,GAAgByI,GAAS3wB,GAAerT,IAEtC8Q,GAAc1L,IAAMmI,aAAY,WACpC+V,GAAY,MACZlS,IAAWA,OACV,CAACA,GAASkS,KAWPkuC,GAAS,CACbv/C,WACAnH,QAXkB1F,IAAMmI,aACxB,SAAA9D,GACE6Z,GAAY7Z,EAAM8a,eAClBzZ,IAAWA,GAAQrB,GACnBw6B,OAEF,CAACn5B,GAASm5B,KAMVx/B,OACA6B,cAYF,OATiBuU,EAUf,qCACGiK,IAASD,GAAUb,EAAmB,2BAAKa,GAAN,IAAcxB,YAAUjS,QAASN,GAAatG,YAAUgb,WAAS3T,UAAQU,gBAC/G,cAAC,IAAD,CACEvH,UAAWA,EACXrD,MACEsK,EACE,GACEU,YAAWkD,GACbA,EAEA,cAAC,IAAD,CAAY3K,QAAQ,KAAKnE,MAAM,UAA/B,SACG8O,IATT,SAcE,+BACe,YAAZ3K,EACC,cAAC,IAAD,2BAAYsmD,IAAZ,IAAoBzqD,MAAOA,EAA3B,SACGb,MAEW,gBAAZgF,EACF,cAAC,IAAD,yBAAagE,MAAOA,GAAWsiD,IAA/B,IAAuC/sD,KAAK,YAC9B,kBAAZyG,EACF,cAAC,IAAD,2BAAYsmD,IAAZ,IAAoBlrD,UAAWH,GAAQmX,cAAepG,UAAWA,GAAW3Q,MAAOA,GAAnF,SACGL,MAEW,mBAAZgF,EACF,cAAC,IAAD,2BAAYsmD,IAAZ,IAAoBlrD,UAAWH,GAAQ+qD,eAAgBh6C,UAAWA,GAAW3Q,MAAOA,GAApF,SACGL,MAEW,iBAAZgF,EACF,cAAC,IAAD,2BAAYsmD,IAAZ,IAAoBlrD,UAAWH,GAAQgrD,aAAcj6C,UAAWA,GAAW3Q,MAAOA,GAAlF,SACGL,MAEW,aAAZgF,EACF,cAAC,IAAD,2BAA0BsmD,IAA1B,aACGtrD,KADYgJ,GAGD,aAAZhE,EACF,cAAC,IAAD,yBAAsB+N,QAAQ,EAAM3S,UAAWH,GAAQ8qD,UAAcO,IAArE,aACE,cAAC,IAAD,CAAcrqD,QAAS+H,MADVA,GAGD,eAAZhE,EACF,cAAC,IAAD,yBAAY5E,UAAWH,GAAQ8Q,OAAQlQ,MAAOA,GAAWyqD,IAAzD,aACG5oD,GAAQ,cAACA,EAAD,CAAMd,SAAS,aAEZ,qBAAZoD,EACF,cAAC,IAAD,yBAAQnE,MAAM,UAAUmE,QAAQ,aAAgBsmD,IAAhD,aACGtrD,MAEW,SAAZgF,EACF,cAAC,IAAD,yBACEnE,MAAM,YACNR,MAAO,CACLZ,MAAO,GACPC,OAAQ,IAEVsF,QAASA,GACLsmD,IAPN,aASG5oD,GAAQ,cAACA,EAAD,CAAMrC,MAAO,CAAE0Q,QAAS,QAErB,cAAZ/L,EACF,cAAC,IAAD,yBAAQgM,UAAWA,GAAWhM,QAASA,EAASnE,MAAOA,GAAkByqD,IAAzE,IAAiFjrD,MAAOA,GAAxF,SACGL,MAEW,kBAAZgF,EACF,cAAC,IAAD,yBAAQzG,KAAK,QAAQyG,QAAQ,WAAW3E,MAAO,CAAEZ,MAAO,KAAU6rD,IAAlE,aACGtrD,MAEW,aAAZgF,EACF,cAAC,IAAD,yBAAQA,QAAQ,WAAWnE,MAAOA,EAAO00C,UAAW7yC,GAAQ,cAACA,EAAD,KAAc4oD,IAA1E,aACGtrD,MAEW,aAAZgF,EACF,cAAC,IAAD,yBAAQnE,MAAOA,GAAkByqD,IAAjC,aACGtrD,MAEW,SAAZgF,EACF+G,EACE,cAAC,IAAD,CAAYlL,MAAM,gBAAgBmE,QAAQ,UAA1C,SACGhF,KAGH,cAAC,IAAD,yBAAMa,MAAOA,EAAOmE,QAAS+pB,EAAaxtB,UAAWA,EAAWlB,MAAO,CAAE4e,OAAQ,YAAiBqsC,IAAlG,aACGtrD,MAIL,eAAC,IAAD,yBACEzB,KAAMA,EACNyG,QAAQ,WACRnE,MAAOA,EACPR,MAAO,CACLQ,MAAOkL,EAAYuiB,IAAgCvkB,GAAMvJ,QAAQS,QAAQwS,MAAS1J,GAAMvJ,QAAQM,OAAOC,QAErGuqD,IAPN,cASG5oD,GAAQ,cAACA,EAAD,IACR1C,IAAY,qBAAKK,MAAO,CAAE6E,WAAYxC,EAAO,EAAI,EAAGyC,YAAcnB,GAAiB,EAAJ,GAAnE,SAA6EhE,gBA7GnGqrD,GAKC12C,EAJA,cAAC,IAAD,CAAoBpO,MAAI,EAAxB,SACGoO,GADQhF,MAqHFwH,O,8yBCzWA,ICWF8K,EAAwB,CAAC,UAAW,MAAO,OAQ3C0Q,EAAgB,CAC3B,CAAEj5B,MAAO,mBAAoBsP,MAAO,+BAAgC2G,QAAS,kEAC7E,CAAEjW,MAAO,eAAgBsP,MAAO,2BAA4B2G,QAAS,0CACrE,CAAEjW,MAAO,UAAWsP,MAAO,gCAC3B,CAAEtP,MAAO,kBAAmBsP,MAAO,+BACnC,CAAEtP,MAAO,eAAgBsP,MAAO,wDAGrBkY,EAAgByR,EAAcl2B,KAAI,SAAA8uD,GAAE,OAAIA,EAAG7xD,SAU3Cq5B,EAA8B,CACzC,CACEr5B,MAAO,gCACPwhC,MAAO,eACPlyB,MAAO,2DAET,CACEtP,MAAO,sBACPwhC,MAAO,iBACPlyB,MAAO,kDACP2G,QAAS,mGAEX,CACEjW,MAAO,iBACPsP,MAAO,6BACP2G,QAAS,6FAEX,CACEjW,MAAO,iBACPsP,MAAO,0BACP2G,QACE,iMAEJ,CAAEjW,MAAO,cAAesP,MAAO,uEAC/B,CAAEtP,MAAO,qBAAsBsP,MAAO,6CAG3B2Y,EAA4CoR,EAA4Bt2B,KAAI,SAAA+uD,GAAG,OAAIA,EAAI9xD,SAgB9F+xD,EAAmB,SAAA/xD,GAAK,OAAKA,EAAMud,SAAS,uBAErC4b,EAAmB,CAC9B,CAAEn5B,MAAO,qBAAsBwhC,MAAO,aAAclyB,MAAO,8BAC3D,CACEtP,MAAO,wBACPwhC,MAAO,iBACPlyB,MAAO,yCACP2G,QAAS,iFACTxN,OAAQspD,GAEV,CACE/xD,MAAO,wBACPwhC,MAAO,iBACPlyB,MAAO,kCACP2G,QAAS,sFACTxN,OAAQspD,GAEV,CACE/xD,MAAO,kBACPwhC,MAAO,kBACPlyB,MAAO,4BACP2G,QAAS,oGACTxN,OAAQspD,GAEV,CAAE/xD,MAAO,oCAAqCwhC,MAAO,mBAAoBlyB,MAAO,6CAA8C7G,OAAQspD,GACtI,CACE/xD,MAAO,yCACPwhC,MAAO,oBACPlyB,MAAO,kDACP7G,OAAQspD,GAEV,CACE/xD,MAAO,gBACPsP,MAAO,iBACPkyB,MAAO,aACPvrB,QACE,2LACFxN,OAAQspD,GAEV,CACE/xD,MAAO,+BACPwhC,MAAO,4BACPlyB,MAAO,gCACP2G,QACE,oLACFxN,OAAQspD,GAEV,CACE/xD,MAAO,sCACPwhC,MAAO,yBACPlyB,MAAO,uCACP2G,QAAS,gFACTxN,OAAQspD,GAEV,CACE/xD,MAAO,iCACPwhC,MAAO,0BACPlyB,MAAO,sCACP2G,QAAS,yGACTxN,OAAQspD,GAEV,CAAE/xD,MAAO,cAAesP,MAAO,oCAAqC7G,OAAQspD,GAC5E,CACE/xD,MAAO,gCACPwhC,MAAO,4BACPlyB,MAAO,iDACP2G,QAAS,yGACTxN,OAAQspD,IAIChqC,EAAuBoR,EAAiBp2B,KAAI,SAAAivD,GAAE,OAAIA,EAAGhyD,SAgBrD05B,EAAsB,CACjC,CAAE15B,MAAO,sBAAuBsP,MAAO,uBAAwB2G,QAAS,mDACxE,CAAEjW,MAAO,eAAgBsP,MAAO,uBAChC,CAAEtP,MAAO,yBAA0BsP,MAAO,2CAA4C2G,QAAS,qCAC/F,CAAEjW,MAAO,qBAAsBsP,MAAO,sBAAuB2G,QAAS,+CACtE,CACEjW,MAAO,wBACPsP,MAAO,yBACP2G,QAAS,4HAEX,CACEjW,MAAO,+BACPwhC,MAAO,eACPlyB,MAAO,iCACP2G,QAAS,6DAEX,CAAEjW,MAAO,SAAUsP,MAAO,WAC1B,CACEtP,MAAO,sBACPsP,MAAO,uBACP2G,QAAS,sGAEX,CAAEjW,MAAO,aAAcsP,MAAO,aAAc2G,QAAS,yDACrD,CACEjW,MAAO,eACPsP,MAAO,gBACP2G,QAAS,gIAEX,CAAEjW,MAAO,kBAAmBsP,MAAO,mBAAoB2G,QAAS,gFAChE,CACEjW,MAAO,oCACPwhC,MAAO,gBACPlyB,MAAO,qCACP2G,QAAS,mHAIA6R,EAA4B4R,EAAoB32B,KAAI,SAAAkvD,GAAE,OAAIA,EAAGjyD,SAI7Do5B,EAAyB,CACpC,CAAEp5B,MAAO,UAAWsP,MAAO,kCAAmC2G,QAAS,4DACvE,CAAEjW,MAAO,UAAWsP,MAAO,6BAA8B2G,QAAS,uCAClE,CACEjW,MAAO,gBACPsP,MAAO,mDACP2G,QACE,oKAEJ,CACEjW,MAAO,oBACPwhC,MAAO,WACPlyB,MAAO,4BACP2G,QAAS,oJAEX,CACEjW,MAAO,4BACPwhC,MAAO,cACPlyB,MAAO,qCACP2G,QAAS,yEAEX,CACEjW,MAAO,qCACPwhC,MAAO,cACPlyB,MAAO,8CACP2G,QAAS,yGAIA2R,EAAmCwR,EAAuBr2B,KAAI,SAAA6+B,GAAE,OAAIA,EAAG5hC,SAGvE25B,EAAiB,CAC5B,CAAE35B,MAAO,UAAWsP,MAAO,WAAY2G,QAAS,gFAChD,CAAEjW,MAAO,QAASsP,MAAO,SAAU2G,QAAS,mEAC5C,CAAEjW,MAAO,cAAesP,MAAO,eAAgB2G,QAAS,yDACxD,CAAEjW,MAAO,eAAgBsP,MAAO,gBAAiB2G,QAAS,qDAC1D,CACEjW,MAAO,SACPsP,MAAO,UACP2G,QAAS,gHAEX,CAAEjW,MAAO,aAAcsP,MAAO,eAC9B,CAAEtP,MAAO,aAAcsP,MAAO,cAAe2G,QAAS,uCACtD,CACEjW,MAAO,mBACPsP,MAAO,mBACP2G,QAAQ,6FAEV,CACEjW,MAAO,iBACPsP,MAAO,kBACP2G,QAAS,qJAIAoS,EAAkBsR,EAAe52B,KAAI,SAAAmvD,GAAE,OAAIA,EAAGlyD,SAW9C45B,EAAkB,CAC7B,CACE55B,MAAO,gBACPsP,MAAO,iBACP2G,QAAS,uHAEX,CAAEjW,MAAO,yBAA0BsP,MAAO,0BAA2B2G,QAAS,qEAC9E,CACEjW,MAAO,iBACPsP,MAAO,kBACP2G,QAAS,qHAGX,CACEjW,MAAO,YACPsP,MAAO,aACP2G,QAAS,0GAEX,CAAEjW,MAAO,iBAAkBsP,MAAO,kBAAmB2G,QAAS,+DAC9D,CAAEjW,MAAO,kBAAmBsP,MAAO,mBAAoB2G,QAAS,4FAChE,CACEjW,MAAO,+BACPsP,MAAO,gCACP2G,QAAS,+FAIAqS,EAAoB,CAC/B,gBACA,yBACA,iBACA,YACA,iBACA,kBACA,gCA2BWmR,EAAmB,CAC9B,CAAEz5B,MAAO,aAAcsP,MAAO,gCAC9B,CAAEtP,MAAO,mBAAoBsP,MAAO,sCACpC,CACEtP,MAAO,cACPsP,MAAO,gCACP2G,QAAS,wGAEX,CAAEjW,MAAO,iBAAkBsP,MAAO,mCAClC,CAAEtP,MAAO,eAAgBsP,MAAO,+BAChC,CACEtP,MAAO,kBACPsP,MAAO,4CACP2G,QAAS,2EAEX,CACEjW,MAAO,kBACPsP,MAAO,iCACP2G,QAAS,sFAEX,CAAEjW,MAAO,aAAcsP,MAAO,6BAC9B,CAAEtP,MAAO,cAAesP,MAAO,8BAC/B,CAAEtP,MAAO,iBAAkBsP,MAAO,iCAClC,CACEtP,MAAO,6BACPsP,MAAO,iDACP2G,QAAS,0FAEX,CACEjW,MAAO,wBACPsP,MAAO,uCACP2G,QAAS,iGAEX,CAAEjW,MAAO,MAAOsP,MAAO,qBAAsB2G,QAAS,sDACtD,CAAEjW,MAAO,MAAOsP,MAAO,qBAAsB2G,QAAS,2DACtD,CAAEjW,MAAO,MAAOsP,MAAO,qBAAsB2G,QAAS,sDACtD,CACEjW,MAAO,eACPsP,MAAO,8BACP2G,QAAS,2FAEX,CACEjW,MAAO,6BACPsP,MAAO,kDACP2G,QAAS,mEAEX,CAAEjW,MAAO,UAAWsP,MAAO,kCAAmC2G,QAAS,sDACvE,CAAEjW,MAAO,sBAAuBsP,MAAO,qCAAsC2G,QAAS,oEAEtF,CACEjW,MAAO,4BACPsP,MAAO,2CACP2G,QAAS,mIAEX,CAAEjW,MAAO,mBAAoBsP,MAAO,qCAAsC2G,QAAS,6DACnF,CACEjW,MAAO,+BACPsP,MAAO,8CACP2G,QACE,+JAKO0R,EAAkB,SAAApL,GAC7B,MAAgB,qBAATA,EAA8B,sBAAwBA,GAWlDmL,EAAW+R,EAAiB12B,KAAI,SAAA6+B,GAAE,OAAIA,EAAG5hC,SAoBzC6nB,EAA0B,CACrC,iBACA,mBACA,QACA,UACA,MACA,gBACA,mBACA,wBACA,YACA,OACA,gBACA,0BACA,oCACA,WACA,OACA,gBAKWqR,EAAyB,CACpC,CAAEl5B,MAAO,aAAcsP,MAAO,qCAC9B,CAAEtP,MAAO,qBAAsBwhC,MAAO,aAAclyB,MAAO,2CAC3D,CAAEtP,MAAO,qBAAsBwhC,MAAO,aAAclyB,MAAO,2CAC3D,CAAEtP,MAAO,qBAAsBwhC,MAAO,aAAclyB,MAAO,mDAC3D,CAAEtP,MAAO,uBAAwBwhC,MAAO,WAAYlyB,MAAO,+CAGhDmY,EAAkCyR,EAAuBn2B,KAAI,SAAA8jC,GAAG,OAAIA,EAAI7mC,SAIxE65B,EAAe,CAC1B,CACE75B,MAAO,YACPsP,MAAO,0CACP2G,QAAS,sIAEX,CACEjW,MAAO,YACPsP,MAAO,0BACP2G,QAAS,8FAEX,CACEjW,MAAO,SACPsP,MAAO,+DACP2G,QACE,kPAIO+R,EAAO6R,EAAa92B,KAAI,SAAAovD,GAAE,OAAIA,EAAGnyD,U,iCCre9C,sGAIMyF,EAAYC,aAAW,gBAAGoB,EAAH,EAAGA,QAAH,OAC3BnB,YAAa,CACXiX,WAAY,gBAAG1U,EAAH,EAAGA,SAAUI,EAAb,EAAaA,UAAb,MAAmC,CAC7CnB,MAAOL,EAAQS,QAAQwS,MACvB7R,WACAI,cAEFuU,iBAAkB,CAChBzU,WAAY,IACZjB,MAAOL,EAAQS,QAAQgJ,WAKd,SAASg+B,EAAT,GAAwG,IAAD,IAAhF1pC,YAAgF,MAAzE,SAAyE,MAAxDyG,eAAwD,MAA9C,QAA8C,EAA9BgE,EAA8B,EAA9BA,MAA8B,IAAvBpE,eAAuB,WAAbxK,EAAa,EAC9G6F,EAAUd,EAAU,CAAEyC,SAAmB,UAATrD,EAAmB,QAAKnE,EAAW4H,UAAoB,UAATzD,EAAmB,OAAInE,IAC3G,OACE,cAAC,IAAD,CAAQmE,KAAMA,EAAMqG,QAASA,EAA7B,SACE,eAAC,IAAD,CAAM4B,WAAS,EAAC/F,QAAS,EAAzB,UACE,cAAC,IAAD,CAAM8F,MAAI,EAAV,SACE,cAAC,IAAD,CAAYvB,QAASA,EAAS5E,UAAWH,EAAQsW,iBAAjD,SACGvN,MAGL,cAAC,IAAD,CAAMzC,MAAI,EAAV,SACE,cAAC,IAAD,CAAqBnG,UAAWH,EAAQqW,sB,yoBCN5C9c,EAAe,CACnBiG,MAAO,EACPC,OAAQ,EACR8nB,aAAezd,IAActM,OAAO2d,cACpC0N,aAAe/e,IAActM,OAAOqrB,aACpC4c,aAAe37B,IAActM,OAAOioC,aACpC/N,SAAU,OACVjB,WAAW,EACX1b,WAAY,GACZqN,gBAAgB,GAWL6hC,EAA0B,SAAClwD,EAAoB+D,GAC1D,OAAQA,EAAOjE,MACb,IAAK,cACH,OAAO,2BACFE,GADL,IAEEghB,WAAYjd,EAAO/D,QAEvB,IAAK,WACH,OAAO,2BACFA,GADL,IAEEse,KAAMva,EAAOua,OAEjB,IAAK,gBACH,OAAO,2BACFte,GADL,IAEEwtB,aAAczpB,EAAO2B,SAEzB,IAAK,gBACH,OAAO,2BACF1F,GADL,IAEE8uB,aAAc/qB,EAAO2B,SAEzB,IAAK,gBACH,OAAO,2BACF1F,GADL,IAEE0rC,aAAc3nC,EAAO2B,SAEzB,IAAK,gBACH,OAAO,2BACF1F,GACA+D,EAAOlE,SAEd,IAAK,kBACH,OAAO,2BACFG,GADL,IAEE0F,OAAQ3B,EAAO2B,OACfD,MAAO1B,EAAO0B,QAElB,IAAK,mBACH,OAAO,2BACFzF,GADL,IAEE29B,SAAU55B,EAAOq4B,OAErB,IAAK,oBACH,OAAO,2BACFp8B,GADL,IAEE08B,UAAW34B,EAAO24B,YAEtB,IAAK,qBACH,OAAO,2BACF18B,GADL,IAEE8xD,WAAY/tD,EAAO+tD,aAIzB,OAAO9xD,GAAK,eAASR,IAGVme,EAAa,WACxB,IAAMzQ,EAAWC,cACjB,OAAOjI,eAAkB,SAAAoZ,GAAI,OAAIpR,EApEnB,SAAAoR,GAAI,MAAK,CAAExe,KAAM,WAAYwe,QAoEDZ,CAAQY,MAAQ,CAACpR,KAGhD6kD,EAAkB,WAC7B,IAAM7kD,EAAWC,cACjB,OAAOjI,eAAkB,SAAAQ,GAAM,OAAIwH,EAvEhB,SAACxH,GAAD,MAAiC,CAAE5F,KAAM,gBAAiB4F,UAuEjCssD,CAAatsD,MAAU,CAACwH,KAGzD+kD,EAAkB,WAC7B,IAAM/kD,EAAWC,cACjB,OAAOjI,eAAkB,SAAAQ,GAAM,OAAIwH,EA3EhB,SAACxH,GAAD,MAAiC,CAAE5F,KAAM,gBAAiB4F,UA2EjCwsD,CAAaxsD,MAAU,CAACwH,KAGzDilD,EAAkB,WAC7B,IAAMjlD,EAAWC,cACjB,OAAOjI,eAAkB,SAAAQ,GAAM,OAAIwH,EA/EhB,SAACxH,GAAD,MAAiC,CAAE5F,KAAM,gBAAiB4F,UA+EjC0sD,CAAa1sD,MAAU,CAACwH,KAGzD2gB,EAAkB,WAC7B,OAAOzgB,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAO+pB,iBAG1CuB,EAAkB,WAC7B,OAAO3hB,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOqrB,iBAG1C6c,EAAkB,WAC7B,OAAOv+B,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOioC,iBAG1C2mB,EAAoB,WAC/B,IAAMnlD,EAAWC,cACjB,OAAOjI,eAAkB,SAACQ,EAAQD,GAAT,OAAmByH,EAnGvB,SAACxH,EAA4BD,GAA7B,MAA4D,CAAE3F,KAAM,kBAAmB4F,OAAQA,EAAQD,MAAOA,GAmG9ER,CAAeS,EAAQD,MAAS,CAACyH,KAG3E0gB,EAAY,WACvB,OAAOxgB,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOiC,WAG1CuD,EAAW,WACtB,OAAOmE,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOgC,UAG1C6sD,EAAgB,WAC3B,MAAO,CAAC1kC,IAAa3kB,MAGVwpC,EAAgB,WAC3B,IAAMvlC,EAAWC,cACX2F,EAAW5N,eAAkB,SAAAlF,GAAK,OAAIkN,EAAS,CAAEpN,KAAM,cAAeE,YAAU,CAACkN,IAEvF,MAAO,CADOE,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOud,cAC7ClO,IAGJupB,EAAc,WACzB,IAAMnvB,EAAWC,cACXmvB,EAAcp3B,eAAkB,SAAAk3B,GAAI,OAAIlvB,EAvHzB,SAACkvB,GAAD,MAAqB,CAAEt8B,KAAM,mBAAoBs8B,QAuHfm2B,CAAen2B,MAAQ,CAAClvB,IAE/E,MAAO,CADUE,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOk6B,YAC7CrB,IAGPG,EAAe,WAC1B,IAAMvvB,EAAWC,cACXsV,EAAUC,cACVia,EAAez3B,eAAkB,SAAAw3B,GAAS,OAAIxvB,EA9H9B,SAACwvB,GAAD,MAAyB,CAAE58B,KAAM,oBAAqB48B,aA8Hf81B,CAAgB91B,MAAa,CAACxvB,IACrFwvB,EAAYtvB,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,OAAOi5B,aAChE,MAAO,CAACja,GAAWia,EAAWC,IAenBjZ,EAAgB,WAC3B,IAAQjD,EAAaC,cAAbD,SACR,EAduB,WACvB,IAAMvT,EAAWC,cAQjB,MAAO,CAPQC,aAAY,SAACpN,GAAD,OAAqBA,EAAMyD,SAAQ+M,KAC5CtL,eAChB,SAAArF,GACEqN,EAAS,CAAEpN,KAAM,gBAAiBD,cAEpC,CAACqN,KAO6CulD,GAAhD,0BAASpkC,sBAAT,SAAmCqkC,EAAnC,KACQjvD,EAAgB0C,cAAhB1C,OACFuG,EAAaC,cACX0oD,EAAgBlvD,EAAhBkvD,YACFC,GAAQ,OAACC,iBAAD,IAACA,sBAAY,IAAIxC,MAAM,KAC/ByC,GAAYF,EAAMpwD,OAAS,EAAIowD,EAAMA,EAAMpwD,OAAS,GAAK,IAAIU,QAAQ,IAAK,IAC1E0gB,IAAoB+uC,EAAYt6C,MAAK,SAAA2W,GAAC,OAAIA,IAAMvO,GAAY,WAAIqyC,EAAJ,YAAgB9jC,KAAQvO,KACpFkD,EAAoBze,eAAkB,eAACwL,EAAD,wDAAS2d,EAAT,OAA4BqkC,EAAU,CAAErkC,eAAgB3d,MAAS,CAACgiD,EAAWrkC,IACzH,MAAO,CAACzK,KAAsB5Z,GAAaqkB,GAAwB1K,EAAmBC,K,iVC3L3EM,EAAqB,WAChC,IAAID,EAAM/e,SAAa,MACfQ,EAAWooC,IAAiB7pB,GAA5Bve,OACFssD,EAAeD,cAIrB,OAHA7sD,aAAgB,WACd8sD,EAAatsD,KACZ,CAACssD,EAActsD,IACXue,GAGIumB,EAAqB,WAChC,IAAIvmB,EAAM/e,SAAa,MACfQ,EAAWooC,IAAiB7pB,GAA5Bve,OACF0sD,EAAeD,cAIrB,OAHAjtD,aAAgB,WACdktD,EAAa1sD,KACZ,CAAC0sD,EAAc1sD,IACXue,GAGIkB,EAAqB,WAChC,IAAIlB,EAAM/e,SAAa,MACfQ,EAAWooC,IAAiB7pB,GAA5Bve,OACFwsD,EAAeD,cAIrB,OAHA/sD,aAAgB,WACdgtD,EAAaxsD,KACZ,CAACwsD,EAAcxsD,IACXue,GAGItC,EAAuB,WAClC,IAAMlF,EAAcC,IACpB,OAAOxX,eACL,SAAC0b,GAAD,IAAQ5gB,EAAR,4DAAgBI,EAAhB,OACE,SAAAmJ,GACEkT,EAAYmE,EAAO5gB,MAEvB,CAACyc,KAIQC,EAAiB,WAC5B,IAAQ+D,EAAaC,cAAbD,SACFoyB,EAAUkgB,cAChB,EAA8BtgB,cAA9B,mBAAOugB,EAAP,KAAkBlgD,EAAlB,KACA,OAAO5N,eACL,SAAC0b,GAAsC,IAAvB5gB,EAAsB,4DAAdI,EACtBqgB,IAAaG,GAASiyB,GAAWA,EAAQppB,KAAK7I,GAE5C9N,EADE9S,EACOkE,YAASlE,EAAOgzD,GAEhB,MAIb,CAAClwD,KAAKC,UAAUiwD,GAAYngB,EAASpyB,EAAU3N,KAItCsjC,EAAe,WAC1B,OAAOhpC,aAAY,SAACqJ,GAAD,6BAAYA,EAAEhT,OAAO6a,YAArB,iBAAY,EAAeiF,yBAA3B,iBAAY,EAAkCC,eAA9C,iBAAY,EAA2C3jB,eAAvD,aAAY,EAAoDqW,UAIxE+8C,EAAU,kBADKtuD,EACc,OADPyI,aAAY,SAACpN,GAAD,OAAgBA,EAAMyD,OAAOkB,KAAM6L,MAC7B,GADzB,IAAA7L,GAGf24C,EAAY,WAAkC,IAAD,yDAAP,GAAO,IAA9BD,cAA8B,WAArBj9C,EAAqB,EAClDke,EAAO20C,IACb,OAAO5V,GAAkB/+B,EAAK0B,W,oDC3EhC,8DAKalF,EAAiB,SAAA5a,GAC5B,IAAMgN,EAAWC,cAGjB,MAAO,CAFaC,aAAY,SAACpN,GAAD,OAAqBA,EAAM2D,OAAOzD,IAAO8vD,OAClD9qD,eAAkB,SAAArF,GAAO,OAAIqN,EAAS+iD,YAAa/vD,EAAIL,MAAW,CAACK,EAAIgN,O,iCCRhG,OAAe,cAA0B,oC,8SCW5Bq6B,EAAU,SAAC/mC,EAASd,GAAV,OAAoBc,EAAQsL,QAAO,SAACC,EAAGrJ,GAAJ,OAAeqJ,IAAC,OAAIrM,QAAJ,IAAIA,OAAJ,EAAIA,EAAOud,SAASva,OAAK,IAEtF46B,EAAa,SAAAT,GACxB,IAAMkB,EAA+B,OAAGlB,QAAH,IAAGA,OAAH,EAAGA,EAAKkB,aACvCC,EAA2B,OAAGnB,QAAH,IAAGA,OAAH,EAAGA,EAAKmB,WACzC,OAAQ/6B,YAAO,OAAC45B,QAAD,IAACA,OAAD,EAACA,EAAKx5B,MAEjB06B,IAAiB96B,YAAQ86B,EAAat2B,OACtCs2B,EAAat2B,MACbu2B,IAAe/6B,YAAQ+6B,EAAWv2B,OAClCu2B,EAAWv2B,MADX,OAEAo1B,QAFA,IAEAA,OAFA,EAEAA,EAAKx5B,KALLw5B,EAAIx5B,MAQG25B,EAAgB,SAAAH,GAC3B,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAIE,SAEhBgB,IAAiB96B,YAAQ86B,EAAatJ,WACtCsJ,EAAatJ,UACbuJ,IAAe/6B,YAAQ+6B,EAAWvJ,WAClCuJ,EAAWvJ,UACXoI,EAAIE,QALJF,EAAIE,SAQGD,EAAa,SAACD,GACzB,IAAMkB,EAAkClB,EAAIkB,aACtCC,EAA8BnB,EAAImB,WACxC,OAAQ/6B,YAAQ45B,EAAI9tB,MAEhBgvB,IAAiB96B,YAAQ86B,EAAahvB,MACtCgvB,EAAahvB,KACbivB,IAAe/6B,YAAQ+6B,EAAWjvB,MAClCivB,EAAWjvB,KACXmS,IALA2b,EAAI9tB,MAQGoiC,EAAa,SAAAlxC,GACxB,IAAMm+B,EAAOhxB,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,IAAOroB,qBAAnC,QAAoD,MAC7E,EAAoBm8B,cAAbC,EAAP,oBACIv8B,EAAOi+B,EACPl8B,OAAOC,KAAKi8B,GACTh8B,QAAO,SAAAyJ,GAAC,OAAsB,IAAlBuyB,EAAKvyB,GAAG2vB,QAAqC,IAAnB4C,EAAKvyB,GAAG+d,UAAsB8S,IAAkC,IAArB0B,EAAKvyB,GAAGgwB,UAAsBa,MAC/Gj6B,KAAI,SAAAoJ,GAAM,IAAD,oBACFgxB,EAAmBuB,EAAKvyB,GAExB+7B,EAAgB,CACpBvkC,KAAMi6B,EAAWT,GACjBA,IAAKS,EAAWT,GAChBd,QAASc,EAAId,QAAU8C,YAAwBhC,EAAId,cAAW37B,EAC9D28B,QAASC,EAAcH,GACvBsF,MAAK,UAAEtF,EAAIsF,aAAN,aAAE,EAAWx/B,KAAK,KACvBkxB,UAAS,UAAEgJ,EAAIhJ,iBAAN,aAAE,EAAelxB,KAAK,KAC/BkgC,SAAQ,UAAEhG,EAAIgG,gBAAN,aAAE,EAAclgC,KAAK,KAC7B8/B,gBAAe,UAAE5F,EAAI4F,uBAAN,aAAE,EAAqB9/B,KAAK,KAC3C4/B,YAAW,UAAE1F,EAAI0F,mBAAN,aAAE,EAAiB5/B,KAAK,KACnCogC,OAAM,UAAElG,EAAIkG,cAAN,aAAE,EAAYpgC,KAAK,KACzBsgC,QAAO,UAAEpG,EAAIoG,eAAN,aAAE,EAAatgC,KAAK,KAC3B0/B,WAAU,UAAExF,EAAIwF,kBAAN,aAAE,EAAgB1/B,KAAK,KACjCu1B,UAAS,UAAE2E,EAAI3E,iBAAN,aAAE,EAAev1B,KAAK,KAC/Bo/B,KAAI,UAAElF,EAAIkF,YAAN,aAAE,EAAUp/B,KAAK,KACrBy1B,oBAAqByE,EAAIzE,oBACzB6J,eAAgBpF,EAAIoF,gBAGtB,OAAO,yBACLpY,IAAKgT,EAAIhT,IACTiS,OAAQe,EAAIf,QACT8L,GAHL,IAIEC,gBAAiB,WACf,OAAO3lC,OAAOC,KAAKylC,GAAe97B,QAAO,SAAC4F,EAAGhP,GAAJ,MAAe,CAACgP,EAAGk2B,EAAcllC,IAAIC,KAAK,OAAO,KAE5FwtB,UAAW,kBAAM0M,GACjBt5B,gBAAiB,8BAAC,eACbqkC,GADY,IAEf/K,IAAK+K,EAAcvkC,KACnB4nC,KAAMrD,EAAczF,MACpB+I,cAAetD,EAAcnF,gBAC7B0I,cAAevD,EAAc3F,kBAE/BrG,QAASiB,EAAIjB,QACbC,SAAUgB,EAAIhB,SACdF,QAAS14B,YAAQ45B,EAAIlB,SAAWkB,EAAIhT,IAAMgT,EAAIlB,aAGpD,GAMA0P,EADWlrC,EAAKsC,KAAI,SAAA6uB,GAAC,OAAIA,EAAEqK,WAASv5B,OAAOC,KACnBI,KAAI,SAAA6oC,GAO9B,IALA,IACIC,EADeprC,EAAKiC,QAAO,SAAAkvB,GAAC,OAAIA,EAAEqK,UAAY2P,KACrBhpC,MAAK,kBAAc0J,EAAd,EAAGmkB,UAAH,OAAyC/kB,EAAzC,EAAqB+kB,aAAgCyL,QAAW5vB,IAAY4vB,WAE1G4P,EAASD,EAAU,GAEdnoC,EAAI,EAAGA,EAAImoC,EAAU/oC,OAAQY,IAEpC,IAA8B,IAA1BmoC,EAAUnoC,GAAGy4B,SAAmB,CAClC2P,EAASD,EAAUnoC,GACnB,MAGJ,OAAOooC,KAGT,EAAyBp+B,aAAY,SAACqJ,GAAD,OAAiBA,EAAExW,MAAMA,IAAU,MAAhEO,eAAR,MAAkB,GAAlB,EACA,EAaIA,EAZFynB,iBADF,MACc,GADd,IAaIznB,EAXF8mB,uBAFF,MAEoB,GAFpB,IAaI9mB,EAVF0nB,YAHF,MAGS,GAHT,IAaI1nB,EATF4mB,gBAJF,MAIa,GAJb,IAaI5mB,EARFunB,cALF,MAKW,GALX,IAaIvnB,EAPFwnB,eANF,MAMY,GANZ,IAaIxnB,EANFgnB,mBAPF,MAOgB,GAPhB,IAaIhnB,EALF+mB,kBARF,MAQe,GARf,IAaI/mB,EAJFomB,eATF,MASY,GATZ,IAaIpmB,EAHFknB,YAVF,MAUS,GAVT,IAaIlnB,EAFFmnB,2BAXF,MAWwB,GAXxB,IAaInnB,EADF2mB,sBAZF,MAYmB,GAZnB,EA6BA,OAAOoX,YAAe8M,EAAcprC,GAdf,SAAAqxB,GAAC,OACpBiW,EAAQtf,EAAWqJ,EAAEuC,YACrB0T,EAAQjgB,EAAiBgK,EAAEmR,kBAC3B8E,EAAQrf,EAAMoJ,EAAE6Q,QAChBoF,EAAQngB,EAAUkK,EAAEuR,WACpB0E,EAAQ/f,EAAa8J,EAAEiR,cACvBgF,EAAQxf,EAAQuJ,EAAEyR,SAClBwE,EAAQvf,EAASsJ,EAAE2R,UACnBsE,EAAQhgB,EAAY+J,EAAE+Q,aACtBkF,EAAQ3gB,EAAS0K,EAAE4G,YACnBqP,EAAQ7f,EAAM4J,EAAEyQ,OAChBwF,EAAQ5f,EAAqB2J,EAAE8G,sBAC/BmP,EAAQpgB,EAAgBmK,EAAE2Q,oBAKjByE,EAAsB,SAAC/K,EAASC,GAC3C,IAAMwC,EAAOhxB,aAAY,SAACpN,GAAD,uBAAqBA,EAAMiE,SAAS0kB,IAAOroB,qBAA3C,QAA4D,MACrF,OAAO4B,OAAOC,KAAKi8B,GAAMh8B,QAAO,SAAAyJ,GAAC,OAAKuyB,EAAKvyB,GAAGge,MAAQ8R,GAAWyC,EAAKvyB,GAAG8vB,UAAYA,IAAYyC,EAAKvyB,GAAG+vB,QAAUA,KAASp5B,QAGjH6pC,EAAoB,SAACpsC,GAAmG,IAA5FizD,EAA2F,wDAAtEh9C,EAAsE,4DAA9D9V,EAAWsnC,EAAmD,wDAA5B0E,EAA4B,wDAC5HhO,EAAOhxB,aAAY,SAACqJ,GAAD,uBAAiBA,EAAExS,SAAS0kB,IAAOroB,qBAAnC,QAAoD,MACzEH,EAAOi+B,EACPl8B,OAAOC,KAAKi8B,GACTh8B,QACC,SAAAyJ,GAAC,iBACE67B,IAAyC,IAAlBtJ,EAAKvyB,GAAG2vB,cACrBp7B,IAAV8V,IAAsB,oBAACkoB,EAAKvyB,UAAN,aAAC,EAASqK,aAAV,QAAmB,IAAIuiB,gBAAkBviB,EAAMuiB,iBACrEy6B,GAAiC,IAAnB90B,EAAKvyB,GAAG+d,QAAqC,IAAnBwU,EAAKvyB,GAAG+d,UAChDspC,KAAgB9mB,IAA8C,IAArBhO,EAAKvyB,GAAGgwB,aAErDp5B,KAAI,SAAAoJ,GAAM,IAAD,oBACFgxB,EAAmBuB,EAAKvyB,GAExB+7B,EAAgB,CACpB1xB,MAAO2mB,EAAI3mB,MACX7S,KAAMi6B,EAAWT,GACjBA,IAAKS,EAAWT,GAChBd,QAASc,EAAId,QAAU8C,YAAwBhC,EAAId,cAAW37B,EAC9D28B,QAASC,EAAcH,GACvBsF,MAAK,UAAEtF,EAAIsF,aAAN,aAAE,EAAWx/B,KAAK,KACvBkxB,UAAS,UAAEgJ,EAAIhJ,iBAAN,aAAE,EAAelxB,KAAK,KAC/BkgC,SAAQ,UAAEhG,EAAIgG,gBAAN,aAAE,EAAclgC,KAAK,KAC7B8/B,gBAAe,UAAE5F,EAAI4F,uBAAN,aAAE,EAAqB9/B,KAAK,KAC3C4/B,YAAW,UAAE1F,EAAI0F,mBAAN,aAAE,EAAiB5/B,KAAK,KACnCogC,OAAM,UAAElG,EAAIkG,cAAN,aAAE,EAAYpgC,KAAK,KACzBsgC,QAAO,UAAEpG,EAAIoG,eAAN,aAAE,EAAatgC,KAAK,KAC3B0/B,WAAU,UAAExF,EAAIwF,kBAAN,aAAE,EAAgB1/B,KAAK,KACjCu1B,UAAS,UAAE2E,EAAI3E,iBAAN,aAAE,EAAev1B,KAAK,KAC/Bo/B,KAAI,UAAElF,EAAIkF,YAAN,aAAE,EAAUp/B,KAAK,KACrBy1B,oBAAqByE,EAAIzE,oBACzB6J,eAAgBpF,EAAIoF,gBAGtB,OAAO,yBACLpY,IAAKgT,EAAIhT,IACTiS,OAAQe,EAAIf,QACT8L,GAHL,IAIEC,gBAAiB,WACf,OAAO3lC,OAAOC,KAAKylC,GAAe97B,QAAO,SAAC4F,EAAGhP,GAAJ,MAAe,CAACgP,EAAGk2B,EAAcllC,IAAIC,KAAK,OAAO,KAE5FwtB,UAAW,kBAAM0M,GACjBjB,QAASiB,EAAIjB,QACbC,SAAUgB,EAAIhB,SACdF,QAAS14B,YAAQ45B,EAAIlB,SAAWkB,EAAIhT,IAAMgT,EAAIlB,aAGpD,GAKAyP,EAAWjrC,EAAKsC,KAAI,SAAA6uB,GAAC,OAAIA,EAAEqK,WAASv5B,OAAOC,KAC3CgpC,EAAeD,EAAS3oC,KAAI,SAAA6oC,GAO9B,IALA,IACIC,EADeprC,EAAKiC,QAAO,SAAAkvB,GAAC,OAAIA,EAAEqK,UAAY2P,KACrBhpC,MAAK,kBAAc0J,EAAd,EAAGmkB,UAAH,OAAyC/kB,EAAzC,EAAqB+kB,aAAgCyL,QAAW5vB,IAAY4vB,WAE1G4P,EAASD,EAAU,GAEdnoC,EAAI,EAAGA,EAAImoC,EAAU/oC,OAAQY,IAEpC,GAAIskC,IAA2C,IAA1B6D,EAAUnoC,GAAGy4B,SAAmB,CACnD2P,EAASD,EAAUnoC,GACnB,MAGJ,OAAOooC,KAGT,EAAyBp+B,aAAY,SAACqJ,GAAD,OAAiBA,EAAExW,MAAMA,IAAU,MAAxE,IAAQO,eAAR,MAAkB,GAAlB,EACA,EAaIA,EAZFynB,iBADF,MACc,GADd,IAaIznB,EAXF8mB,uBAFF,MAEoB,GAFpB,IAaI9mB,EAVF0nB,YAHF,MAGS,GAHT,IAaI1nB,EATF4mB,gBAJF,MAIa,GAJb,IAaI5mB,EARFunB,cALF,MAKW,GALX,IAaIvnB,EAPFwnB,eANF,MAMY,GANZ,IAaIxnB,EANFgnB,mBAPF,MAOgB,GAPhB,IAaIhnB,EALF+mB,kBARF,MAQe,GARf,IAaI/mB,EAJFomB,eATF,MASY,GATZ,IAaIpmB,EAHFknB,YAVF,MAUS,GAVT,IAaIlnB,EAFFmnB,2BAXF,MAWwB,GAXxB,IAaInnB,EADF2mB,sBAZF,MAYmB,GAZnB,EAeM2gB,EAAe,SAAAxW,GAAC,OACpBiW,EAAQtf,EAAWqJ,EAAEuC,YACrB0T,EAAQjgB,EAAiBgK,EAAEmR,kBAC3B8E,EAAQrf,EAAMoJ,EAAE6Q,QAChBoF,EAAQngB,EAAUkK,EAAEuR,WACpB0E,EAAQ/f,EAAa8J,EAAEiR,cACvBgF,EAAQxf,EAAQuJ,EAAEyR,SAClBwE,EAAQvf,EAASsJ,EAAE2R,UACnBsE,EAAQhgB,EAAY+J,EAAE+Q,aACtBkF,EAAQ3gB,EAAS0K,EAAE4G,YACnBqP,EAAQ7f,EAAM4J,EAAEyQ,OAChBwF,EAAQ5f,EAAqB2J,EAAE8G,sBAC/BmP,EAAQpgB,EAAgBmK,EAAE2Q,iBAE5B,OAAO1D,YAAe8M,EAAcprC,EAAO6nC,K,4PC1PvCx0B,EAAyB,GAoBlB48C,EAA0B,SAAClwD,EAAc+D,GACpD,OAAQA,EAAOjE,MACb,IAAK,eACH,OAAOC,YAAYC,EAAO+D,EAAO9D,OACnC,IAAK,oBACH,IAAMJ,EAAoBkE,GAAWA,EAAelE,QAC9CszD,EAAsBtzD,GAAWA,EAAQI,MAC/C,OAAOmzD,YAAYD,GAA8B,GAAI7/C,GAGzD,OAAO8/C,YAAYpzD,EAAK,eAAQA,GAAU,GAAIsT,IAInClK,EAAiB,WAC5B,IAAM8D,EAAWC,cACjB,OAAOjI,IAAMmI,aAAY,SAACtB,GAAD,OAAcmB,EArBF,CAAEpN,KAAM,eAAgBG,MAqBD8L,MAAK,CAACmB,KAGvDmmD,EAAuB,WAClC,IAAMnmD,EAAWC,cACjB,OAAOjI,IAAMmI,aAAY,SAACnN,EAAIM,GAAL,OAAiB0M,EAzBlB,SAAChN,EAAYM,GAAb,OAAyB,SAAC0M,EAAU4d,GAAX,OACjD5d,EAAS,CAAEpN,KAAM,eAAgBG,MAAO,CAAEC,KAAIM,QAAS0D,YAAS1D,GAAUsqB,IAAW7qB,MAAMC,IAAO,IAAIM,SAAW,QAwB9D8yD,CAAkBpzD,EAAIM,MAAW,CAAC0M,KAG1EpE,EAAW,SAAAzF,GAAI,OAAI+J,aAAY,SAACpN,GAAD,uBAAqBA,EAAMC,MAAMoD,UAAjC,QAA2C,CAAEnD,GAAImD,OAEtF,SAAS+mC,EAAe/mC,GAC7B,IAAMsO,EAAS7I,EAASzF,GAClBwc,EAAa/c,KAAKC,UAAU4O,GAC5BxI,EAAcC,IACdmqD,EAAiBruD,IAAMmI,aAC3B,SAAAsE,GAAM,OACJxI,EAAY,aACVjJ,GAAImD,GACDa,YAASyN,EAAQ7O,KAAKqR,MAAM0L,QAEnC,CAACxc,EAAM8F,EAAa0W,IAGtB,MAAO,CAAClO,EAAQ4hD,GAGX,SAAS1rC,EAAqBxkB,GACnC,MAAiCyF,EAASzF,GAAlC7C,QAASmR,OAAjB,MAA0B,GAA1B,EACM2hD,EAAoBD,IACpBhhD,EAAYnN,IAAMmI,aACtB,SAAAsE,GACE2hD,EAAkBjwD,EAAMsO,KAE1B,CAACtO,EAAMiwD,IAET,MAAO,CAAC3hD,EAAQU,K,w1ICxEX,SAASyiC,EAAY0e,GAC1B,OACEzhC,OAAOw6B,SAASkH,SAAW,KAAO1hC,OAAOw6B,SAASwC,UAAYh9B,OAAOw6B,SAASmH,KAAO,IAAM3hC,OAAOw6B,SAASmH,KAAO,UAAkBtzD,IAAXozD,EAAuBA,EAAS,IAItJ,IAAMx7C,EAAgB,CAC3B27C,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,SAAS,EACTC,gBAAgB,EAChBj8C,mBAAmB,GAGd,SAASg3C,IACd1wC,QAAQC,IAAR,grFAU+Cs2B,IAV/C,oaAYsDqY,aAZtD,mPAakD9oD,EAAYC,QAb9D,gOAgBE,+BAAiCyL,IAAMvJ,QAAQS,QAAQC,KAAO,oBAY3D,IAAMm+C,EAAa,SAAA3lD,GAAK,YAAeU,IAAVV,GAAiC,OAAVA,EAAiB,GAAKA,GACpE+S,EAAa,SAAA/S,GAAK,YAAcU,IAAVV,GAAiC,OAAVA,GAA4B,KAAVA,GAAiB+Y,MAAM4S,QAAQ3rB,IAA2B,IAAjBA,EAAM8C,QAE9G0yB,EAAY,SAAAx1B,GAAK,YAAcU,IAAVV,GAAiC,OAAVA,GAC5CoV,EAAa,SAACpL,EAASyqD,GAAV,OAAsBrxD,KAAKC,UAAU2G,KAAa5G,KAAKC,UAAUoxD,IAIpF,SAASh+C,EAAcD,GAC5B,MAAO,wJAAwJk+C,KAC7JC,OAAOn+C,GAAOuiB,eAIX,SAASpiB,EAAgBwb,GAC9B,MAAO,0EAA0EuiC,KAAKC,OAAOxiC,GAAK4G,eAQ7F,IAAM67B,EAAe,SAAA79C,GAC1B,MAAiB,kBAANA,EAAuB,GAC3BA,EAAE89C,OAAO,GAAG97B,cAAgBhiB,EAAE+9C,MAAM,IAGtC,SAASz3C,IAKd,IALqC,IACjCpY,EADsB8vD,EAAU,uDAAJ,GAE9BtyD,EAAOD,OAAOC,KAAKsyD,GACjBzW,EAAI77C,EAAKK,OACTkyD,EAAS,GACN1W,KACLr5C,EAAMxC,EAAK67C,GACX0W,EAAOJ,EAAa3vD,IAAQ8vD,EAAI9vD,GAElC,OAAO+vD,EAGF,IAAM98B,EAAS,SAAAl4B,GAAK,OAAc,IAAVA,GAAyB,MAAVA,IAA2B,IAAVA,GAA4B,SAAVA,GACpEm4B,EAAU,SAAAn4B,GAAK,OAAc,IAAVA,GAAyB,MAAVA,IAA2B,IAAVA,GAA6B,UAAVA,GAGtEmmB,EAAO,SAAAgL,GAAC,MACN,mBAANA,EACHA,EACa,kBAANA,EACD,IAANA,EAGa,kBAANA,IACD,MAANA,GAEsB,SAApBA,EAAE4H,gBAMGv0B,EAAW,SAACxE,GAAD,IAAQoF,EAAR,4DAAgB1E,EAAhB,MAAgD,oBAAVV,EAAuBA,EAAMoF,GAASpF,GAEvF4W,EAAiB,SAAA5W,GAAK,OAAe,IAAVA,GAA6B,OAAVA,OAAiBU,EAAYV,GAC3EgV,EAAU,SAAAhV,GAAK,YAAeU,IAAVV,GAAiC,OAAVA,GAA4B,KAAVA,GAS7DmW,EAAW,SAAAnE,GAAC,OAAiB,OAAZA,EAAE1C,WAAiB5O,OAAwBA,IAAZsR,EAAE1C,MAAsB0C,EAAE1C,MAAQ0C,EAAExR,IAE1F,SAASy0D,EAAOC,EAAOlrD,GAC5B,OAAO,2BAAKkrD,GAAUlrD,GAGjB,SAASzG,EAAQ4xD,GACtB,OAAQA,GAAO,IAAMA,EAAIryD,OAGpB,SAASmM,IACdojB,OAAO+iC,cAAc,IAAIC,YAAY,WACrC7hB,YAAW,kBAAMnhB,OAAO+iC,cAAc,IAAIC,YAAY,aAAY,KAS7D,IAAMn4C,EAAY,SAAAklC,GAAI,MAAIqL,GAAyBrL,GAEnD,SAAS/hD,EAAYC,EAArB,GAA8C,IAAhBH,EAAe,EAAfA,QAASK,EAAM,EAANA,GACtCC,EAAO+D,EAASrE,EAASG,EAAME,IACjCG,EAAQ,eAAQL,GAKpB,OAJAK,EAASH,GAAMC,EACXH,GAASA,EAAME,KACjBG,EAASH,GAAMC,GAEVE,EAGF,SAASgsB,IACd,MAAO,uCACJnpB,QAAQ,SAAS,SAAUR,GAC1B,IAAI4uB,EAAqB,GAAhB/Z,KAAKy9C,SAAiB,EAE/B,OADY,MAANtyD,EAAY4uB,EAAS,EAAJA,EAAW,GACzBpG,SAAS,OAEnBhoB,QAAQ,KAAM,IA8BZ,SAAS2yC,IAA4C,IAA7B7pC,EAA4B,uDAAxB,EAAUZ,EAAc,uDAAV,EAC/C,OAAIY,EAAIZ,EAAU,EACdY,EAAIZ,GAAW,EACZ,EAGF,SAAS7I,IAAoD,IAA/ByJ,EAA8B,uDAA1B,GAAWZ,EAAe,uDAAX,GACtD,OAAIY,EAAEysB,cAAgBrtB,EAAEqtB,eAAuB,EAC3CzsB,EAAEysB,cAAgBrtB,EAAEqtB,cAAsB,EACvC,EAGF,SAASijB,IAA2C,IAA7B1vC,EAA4B,uDAAxB,EAAUZ,EAAc,uDAAV,EAC9C,OAAIY,EAAIZ,GAAW,EACfY,EAAIZ,EAAU,EACX,EAGF,IAAM6nB,EAAsB,SAACpB,GAClC,IAAIojC,EAAY,OACZjzD,EAAK,OAAI6vB,QAAJ,IAAIA,OAAJ,EAAIA,EAAgBqjC,QAAQD,GACrC,GAAIjzD,GAAS,EAAG,CACd,IAAImzD,EAAWtjC,EAAIqjC,QAAQ,IAAKlzD,GAChC,OAAO6vB,EAAImV,UAAUhlC,EAAQizD,EAAUzyD,OAAQ2yD,GAAY,EAAIA,OAAW/0D,KAIjEgzB,EAAoB,SAACvB,GAChC,IACI7vB,EAAK,OAAI6vB,QAAJ,IAAIA,OAAJ,EAAIA,EAAgBqjC,QADb,OAEhB,GAAIlzD,GAAS,EAAG,CACd,IAAImzD,EAAWtjC,EAAIqjC,QAAQ,IAAKlzD,GAChC,OAAO6vB,EAAImV,UAAUhlC,EAJP,MAIyBQ,OAAQ2yD,GAAY,EAAIA,OAAW/0D,KAIvE,SAASiC,EAAW3C,EAAOsC,EAAOozD,GACvC,OAAOA,EAAKF,QAAQx1D,KAAWsC,EAgC1B,SAAS68B,EAAwBnD,GACtC,IAAI/R,EAAI,IAAI5oB,KAAK,GACjB4oB,EAAE0rC,mBAAmB35B,GACrB,IAVet4B,EAUXkyD,EA/BG,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OA+B1B3rC,EAAE4rC,UACtBC,EAAY7rC,EAAEkgC,UAzBpB,SAAalgC,GACX,GAAIA,EAAI,GAAKA,EAAI,GAAI,MAAO,KAC5B,OAAQA,EAAI,IACV,KAAK,EACH,MAAO,KACT,KAAK,EACH,MAAO,KACT,KAAK,EACH,MAAO,KACT,QACE,MAAO,MAemB8rC,CAAI9rC,EAAEkgC,WAChC6L,EAAO/rC,EAAEgsC,cACTC,EAAIjsC,EAAEksC,WACN1oC,IAdW/pB,EAcCumB,EAAEmsC,cAbV,KACN1yD,EAAI,IAAMA,GAELA,GAWH2yD,EAAOH,EAAI,GACfA,EAAIG,EAAOH,EAAI,GAAW,IAANA,EAAU,GAAKA,EACnC,IAAII,EAlCG,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,MAAO,MAAO,MAAO,MAAO,OAkC3DrsC,EAAEssC,YAE9B,MAAM,GAAN,OAAUX,EAAV,YAAiBU,EAAjB,YAA0BR,EAA1B,YAAuCE,EAAvC,YAA+CE,EAA/C,YAAoDzoC,EAApD,YAAyD4oC,EAAO,KAAO,MAGlE,SAAS3J,IACd,OAAOe,EAGF,SAASmB,IACd,IAAM7rC,EAAUC,cAChB,EAAoB+Z,cAAbC,EAAP,oBACMw5B,EAAmBC,IACnB9H,EAAct+C,IACpB,OAAO0S,GAAWia,EAAYw5B,EAAmB7H,EAI5C,IAAMxM,EAAc,SAACuU,GAAyC,IAA1BC,EAAyB,uDAAN,EAC5D,GAAc,IAAVD,EAAa,MAAO,UAExB,IAAMvqD,EAAI,KACJyqD,EAAKD,EAAW,EAAI,EAAIA,EACxBE,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC5DnzD,EAAImU,KAAKm6B,MAAMn6B,KAAKiH,IAAI43C,GAAS7+C,KAAKiH,IAAI3S,IAEhD,MAAM,GAAN,OAAU2qD,YAAYJ,EAAQ7+C,KAAKk/C,IAAI5qD,EAAGzI,IAAIszD,QAAQJ,IAAtD,YAA8DC,EAAMnzD,KAGzDy3C,EAAoB,SAACd,EAAa4c,EAAYC,GACzD,IAAI36C,EAAO26C,EACX,IACE36C,EAAO8gC,YAAOhD,EAAa4c,GAC3B,MAAOj4C,GACPH,QAAQ5O,MAAM+O,GAEhB,OAAOzC,GAGF,SAASyjC,EAAc+U,GAC5B,GAAIxxD,EAAQwxD,GACV,OAAO,EACF,GAAmB,kBAARA,EAAkB,CAClC,IAAK,IAAI9vD,KAAO8vD,EACd,GAAIA,EAAIoC,eAAelyD,GAAM,OAAO,EAEtC,OAAO,EAEP,OAAO,EAIJ,IAAMmyD,EAAY,SAACC,EAAcC,GAAf,mIAC+FA,EAD/F,kCAC8HD,EAD9H,WAGlB,SAASE,EAAUpC,GACxB,OAAO5xD,EAAQ4xD,GAAO,GAAKA,EAAI3pC,WAAWhoB,QAAQ,gBAAiB,M,kPC3UtD,MAA0B,qDCA1B,MAA0B,0DCG5Bg0D,EAAO,CAClBrY,WAAY,OACZsY,UAAW,SACXC,YAAa,OACbx1C,IAAI,6DAAD,OAGKy1C,EAHL,yBAKHC,aACE,sJAGSC,EAAW,CACtB1Y,WAAY,WACZsY,UAAW,SACXC,YAAa,OACbx1C,IAAI,qEAAD,OAGK41C,EAHL,uBAKHF,aACE,sJ,8GCTSplC,EAAqB,4EAG5BulC,EAAYC,YAAe,IAG3BC,EAAa,CACjBnxD,QAAS,CACP1G,KAAM,QACNmH,QAAS,CACPC,KAAM,UACNuS,MAAO,UACPxJ,KAAM,WAERoM,UAAW,CACTnV,KAAM,UACNuS,MAAO,UACPxJ,KAAM,YAGVvJ,WAAY,CACVm4C,WAAY,OACZ9lC,OAAQ,CACNK,cAAe,SAGnB3V,OAAQ,CACNkvD,YAAa,CAAC,SACdtlC,gBAAiB,IACjBjM,cAAe,GACf9V,eAAgB,EAChB2lB,kBAAmB,EACnB4a,kBAAmB,GACnBjb,qBAAsB,GACtB1oB,mBAA6C,EAAzBuvD,EAAUhxD,QAAQ,KACtCmxD,eAAgBH,EAAUhxD,QAAQ,GAClCyqB,aAAc,GACdlX,aAAc,GACd69C,UAAW,IACX/oC,aAAc,KAEhBgpC,UAAW,CACTC,eAAgB,CACd,UAAW,CACT,aAAc,CAACb,EAAMK,KAGzBS,WAAY,CAEVriD,QAAS,CAEP1G,SAAU,MAGdgpD,cAAe,CAEbxP,GAAI,CACFzJ,WAAY,KAEd4J,UAAW,CAET5J,WAAY,MAIhBkZ,eAAgB,CAEdvxD,KAAM,CAEJgB,YAAa,GACbN,aAAc,GACdkS,WAAY,GACZC,cAAe,KAInB2+C,iBAAkB,CAEhBxxD,KAAM,CAEJK,WAAYywD,EAAUjxD,QAAQgH,KAAK,KAEnC1H,QAAS,OACT6G,WAAY,SACZuB,eAAgB,WAChBkqD,KAAM,WACNrhD,OAAQ,EACRhJ,QAAS,YAIbsqD,gBAAiB,CACf1xD,KAAM,CACJE,MAAO4wD,EAAUjxD,QAAQgH,KAAK,SAMzB2oD,EAAauB,YAAe,2BACpCC,GADmC,IAEtCnxD,QAAQ,2BACHmxD,EAAWnxD,SADT,IAELS,QAAS,CACPC,KAAM,UACNuS,MAAO,UACPxJ,KAAM,WAERoM,UAAW,CACTnV,KAAM,UACNuS,MAAO,UACPxJ,KAAM,gBAKCF,EAAQ2nD,YAAeC,GAIvB/vC,EAAa,CACxBM,KAAM,CACJlZ,MAAO,OACPnI,MAAOmJ,IAAMsoD,KACb3mD,OAAQ,oBAAGwwB,MAAH,kBAAW,GAAX,GAA0B//B,OAAOC,MACzCyjC,WAAY,oBAAG3D,MAAH,kBAAW,GAAX,GAA0B//B,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEgjB,IAActgB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAAxC,aAAE,EAA8C2G,cAEzIiR,QAAS,CACP5X,MAAO,UACPnI,MAAO0xD,IAAK,KACZ5mD,OAAQ,oBAAGumB,UAAH,kBAAe,GAAf,GAAkC91B,OAAOC,MACjDyjC,WAAY,oBAAG5N,UAAH,kBAAe,GAAf,GACA91B,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEkjB,IAAiBxgB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAA3C,aAAE,EAAiD2G,cAElHgS,oBAAqB,CACnB3Y,MAAO,sBACPnI,MAAO2xD,IAAOF,KACd3mD,OAAQ,oBAAGymB,oBAAH,kBAAyB,GAAzB,GAAsDh2B,OAAOC,MACrEyjC,WAAY,oBAAG1N,oBAAH,kBAAyB,GAAzB,GACUh2B,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEojB,IAA4B1gB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAAtD,aAAE,EAA4D2G,cAEvIyR,SAAU,CACRpY,MAAO,WACPnI,MAAOmJ,IAAMsoD,KACb3mD,OAAQ,oBAAGkxB,SAAH,kBAAc,GAAd,GAAgCzgC,OAAOC,MAC/CyjC,WAAY,oBAAGjD,SAAH,kBAAc,GAAd,GAAgCzgC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEwjB,IAAiB9gB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAA3C,aAAE,EAAiD2G,cAElJ4R,WAAY,CACVvY,MAAO,uBACPnI,MAAO4xD,IAAOH,KACd3mD,OAAQ,oBAAG0wB,WAAH,kBAAgB,GAAhB,GAAoCjgC,OAAOC,MACnDyjC,WAAY,oBAAGzD,WAAH,kBAAgB,GAAhB,GAAoCjgC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,MAAK,CAAEA,cAErFwY,YAAa,CACXxY,MAAO,cACPnI,MAAO6xD,IAAKJ,KACZ3mD,OAAQ,oBAAG4wB,YAAH,kBAAiB,GAAjB,GAAsCngC,OAAOC,MACrDyjC,WAAY,oBAAGvD,YAAH,kBAAiB,GAAjB,GACEngC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEyjB,IAAoB/gB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAA9C,aAAE,EAAoD2G,cAEvHoS,OAAQ,CACN/Y,MAAO,SACPnI,MAAO6hC,IAAO4vB,KACd3mD,OAAQ,oBAAGoxB,OAAH,kBAAY,GAAZ,GAA4B3gC,OAAOC,MAC3CyjC,WAAY,oBAAG/C,OAAH,kBAAY,GAAZ,GAA4B3gC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAE0jB,IAAehhB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAAzC,aAAE,EAA+C2G,cAE5IqS,QAAS,CACPhZ,MAAO,UACPnI,MAAO8xD,IAAW,KAClBhnD,OAAQ,oBAAGsxB,QAAH,kBAAa,GAAb,GAA8B7gC,OAAOC,MAC7CyjC,WAAY,oBAAG7C,QAAH,kBAAa,GAAb,GAA8B7gC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAE2jB,IAAgBjhB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAA1C,aAAE,EAAgD2G,cAE/I+R,KAAM,CACJ1Y,MAAO,OACPnI,MAAO+xD,IAAKN,KACZ3mD,OAAQ,oBAAGowB,KAAH,kBAAU,GAAV,GAAwB3/B,OAAOC,MACvCyjC,WAAY,oBAAG/D,KAAH,kBAAU,GAAV,GAAwB3/B,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAE4jB,IAAalhB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAAvC,aAAE,EAA6C2G,cAEtIwR,eAAgB,CACdnY,MAAO,kBACPnI,MAAO2G,IAAK8qD,KACZ3mD,OAAQ,oBAAGswB,eAAH,kBAAoB,GAApB,GAA4C7/B,OAAOC,MAC3DyjC,WAAY,oBAAG7D,eAAH,kBAAoB,GAApB,GACK7/B,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAGijB,IAA+BvgB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAA1D,aAAE,EAAgE2G,cAEtI2R,gBAAiB,CACftY,MAAO,SACPnI,MAAOgyD,IAAKP,KACZ3mD,OAAQ,oBAAG8wB,gBAAH,kBAAqB,GAArB,GAA8CrgC,OAAOC,MAC7DyjC,WAAY,oBAAGrD,gBAAH,kBAAqB,GAArB,GACMrgC,OAAOC,KAAYI,KAAI,SAAAuM,GAAK,YAAK,CAAEA,QAAO2G,QAAO,UAAEmjB,IAAuBzgB,MAAK,SAAAk5C,GAAE,OAAIA,EAAG7xD,QAAUsP,YAAjD,aAAE,EAAuD2G,eAInHiwB,EAAgB1jC,OAAOC,KAAKylB,GAAYnlB,KAAI,SAAAoJ,GAAC,OAAI+b,EAAW/b,O,wRCxMnEitD,EAAkB,CACtB78C,KA4GF,SAAcjQ,EAAGZ,EAAG2tD,GAClB,GAAI3tD,EAAE2tD,GAAW/sD,EAAE+sD,GACjB,OAAQ,EAEV,GAAI3tD,EAAE2tD,GAAW/sD,EAAE+sD,GACjB,OAAO,EAET,OAAO,GAlHPC,UA+FK,SAAmBhtD,EAAGZ,EAAG2tD,GAC9B,IAAIE,EAAQh2D,YAAQ+I,EAAE+sD,IAAuC/sD,EAAE+sD,GAA7B/sD,EAAE+sD,GAAStgC,cACzCygC,EAAQj2D,YAAQmI,EAAE2tD,IAAuC3tD,EAAE2tD,GAA7B3tD,EAAE2tD,GAAStgC,cAC7C,GAAIygC,EAAOD,EACT,OAAQ,EAEV,GAAIC,EAAOD,EACT,OAAO,EAET,OAAO,GAvGPE,QAoHF,SAAqBntD,EAAGZ,EAAG2tD,GAAU,IAAD,IAC5BK,EAAC,OAAGptD,QAAH,IAAGA,OAAH,EAAGA,EAAGmkB,YACPkpC,EAAC,OAAGjuD,QAAH,IAAGA,OAAH,EAAGA,EAAG+kB,YACTmpC,EAAK,IAAIlb,IAAJ,UAAYgb,EAAEL,UAAd,QAA0B,GAC/BQ,EAAK,IAAInb,IAAJ,UAAYib,EAAEN,UAAd,QAA0B,GACnC,GAAIQ,EAAGC,SAASF,GACd,OAAQ,EAEV,GAAIC,EAAGE,YAAYH,GACjB,OAAO,EAET,OAAO,IAnHItc,EAAc,SAAAj0C,GAAU,OAAI,IAAI2wD,OAAO3wD,EAAW7F,QAAQ,yBAA0B,QAAS,OAE7FqkC,EAAU,SAACktB,EAAKkF,GAC3B,GAAIlF,EAAI5sB,gBACN,OAAO4sB,EAAI5sB,kBAAkBmnB,MAAM2K,GAEnC,IAAK,IAAIC,KAAYnF,EACnB,IAAI,CAAC,MAAO,KAAM,MAAO,YAAa,OAAQ,UAAUx3C,SAAS28C,EAASnhC,gBACtEg8B,EAAImF,GACN,GAAI7jC,MAAM0+B,EAAImF,IAEZ,IACE,GAAInF,EAAImF,GAAU5K,MAAM2K,GAAK,OAAO,EACpC,MAAOpnD,GACP,cAIF,IACE,GAAIkiD,EAAImF,GAAU1uC,WAAW8jC,MAAM2K,GAAK,OAAO,EAC/C,MAAOpnD,GACP,SAKV,OAAO,GAGHsnD,EAAqB,SAACpF,EAAKqF,GAC/B,OAAyB,MAAlBrF,EAAIqF,EAAGl3D,SAAmB6xD,EAAIqF,EAAGl3D,UAAYk3D,EAAGp6D,OAoB5C6+B,EAAiB,SAACp+B,EAAWkD,GAA4C,IAA9BykC,EAA6B,4DAAd1nC,EAE/DH,EAAQ85D,IAAoB12D,GAC5B0F,EAAU,OAAG9I,QAAH,IAAGA,OAAH,EAAGA,EAAO8I,WAEpBixD,EAAe/5D,GACQ,MAA3BA,EAAMg6D,mBACsB,MAA5Bh6D,EAAMi6D,oBAA8B,CAClCx6D,MAAOO,GAASA,EAAMg6D,kBACtBr3D,OAAQ3C,GAASA,EAAMi6D,oBAGrBv0B,EAAWw0B,EAAah6D,EAAM65D,EAAcjxD,EAAY++B,GAC9D,OAAO7nC,GAASA,EAAM84D,QAAUqB,EAAWz0B,EAAU00B,EAAWp6D,EAAMq6D,eAAgBr6D,EAAM84D,QAAS94D,EAAMs6D,iBAAmB50B,GAGnHw0B,EAAe,SAACh6D,EAAM65D,GAA2E,IAA/CjxD,EAA8C,uDAAjC,GAAI++B,EAA6B,4DAAd1nC,EACzFo6D,GAAsB,EACtBR,GAAkBA,EAAap3D,QAAmC,QAAvBo3D,EAAat6D,OAA0C,KAAvBs6D,EAAat6D,QAAc86D,GAAsB,GAEhI,IAAMC,KAAoB1xD,GAA6B,KAAfA,GAElC4wD,EAAK3c,EAAYj0C,GAEvB,OAAO5I,EAAKiC,QACV,SAAAyuB,GAAC,QACE2pC,GAAsBX,EAAmBhpC,EAAGmpC,OAC5CS,GAAoBlzB,EAAQ1W,EAAG8oC,OAC/B7xB,GAAeA,EAAajX,QAwCnC,SAASupC,EAAWM,EAAOC,GACzB,IAAMC,EAAiBF,EAAMj4D,KAAI,SAACo4D,EAAI74D,GAAL,MAAe,CAAC64D,EAAI74D,MAMrD,OALA44D,EAAet4D,MAAK,SAAC0J,EAAGZ,GACtB,IAAM0vD,EAAQH,EAAI3uD,EAAE,GAAIZ,EAAE,IAC1B,OAAc,IAAV0vD,EAAoBA,EACjB9uD,EAAE,GAAKZ,EAAE,MAEXwvD,EAAen4D,KAAI,SAAAo4D,GAAE,OAAIA,EAAG,MAGrC,SAASR,EAAWS,EAAO/B,EAASwB,GAClC,IAAMI,EAAM7B,EAAgByB,GAC5B,OAAOI,GAAiB,SAAVG,EAAmB,SAAC9uD,EAAGZ,GAAJ,OAAWuvD,EAAI3uD,EAAGZ,EAAG2tD,IAAW,SAAC/sD,EAAGZ,GAAJ,OAAUuvD,EAAI3uD,EAAGZ,EAAG2tD,IAGhF,SAAS3F,EAAYpzD,EAAyB2oB,GAEnD,OAAOA,EACJvmB,QAAO,SAAA2J,GAAC,OAAK/L,EAAM+L,EAAE7L,OACrBuC,KAAI,SAAAsJ,GAAC,OAAIhM,EAAYC,EAAO+L,MAC5BD,OAAO6oD,IAHH,eAGgB30D,IAIlB,SAASD,EAAYC,EAAyBC,GACnD,IAAII,EAAQ,eAAQL,GASpB,OARAK,EAASJ,EAAMC,IAAMD,EACjBD,GAASA,EAAMC,EAAMC,MAEvBG,EAASJ,EAAMC,IAAf,2BACKF,EAAMC,EAAMC,KACZD,IAGAI,EAGF,IACMuU,EAAmB,SAAA6/C,GAAG,OADX,SAAAA,GAAG,MAAmB,kBAARA,EACCsG,CAAStG,IAAQvyD,OAAOC,KAAKsyD,GAAKjyD,OAAS,I,iCCtLlF,OAAe,cAA0B,qC","file":"static/js/main.a8aea908.chunk.js","sourcesContent":["import { updateState } from '../../../helpers';\n\nexport const defaultState = {\n  AppBar: {\n    value: 'Application Library'\n  }\n};\n\nexport const updateSelector = (id, payload) => ({ type: 'UPDATE_SELECTOR', id, payload });\n\nexport function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case 'UPDATE_SELECTOR':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return defaultState;\n    default:\n      return state;\n  }\n}\n","export interface SnackBarState {\n  open?: boolean;\n  variant?: 'success' | 'error' | 'warning' | 'info';\n  message?: string;\n}\nconst initialState = {};\n\nexport const updateSnackBar = (payload: SnackBarState) => ({ type: 'SNACKBAR', payload });\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SNACKBAR':\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n","import { evalFunc, isEmpty, onlyUnique, sortAscendingToLower } from '../helpers';\n\n// Inserts or updates item payload with table and id keys.  If action.payload is a function, then it is called with the previous props as a parameter\nfunction updateState(state, { table, id, payload }) {\n  const data = typeof payload === 'function' ? payload(state[table] ? state[table][id] : undefined) : payload;\n\n  if (!state[table]) {\n    // Table doesn't exist.  Create new table with the associated entry.\n    return { ...state, [table]: { [id]: data } };\n  } else if (state[table] && !state[table][id]) {\n    // Table exists but item dies not.  Insert item at beginning of table.\n    return { ...state, [table]: { [id]: data, ...state[table] } };\n  } else {\n    // Table exists and item exists.  Update item at it's current position.\n    const newState = { ...state };\n    newState[table][id] = data;\n    return newState;\n  }\n}\n\nconst initialState = {\n  applications: {},\n  surveys: {},\n  filters: {},\n  events: {},\n  posts: {},\n  comments: {}\n};\n\nexport const updateDatabase = (table, id, payload) => ({ type: 'UPDATE_DATABASE', table, id, payload });\nexport const setDatabaseTable = (table, payload) => ({ type: 'SET_DATABASE_TABLE', table, payload });\nexport const exportDatabase = (table, ids) => ({ type: 'EXPORT_DATABASE', table, ids });\n\nexport const saveCsv = csv => {\n  let id = Date.now();\n  const fileName = `export_${id}.csv`;\n  let link = document.createElement('a');\n  link.id = `download-csv-${id}`;\n  link.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(csv));\n  link.setAttribute('download', fileName);\n  document.body.appendChild(link);\n  var node = document.querySelector(`#download-csv-${id}`) as any;\n  node && node.click();\n};\n\nconst exportDatabaseCsv = (state, table, ids) => {\n  var csv = '';\n  var columns = [];\n  // First get a list of all the columns, so we can correctly export everyhting in a consistent manner\n  ids.forEach((id, index) => {\n    const row = state[table][id];\n    columns = [...columns, ...Object.keys(row)];\n  });\n  columns = columns.filter(onlyUnique).sort(sortAscendingToLower); // Unique and sorted column names;\n\n  ids.forEach((id, index) => {\n    if (index === 0 && columns.length > 0) {\n      csv = columns.map(c => `\"${c ?? ''}\"`).join(',') + '\\r\\n'; // Output columns to first row\n    }\n    const row = state[table][id];\n    csv =\n      csv +\n      columns\n        .map(column => {\n          var cell = (typeof (row[column] === 'object') ? JSON.stringify(row[column]) : row[column]) ?? '';\n          const formatted = isEmpty(cell) ? cell : cell.replace(/[\"]+/g, ''); // Remove all double quotes\n          return isEmpty(cell) ? '\"\"' : `\"${formatted}\"`; // Wrap all values in double quotes to support commas within value\n        })\n        .join(',') +\n      '\\r\\n'; // Output row/column data, include double quotes around content for correct csv handling when content contains linebreaks, commas, etc\n  });\n  saveCsv(csv);\n};\n\nexport const exportTableCsv = (data, columns) => {\n  var csv = '';\n  data.forEach((row, i) => {\n    if (i === 0) {\n      csv += columns.map(({ name }) => `\"${name ?? ''}\"`).join(',') + '\\r\\n'; // Output columns to first row\n    }\n\n    var rowData = row.getExportValues ? row.getExportValues() : row;\n\n    csv +=\n      columns\n        .map(({ name }) => {\n          var cell = (typeof (rowData[name] === 'object') ? JSON.stringify(rowData[name]) : rowData[name]) ?? '';\n          const formatted = isEmpty(cell) ? cell : cell.replace(/[\"]+/g, ''); // Remove all double quotes\n          return isEmpty(cell) ? '\"\"' : `\"${formatted}\"`; // Wrap all values in double quotes to support commas within value\n        })\n        .join(',') + '\\r\\n';\n  });\n  saveCsv(csv);\n};\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'SET_DATABASE_TABLE':\n      var newState = { ...state };\n      newState[action.table] = evalFunc(action.payload, state[action.table]);\n      return newState;\n    case 'UPDATE_DATABASE':\n      return updateState(state, action);\n    case 'EXPORT_DATABASE':\n      exportDatabaseCsv(state, action.table, action.ids);\n      return state;\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import * as Layout from './components/layout/store';\nimport * as Table from './components/application/GenericTable/store';\nimport * as Dialog from './components/application/GenericDialog/store';\nimport * as Selector from './components/application/Selector/store';\nimport * as SnackBar from './components/application/SnackBar/store';\nimport * as Database from './database/store';\n\n// The top-level state object\nexport interface AppState {\n  router: any;\n  layout: Layout.State;\n  dialog: any;\n  table: Table.State;\n  selector: any;\n  snackBar: any;\n  database: any;    \n}\n\n// Whenever an action is dispatched, Redux will update each top-level application state property using\n// the reducer with the matching name. It's important that the names match exactly, and that the reducer\n// acts on the corresponding AppState property type.\nexport const reducers = {\n  layout: Layout.reducer,\n  dialog: Dialog.reducer,\n  table: Table.reducer,\n  selector: Selector.reducer,\n  snackBar: SnackBar.reducer,\n  database: Database.reducer,  \n};\n","import thunk from 'redux-thunk';\nimport { History } from 'history';\nimport * as StoreModule from './store';\nimport { AppState, reducers } from './store';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { createStore, applyMiddleware, compose, combineReducers, StoreEnhancer, Store } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport * as localforage from 'localforage';\nimport packageJson from '../package.json';\n\nlocalforage &&\n  localforage.config &&\n  localforage.config({\n    driver: localforage.INDEXEDDB, // Force WebSQL; same as using setDriver()\n    name: `${packageJson.name}-local-storage`,\n    version: 1.0,\n    size: 4980736, // Size of database, in bytes. WebSQL-only for now.\n    storeName: 'keyvaluepairs', // Should be alphanumeric, with underscores.\n    description: `${packageJson.name} application database`\n  });\n\nexport const persistConfig = {\n  key: 'app',\n  storage: localforage\n};\n\nexport default function configureStore(history: History, initialState?: AppState, appConfig?: any) {\n  // Build middleware. These are functions that can process the actions before they reach the store.\n  const windowIfDefined = typeof window === 'undefined' ? null : (window as any);\n  // If devTools is installed, connect to it\n  const devToolsExtension = process.env.NODE_ENV === 'development' && windowIfDefined && (windowIfDefined.__REDUX_DEVTOOLS_EXTENSION__ as () => StoreEnhancer);\n\n  const allReducers = buildRootReducer(reducers, history);\n  const persistedReducer = persistReducer(persistConfig, allReducers as any);\n\n  const createStoreWithMiddleware = compose(\n    applyMiddleware(thunk, routerMiddleware(history)),\n    devToolsExtension ? devToolsExtension() : (f: any) => f\n  )(createStore) as any;\n\n  // Combine all reducers and instantiate the app-wide store instance\n  const store = createStoreWithMiddleware(persistedReducer, initialState) as Store<AppState>;  \n\n  // Enable Webpack hot module replacement for reducers\n  if (module.hot) {\n    module.hot.accept('./store', () => {\n      const nextRootReducer = require<typeof StoreModule>('./store');\n      store.replaceReducer(buildRootReducer(nextRootReducer.reducers, history));\n    });\n  }\n\n  return store;\n}\n\nfunction buildRootReducer(allReducers: any, history: any) {\n  return combineReducers<AppState>(Object.assign({}, allReducers, { router: connectRouter(history) }));\n}\n","import * as React from 'react';\nimport * as LayoutStore from './store';\nimport ContainerDimensions from 'react-container-dimensions';\nimport { makeStyles, createStyles, useTheme } from '@material-ui/core';\n\ninterface ViewPortDimensionsProps {\n  containerHeight?: number | undefined;\n  containerWidth?: number | undefined;\n  resizeViewPort?: (height: number | undefined, width: number | undefined) => void;\n}\n\nconst ViewPortDimensions = (props: ViewPortDimensionsProps) => {\n  const { containerHeight, containerWidth, resizeViewPort } = props;\n  React.useEffect(() => {\n    resizeViewPort(containerHeight, containerWidth);\n  }, [containerHeight, containerWidth, resizeViewPort]);\n\n  return <></>;\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    dimensions: {\n      overflow: 'hidden' as 'hidden',\n      position: 'fixed' as 'fixed',\n      width: 'calc(100vw)',\n      height: 'calc(100vh)'\n    },\n    static: {\n      flexGrow: 1,\n      zIndex: 1,\n      overflow: 'hidden' as 'hidden',\n      position: 'fixed' as 'fixed',\n      display: 'static' as 'static',\n      width: '100%'\n    }\n  })\n);\n\nconst ViewPort = ({ children }) => {\n  const classes = useStyles({});\n  const [height, width] = LayoutStore.useDimensions();\n  const resizeViewPort = LayoutStore.useResizeViewPort();\n  const { layout } = useTheme() as any;\n  return (\n    <>\n      <div className={classes.dimensions}>\n        <ContainerDimensions>\n          {({ height, width }: any) => <ViewPortDimensions containerHeight={height} containerWidth={width} resizeViewPort={resizeViewPort} />}\n        </ContainerDimensions>\n      </div>\n\n      <div id='viewport' className={classes.static} style={{ height, width, backgroundColor: layout.backgroundColor }}>\n        {children}\n      </div>\n    </>\n  );\n};\n\nexport default ViewPort;\n","import * as React from 'react';\n\nexport default function RatingProcess() {\n  return <>'Rating Process Placeholder'</>;\n}\n","import * as React from 'react';\nimport { Grid, Paper, Input, Tooltip } from '@material-ui/core';\nimport { FormControl, InputAdornment, IconButton, Typography } from '@material-ui/core';\nimport { useTable, useTableUpdate } from './store';\nimport { useWidth } from '../../layout/store';\nimport { Fab, makeStyles, createStyles, useTheme } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { evalFunc } from '../../../helpers';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport { useFullScreen } from '../../../hooks';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing, typography, layout }: any) =>\n  createStyles({\n    root: {},\n    paper: {\n      color: palette.common.white,\n      background: palette.primary.main\n    },\n    formControl: {\n      marginBottom: 4,\n      paddingRight: spacing(1),\n      width: 308\n    },\n    searchIcon: {\n      color: palette.primary.main\n    },\n    underline: {\n      //color: palette.common.white,\n      color: palette.primary.main,\n      borderBottom: `2px solid ${palette.primary.main}`\n    },\n    title: {\n      ...typography.h4,\n      paddingLeft: spacing(0.5),\n      color: palette.common.white,\n      fontSize: typography.pxToRem(19),\n      fontWeight: '300'\n    },\n    titleicon: {\n      height: 32,\n      width: 32,\n      color: palette.common.white,\n      marginTop: 3\n    },\n    grid: {\n      overflow: 'hidden',\n      paddingRight: spacing(1),\n      paddingLeft: spacing(1),\n      height: layout.tabletoolbarheight / 2\n    },\n    hidden: {\n      display: 'none' as 'none'\n    }\n  })\n);\n\nfunction TableToolbar(props: TableToolbarProps) {\n  const classes = useStyles({});\n  const [searchOpen, setSearchOpen] = React.useState(false);\n  const { layout } = useTheme() as any;\n  const { name, buttons = [], square, title, inputplaceholder, Icon, search, showicon = true, buttonPosition = 'top' } = props;\n\n  const { searchtext = '' } = useTable(name);\n\n  React.useEffect(() => {\n    if (searchtext !== null && searchtext !== undefined && searchtext !== '') {\n      handleOpenSearch();\n    }\n  }); // No dependencies on purpose\n\n  const width = useWidth();\n\n  const handleOpenSearch = React.useCallback(() => setSearchOpen(true), [setSearchOpen]);\n\n  const inputRef = React.useRef(null);\n\n  const tableUpdate = useTableUpdate();\n\n  const updateTable = React.useCallback(\n    value =>\n      tableUpdate({\n        id: name,\n        searchtext: value\n      }),\n    [name, tableUpdate]\n  );\n\n  const handleClear = React.useCallback(\n    event => {\n      updateTable('');\n      setSearchOpen(false);\n    },\n    [updateTable, setSearchOpen]\n  );\n\n  const handleKeyDown = React.useCallback(\n    event => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        handleClear(event);\n      }\n    },\n    [handleClear]\n  );\n\n  React.useEffect(() => {\n    const current = inputRef && inputRef.current;\n    if (searchOpen) {\n      if (current) {\n        current.focus();\n        current.addEventListener('keydown', handleKeyDown);\n      }\n    } else {\n      current.removeEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      if (current && searchOpen) {\n        current.removeEventListener('keydown', handleKeyDown);\n      }\n    };\n  }, [inputRef, searchOpen, handleKeyDown]);\n\n  const handleChange = React.useCallback(\n    event => {\n      updateTable(event.target.value);\n    },\n    [updateTable]\n  );\n  const fullScreen = useFullScreen();\n\n  const Search = (\n    <FormControl className={classes.formControl}>\n      <Input\n        disableUnderline={false}\n        classes={{ underline: classes.underline }}\n        value={searchtext ? searchtext : ''}\n        onChange={handleChange}\n        placeholder={inputplaceholder}\n        startAdornment={\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <InputAdornment position='end'>\n            <IconButton className={classes.searchIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        }\n        inputRef={inputRef}\n      />\n    </FormControl>\n  );\n\n  const searchbutton =\n    search !== false && search ? (\n      <>\n        <Tooltip\n          placement='bottom'\n          title={\n            <Typography variant='h6' color='inherit'>\n              Search\n            </Typography>\n          }\n        >\n          <Fab variant='extended' size='small' color='primary' onClick={handleOpenSearch}>\n            <Icons.Search />\n            {!fullScreen && <div style={{ marginLeft: 4, marginRight: 4 }}>Search</div>}\n          </Fab>\n        </Tooltip>\n      </>\n    ) : null;\n\n  var Buttons = [searchbutton, ...evalFunc(buttons, props)].filter(b => b);\n\n  const buttonspacing = 0; //Grid spacing of each button\n  const buttonwidth = 42; //Width of each button\n  const widths = {\n    contentpadding: layout.contentpadding * 2, //Exterior padding\n    headerpadding: 16, //Padding within the header\n    iconwidth: 32, //Width of the title icon\n    titlepadding: 8, //Padding between the icon and the title\n    titleminwidth: 64, //Minimum width of the typography title - Don't display the title unless you can see more than 64 pixels\n    calculatedbuttonswidth: Buttons.length * buttonwidth + buttonspacing * (Buttons.length > 0 ? Buttons.length - 1 : 0)\n  };\n\n  const calculatedfullwidth = Object.keys(widths)\n    .map(k => widths[k])\n    .reduce((t, a) => t + a, 0);\n  const calculatedpartialwidth = calculatedfullwidth - widths.titlepadding - widths.titleminwidth;\n\n  const tabletitlevisible = width >= calculatedfullwidth;\n  const tableiconvisible = width >= calculatedpartialwidth;\n\n  const IconComponent = Icon ?? Icons.List;\n\n  const ButtonGroup = (\n    <Grid item>\n      <Grid container direction='row' justify='flex-end' alignItems='center' spacing={buttonspacing}>\n        <Grid item>\n          <div style={{ display: searchOpen ? '' : 'none' }}>{Search}</div>\n          {!searchOpen && (\n            <Grid container spacing={1}>\n              {Buttons.map((b, i) => (\n                <Grid key={i} item>\n                  {evalFunc(b)}\n                </Grid>\n              ))}\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <>\n      {buttonPosition === 'top' && (\n        <Paper elevation={0} square={square}>\n          <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n            <Grid item xs zeroMinWidth>\n              <Grid container justify='flex-start' alignItems='center'></Grid>\n            </Grid>\n            {ButtonGroup}\n          </Grid>\n        </Paper>\n      )}\n      <Paper className={classes.paper} square={square}>\n        <Grid container spacing={0} justify='space-between' alignItems='center' className={classes.grid}>\n          <Grid item xs zeroMinWidth>\n            <Grid container justify='flex-start' alignItems='center'>\n              {tableiconvisible && showicon === true && (\n                <Grid item>\n                  <Tooltip title={title}>\n                    <IconComponent className={classes.titleicon} />\n                  </Tooltip>\n                </Grid>\n              )}\n              {tabletitlevisible && (\n                <Grid item xs zeroMinWidth>\n                  {title && (\n                    <Typography variant='body2' noWrap className={classes.title}>\n                      {title}\n                    </Typography>\n                  )}\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n          {buttonPosition !== 'top' && ButtonGroup}\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nexport default TableToolbar;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultState, updateSelector } from './store';\n\nconst useTabSelector = id => {\n  const dispatch = useDispatch();\n  const state = useSelector((state: AppState) => state.selector[id] || defaultState);\n  const setState = React.useCallback(payload => dispatch(updateSelector(id, payload)), [id, dispatch]);\n  return [state, setState];\n};\n\nexport default useTabSelector;\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Paper, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      background: palette.grey[600],\n      borderRadius: rounded ? undefined : 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      height: '100%',\n      zIndex: 0,\n      borderRadius: 'inherit'\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      color: palette.common.white,\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      color: palette.common.white,\n      zIndex: 1,\n      minWidth: 24,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  Component?: any;\n}\n\nconst TabSelector = ({ id, tabs = [], orientation, wrapped, minHeight = 52, rounded = true }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const tabId = tabs[0] && tabs[0].id;\n  React.useEffect(() => {\n    isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n    triggerResize();\n  }, [setTabSelector, selected, tabId]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n    },\n    [setTabSelector]\n  );\n\n  const { value = tabs[0].id } = tabSelector;\n\n  return (\n    <Paper className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map(t => (\n            <Tab\n              key={t.id}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Paper>\n  );\n};\n\nexport default TabSelector;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { AppState } from '../../../store';\nimport TabSelector, { TabSelectorItem } from '../../general/TabSelector/TabSelector';\n\nexport interface ComponentProps {\n  name?: string; //Unique name\n  tab?: string; //Selected tab\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  onChange?: (tab: string) => void;\n  classes?: any;\n}\n\nconst TableTabSelector = ({ tabs, tab, orientation }: ComponentProps) => <TabSelector tab={tab} tabs={tabs} orientation={orientation} />;\n\nconst mapStateToProps = (state: AppState, ownProp: ComponentProps): ComponentProps => {\n  const storeTable = state.table[ownProp.name];\n  return {\n    ...ownProp,\n    name: ownProp.name,\n    tab: ownProp.tab || (storeTable && storeTable.tab), //Use provide value, then store value or default to 'All' if neither are provided\n    orientation: state.layout.height > state.layout.width ? 'potrait' : 'landscape'\n  };\n};\n\nexport default connect(mapStateToProps)(TableTabSelector);\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport clsx from 'clsx';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { amber, green } from '@material-ui/core/colors';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { useSnackBar } from './useSnackBar';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}));\n\nexport default function SnackBar({ className = undefined, ...other }) {\n  const classes = useStyles({});\n  const [{ open, message, variant = 'success' }, setSnackBar] = useSnackBar();\n  const handleClose = React.useCallback((event, reason) => reason !== 'clickaway' && setSnackBar({ open: false }), [setSnackBar]);\n  const Icon = variantIcon[variant];\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      open={open}\n      autoHideDuration={3000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={clsx(classes[variant], className)}\n        aria-describedby='client-snackbar'\n        message={\n          <span id='client-snackbar' className={classes.message}>\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton key='close' aria-label='close' color='inherit' onClick={handleClose as any}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>\n        ]}\n        {...other}\n      />\n    </Snackbar>\n  );\n}\n","import * as React from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { updateSnackBar, SnackBarState } from './store';\n\nexport const useSnackBar = (): [SnackBarState, (SnackBarProps) => void] => {\n  const dispatch = useDispatch();\n  const state: SnackBarState = useSelector((state: AppState) => state.snackBar, shallowEqual);\n  const setState = React.useCallback((payload: SnackBarState) => dispatch(updateSnackBar(payload)), [dispatch]);\n  return [state, setState];\n};\n","import React from 'react';\nimport { getLabel, checkEmpty, hasChanged, validateHttpUrl } from '../../../helpers';\nimport merge from 'deepmerge';\nimport { validateEmail, emptyUndefined } from '../../../helpers';\nimport { isObjectWithKeys } from '../GenericTable/helpers';\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\n// Mappings to retreive the value from the state\nconst getMappedValue = (id, object, container, values = {}) => {\n  if (container && object) {\n    return values[container] && values[container][object] && values[container][object][id];\n  } else if (container) {\n    return values[container] && values[container][id];\n  } else if (object) {\n    return values[object] && values[object][id];\n  } else {\n    return values[id];\n  }\n};\n\nexport const setMappedValue = ({ field, value, prev }) => {\n  const { id, object, container } = field;\n  if (container && !prev[container]) {\n    prev[container] = {};\n  }\n  if (container && object && !prev[container][object]) {\n    prev[container][object] = {};\n  }\n  if (!container && object && !prev[object]) {\n    prev[object] = {};\n  }\n\n  if (container && object) {\n    prev[container][object][id] = value;\n  } else if (container) {\n    prev[container][id] = value;\n  } else if (object) {\n    prev[object][id] = value;\n  } else {\n    prev[id] = value;\n  }\n  return prev;\n};\n\nconst singleValue = ({ id, object, container }, values) => getMappedValue(id, object, container, values);\nexport const getValue = (f, values) => (f.getValue ? f.getValue(f, values) : singleValue(f, values));\n\nexport const isDisabled = (f, values) => (typeof f.disabled === 'function' ? f.disabled(values, f) : f.disabled); //Disabled fields are shown but disabled\nexport const isActive = ({ active }, values) => (typeof active === 'function' ? active(values) : active); //Active fields are hidden, but can be shown via other options changing in the dialog\nexport const isHidden = ({ hidden }, values) => (typeof hidden === 'function' ? hidden(values) : hidden); //Hidden fields are hidden for the current dialog state, and can't be shown via other options\n\nexport const bindField = ({ f, values, initialValues, errors, touched, handleChange, handleBlur, submitting, showErrors = false }) => {\n  const {\n    required,\n    type,\n    autoFocus,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    getProps,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    color\n  } = f; // Only pass necessary props to field\n  const props = {\n    autoFocus,\n    required,\n    type,\n    value: getValue(f, values),\n    initialValue: getValue(f, initialValues),\n    error: (showErrors || f.showError) && getValue(f, errors),\n    label: getLabel(f),\n    disabled: isDisabled(f, values) || submitting,\n    onChange: handleChange(f),\n    onBlur: handleBlur(f),\n    items: f.filter ? f.filter(f.items, values) : typeof f.items === 'function' ? f.items(values) : f.items,\n    InputProps,\n    inputProps,\n    step,\n    min,\n    max,\n    tab,\n    multiline,\n    rows,\n    disableCloseOnSelect,\n    description,\n    tooltip,\n    replace,\n    placeholder,\n    color,\n    ...(getProps && getProps(values)) // Allows the field to hook into the internal state values if needed\n  };\n  Object.keys(props).forEach(key => props[key] === undefined && delete props[key]); // Filter out any undefined props so they don't override any previously specified values\n  return props;\n};\n\nexport const isEnabled = value => value === true || value === undefined;\n\nexport const useHandleChange = (setValues, resetErrors = undefined) =>\n  React.useCallback(\n    field => e => {\n      var value = e && e.target && e.target.value;\n      if (field && field.uppercase && !checkEmpty(value)) {\n        value = value.toUpperCase();\n      }\n      setValues(prev => setMappedValue({ field, value, prev: { ...prev } })); // Ensure prev is a new copy\n      resetErrors && resetErrors();\n      field.onChange && field.onChange({ value, field, setValues });\n    },\n    [setValues, resetErrors]\n  );\n\nexport const getDefaultValues = fields => {\n  const defaultValues = {};\n  fields.forEach(field => {\n    field.initialValue !== undefined &&\n      setMappedValue({\n        field,\n        value: field.initialValue,\n        prev: defaultValues\n      });\n  });\n  return defaultValues;\n};\n\nexport const useValues = ({\n  open,\n  fields = [],\n  InitialValues = {},\n  state = {} as any,\n  setState,\n  validate,\n  externalValues = undefined, // Use with externalSetValues, for having an external state, such as redux\n  externalSetValues = undefined, //Use with externalValues, for having an external state, such as redux\n  onChange = undefined,\n  disableInitialize = false\n}) => {\n  const { initialValues = {}, submitting, showErrors } = state;\n  const defaultValues = getDefaultValues(fields); // Get any default values from the individual fields first\n  var mergedInitialValues = merge(defaultValues, InitialValues); // Merge with any incoming initialValues from the properties\n  mergedInitialValues = merge(mergedInitialValues, initialValues); // Merge any initial values from the external dialog state\n  const [internalValues, setInternalValues] = React.useState(mergedInitialValues);\n  const values = externalValues ? externalValues : internalValues;\n\n  const setValues = React.useCallback(\n    vals => {\n      externalSetValues ? externalSetValues(vals) : setInternalValues(vals);\n      onChange && onChange(vals);\n    },\n    [externalSetValues, setInternalValues, onChange]\n  );\n\n  const [touched, setTouched] = React.useState({});\n\n  const mergedInitialValuesStr = JSON.stringify(mergedInitialValues); // Use a string since the object references will change everytime\n  const initializeValues = React.useCallback(() => {\n    setTouched({});\n    setValues(JSON.parse(mergedInitialValuesStr));\n  }, [setValues, mergedInitialValuesStr]);\n\n  React.useEffect(() => {\n    // Re-initialize values when necessary\n    open && !disableInitialize && setValues(JSON.parse(mergedInitialValuesStr));\n    open && !disableInitialize && setTouched({});\n  }, [open, mergedInitialValuesStr, disableInitialize, setValues]);\n\n  const internalErrors = open ? handleValidation({ values, fields, errors: state.errors }) : {}; // Perform standard field validations, required, email, etc\n  const externalErrors = open && validate ? validate(values, state) : {}; // Add any external validations if specified\n  const errors = merge(internalErrors, externalErrors);\n  const errorCount = fields ? fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const stateErrors = state.errors;\n  const resetErrors = React.useCallback(() => isObjectWithKeys(stateErrors) && setState(prev => ({ ...prev, errors: {} })), [setState, stateErrors]); // Reset any external errors\n  const handleChange = useHandleChange(setValues, resetErrors);\n  const handleBlur = React.useCallback(\n    field => () => {\n      setTouched(prev => setMappedValue({ field, value: true, prev: { ...prev } })); // Ensure new copy of prev is used\n    },\n    [setTouched]\n  );\n\n  const mapField = f =>\n    bindField({\n      f,\n      values,\n      initialValues: mergedInitialValues,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      submitting,\n      showErrors\n    });\n\n  return {\n    values,\n    setValues,\n    hasChanged: hasChanged(values, mergedInitialValues),\n    touched,\n    errors,\n    errorCount,\n    handleChange,\n    handleBlur,\n    mapField,\n    initializeValues\n  };\n};\n\nexport const handleValidation = ({ values, fields, errors: Errors }) => {\n  var errors = { ...Errors }; // Make a copy\n  fields.forEach(f => {\n    if (f.email && !checkEmpty(getValue(f, values)) && !validateEmail(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid email format.', prev: errors });\n    } else if (f.required && checkEmpty(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Required', prev: errors });\n    } else if (f.http && !checkEmpty(getValue(f, values)) && !validateHttpUrl(getValue(f, values))) {\n      setMappedValue({ field: f, value: 'Invalid http url format.', prev: errors });\n    } else if (f.validate) {\n      setMappedValue({ field: f, value: emptyUndefined(f.validate(values)), prev: errors });\n    }\n  });\n\n  return errors;\n};\n\n// Only count errors for active fields that are not disabled or hidden\nexport const isError = (field, values, errors) => {\n  return (\n    !(isActive(field, values) === false) && // Active\n    !(isDisabled(field, values) === true) && // Not disabled\n    !(isHidden(field, values) === true) && // Not hidden\n    getValue(field, errors) !== undefined // Not undefined\n  );\n};\n\n// Returns a static field array to prevent un-necessary re-renders\nexport const useStepFields = steps => {\n  const [fields, setFields] = React.useState(\n    steps\n      .filter(s => s.fields)\n      .map(s => s.fields)\n      .reduce((t, c) => (t = [...t, ...c]), [])\n  );\n\n  React.useEffect(() => {\n    setFields(\n      steps\n        .filter(s => s.fields)\n        .map(s => s.fields)\n        .reduce((t, c) => (t = [...t, ...c]), [])\n    );\n  }, [steps, setFields]);\n  return fields;\n};\n","import * as React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { isError } from '../../../helpers';\n\nconst Text = ({ value = '', forceErrorMargin = false, error = undefined, initialValue = undefined, ...other }) => (\n  <TextField\n    value={value}\n    error={isError(error)}\n    helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n    margin='dense'\n    variant='outlined'\n    fullWidth\n    InputLabelProps={{\n      shrink: true\n    }}\n    {...other}\n  />\n);\n\nexport default Text;\n","import React from 'react';\nimport { Grid, Collapse, Tooltip, Typography } from '@material-ui/core';\nimport Text from '../DialogField/Text';\nimport { isActive, isHidden, getValue } from './helpers';\nimport { debugSettings, checkEmpty } from '../../../helpers';\n\nconst getColumnFields = (fields, columns, index) => {\n  const numFields = fields.length;\n  const numCols = columns;\n  const numColsField = Math.ceil(numFields / numCols);\n  const startIndex = numColsField * index;\n  const endIndex = Math.min(startIndex + numColsField - 1, numFields - 1);\n  return fields.filter((f, i) => i >= startIndex && i <= endIndex);\n};\n\nexport const MapField = ({ Field, style, active, xs = 12, values, mapField, fullWidth, ...f }) => {\n  const collapse = isActive({ active }, values);\n\n  const item = Field ? <Field {...mapField(f)} values={values} /> : checkEmpty(f.id) ? undefined : <Text {...mapField(f)} />;\n\n  const { id, container, object } = f; // InputProps causes circular reference error for some reason, so remove it before stringify\n  const value = getValue(f, values);\n\n  const wrappeditem = (\n    <Tooltip\n      title={\n        <>\n          <Typography>Value: {typeof value === 'object' ? JSON.stringify(value) : value}</Typography>\n          <Typography>{JSON.stringify({ id, container, object })}</Typography>\n        </>\n      }\n    >\n      <div>{item}</div>\n    </Tooltip>\n  );\n  const Item = debugSettings.debugfieldonhover ? wrappeditem : item;\n\n  return (\n    <Grid key={`${f.id}`} item style={style} xs={fullWidth ? 12 : (xs as any)}>\n      {collapse !== undefined ? <Collapse in={collapse}>{Item}</Collapse> : Item}\n    </Grid>\n  );\n};\n\nconst Fields = ({ fields, mapField, values, fullWidth = false, columns = 1, minColumnWidth = 250, maxColumnWidth = 250 }) =>\n  columns > 1 ? (\n    <Grid key='column-container' item xs={12} container spacing={0} justify='center'>\n      {Array.from(Array(columns).keys()).map(i => (\n        <Grid key={i} item xs={fullWidth ? 12 : true} style={fullWidth ? {} : { minWidth: minColumnWidth, maxWidth: maxColumnWidth }}>\n          <Grid container justify='center' spacing={1}>\n            <Grid item xs={11}>\n              <Fields\n                fields={getColumnFields(fields, columns, i)}\n                mapField={mapField}\n                values={values}\n                fullWidth={false}\n                columns={1}\n                minColumnWidth={minColumnWidth}\n                maxColumnWidth={maxColumnWidth}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n      ))}\n    </Grid>\n  ) : (\n    fields.filter(f => !isHidden(f, values)).map((props, i) => <MapField key={i} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />)\n  );\n\nexport const InjectField = ({ values, mapField, fullWidth, fields, id, object = undefined, container = undefined, ...other }) => {\n  const f = fields.find(\n    f => f.id === id && (object !== undefined ? f.object === object : true) && (container !== undefined ? f.container === container : true)\n  );\n  return !f || isHidden(f, values) ? <></> : <MapField {...f} {...other} values={values} mapField={mapField} fullWidth={fullWidth} />;\n};\n\nexport default Fields;\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nexport default function ErrorGate({ error, children }) {\n  return error ? (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography align='center'>Error loading data, please close and try again.</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography align='center' color='error'>\n          Error: {error}\n        </Typography>\n      </Grid>\n    </Grid>\n  ) : (\n    children\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Grid, Tooltip, CircularProgress, useTheme, Collapse } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport { useValues } from './helpers';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Fields from './Fields';\nimport ErrorGate from './ErrorGate';\nimport { useFullScreen } from '../../../hooks';\nimport { evalFunc } from '../../../helpers';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    button: {\n      width: '100%',\n      maxWidth: '200px'\n    },\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    dialogHeader: {\n      background: palette.grey[100]\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    content: {\n      padding: spacing(2)\n    },\n    actions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    title: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      margin: 0,\n      padding: 0,\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    formControl: {\n      marginTop: 8\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  OnClose: any;\n  validate: any;\n  Content: Element;\n  ContentProps: any;\n  fields: FieldProps[];\n  classes?: object;\n}\n\nconst GenericDialog = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel,\n  dialogActions = true,\n  divider = true,\n  fields = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  Content,\n  ContentProps,\n  validate,\n  classes: Classes,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme() as any;\n  const [state, setState] = useDialogState(id);\n  const { type, open, loading, submitting } = state;\n  const title = state.title ? state.title : Title;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ classes: Classes });\n  const fullScreen = useFullScreen();\n\n  const { values, setValues, hasChanged, errors, errorCount, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate\n  });\n\n  React.useEffect(() => {\n    open && setConfirmDelete(false);\n  }, [open]); // Re-initialize values when necessary\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), setValues);\n    }\n  }, [setState, onSubmit, values_s, setValues, errorCount]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    setValues,\n    ...ContentProps\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Dialog\n      PaperComponent={!fullScreen && draggable ? PaperComponent : Paper}\n      fullScreen={fullScreen}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={`${id}-dialog-title`}\n      aria-describedby={`${id}-dialog-description`}\n      className={classes.dialog}\n      disableAutoFocus={true}\n      maxWidth='xs'\n      fullWidth\n      {...other}\n    >\n      {title !== null && (\n        <>\n          <DialogTitle id={`${id}-dialog-title`} disableTypography className={classes.title}>\n            <Grid container justify='space-between' alignItems='center'>\n              <Grid item zeroMinWidth xs>\n                <Typography noWrap variant='h6' className={classes.capitalize}>\n                  {title ? title : title === '' ? '' : [type, id].join(' ')}\n                </Typography>\n              </Grid>\n              <Grid item>\n                {handleClose ? (\n                  <Tooltip title='Close' placement='left'>\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\n                      <CloseIcon />\n                    </IconButton>\n                  </Tooltip>\n                ) : null}\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          {divider && <Divider />}\n        </>\n      )}\n      <ErrorGate error={errors['loading']}>\n        <>\n          {children ? (\n            children\n          ) : Content ? (\n            <Content {...contentProps} />\n          ) : (\n            <DialogContent className={classes.content} dividers>\n              {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n              <Collapse in={!confirmDelete}>\n                <Grid container alignItems='center' spacing={1}>\n                  <Fields {...contentProps} />\n                </Grid>\n              </Collapse>\n              {confirmDelete && (\n                <Grid container spacing={2} justify='center' alignItems='center'>\n                  <Grid item>\n                    <Button onClick={handleConfirmDelete} color='secondary'>\n                      Cancel\n                    </Button>\n                  </Grid>\n                  <Grid item>\n                    <Button onClick={handleDelete} className={classes.deleteButton}>\n                      <DeleteIcon style={{ marginRight: 4 }} />\n                      Confirm {deleteLabel}\n                    </Button>\n                  </Grid>\n                </Grid>\n              )}\n            </DialogContent>\n          )}\n        </>\n      </ErrorGate>\n      {dialogActions && !confirmDelete && (\n        <DialogActions className={classes.actions}>\n          {type === 'Edit' && onDelete !== undefined && (\n            <Button disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n              {deleteLabel}\n            </Button>\n          )}\n          {cancelLabel !== null && (\n            <Button color='default' onClick={handleClose}>\n              {cancelLabel}\n            </Button>\n          )}\n          {submitLabel !== null && (\n            <Button autoFocus disabled={disabled || !hasChanged} color='primary' onClick={handleSubmit}>\n              {evalFunc(submitLabel, values) || type}\n            </Button>\n          )}\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport default GenericDialog;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ disabled }: any) => ({\n      color: disabled ? palette.text.disabled : 'inherit'\n    })\n  })\n);\n\nconst Label = ({ label, disabled }) => <Typography className={useStyles({ disabled }).root}>{label}</Typography>;\n\nexport default Label;\n","import * as React from 'react';\nimport { TextField, Typography } from '@material-ui/core';\nimport { isError } from '../../../helpers';\n\nexport default function TextLabel({ value = '', label, forceErrorMargin = false, error = undefined, initialValue = undefined, ...other }) {\n  return (\n    <>\n      {label && <Typography variant='body2'>{label}</Typography>}\n      <TextField\n        value={value}\n        error={isError(error)}\n        helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n        margin='dense'\n        variant='outlined'\n        fullWidth\n        InputLabelProps={{\n          shrink: true\n        }}\n        {...other}\n      />\n    </>\n  );\n}\n","import { Button, createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { publicUrl } from '../../../../helpers';\nimport { useChangeRoute } from '../../../layout/hooks';\nimport * as Icons from '@material-ui/icons';\n\nexport const title = 'Sign Up';\n\nconst borderRadius = 25;\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    rateAnApp: {\n      background: palette.secondary.light,\n      color: palette.text.primary,\n      padding: 24,\n      borderRadius\n    },\n    arrowRight: {\n      color: palette.primary.light\n    },\n    primaryTextSmall: {\n      fontWeight: 900,\n      color: palette.primary.dark\n    }\n  })\n);\n\nexport default function RateAnApp({ onClick = undefined }) {\n  const classes = useStyles();\n  const changeRoute = useChangeRoute();\n\n  const handleRateApp = React.useCallback(() => {\n    changeRoute(publicUrl('/RateAnApp'));\n    onClick && onClick();\n  }, [changeRoute, onClick]);\n\n  return (\n    <Grid container alignItems='center' spacing={2} className={classes.rateAnApp}>\n      <Grid item xs={12}>\n        <Typography variant='h5' style={{ fontWeight: 900 }}>\n          Interested in rating an app?\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography>Our database is sourced by app reviews from trained app raters. Rating an app is an interactive process.</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography>\n          Raters will be prompted through 105 different questions about an app and its features, privacy settings, clinical foundations and more.\n        </Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'left' }}>\n        <Button style={{ borderRadius }} onClick={handleRateApp}>\n          <Grid container spacing={1}>\n            <Grid item>\n              <Typography className={classes.primaryTextSmall}>Rate an App</Typography>\n            </Grid>\n            <Grid item>\n              <Icons.ArrowRightAlt className={classes.arrowRight} />\n            </Grid>\n          </Grid>\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { copyToLower, isEmpty as isValEmpty } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport DialogButton from '../DialogButton';\nimport Label from '../../DialogField/Label';\nimport { Auth } from 'aws-amplify';\nimport { useSetUser } from '../../../layout/store';\nimport { Button, createStyles, DialogContent, Grid, makeStyles, Typography } from '@material-ui/core';\nimport { useFullScreen } from '../../../../hooks';\nimport { InjectField } from '../Fields';\nimport TextLabel from '../../DialogField/TextLabel';\nimport RateAnApp from '../RegisterV2/RateAnApp';\n\nexport const title = 'Login';\nconst maxWidth = 'md';\n\nconst handleValidation = ({ message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (!isValEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  return errors;\n};\n\nconst ForgotPassword = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton color='white' variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Forgot Password'}\n    </DialogButton>\n  );\n};\n\nconst borderRadius = 25;\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    primaryButton: {\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    rateAnApp: {\n      background: palette.secondary.light,\n      color: palette.text.primary,\n      padding: 24,\n      borderRadius\n    },\n    arrowRight: {\n      color: palette.primary.light\n    },\n    infoContainer: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      borderRadius\n    },\n    content: {\n      paddingLeft: 48,\n      paddingRight: 48,\n      paddingTop: 16,\n      paddingBottom: 16,\n      background: palette.primary.light,\n      color: palette.common.white\n    }\n  })\n);\n\nfunction Content({ fields, values, mapField, fullWidth, setValues, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} setValues={setValues} mapField={mapField} fullWidth={fullWidth} {...props} />;\n\n  const classes = useStyles();\n  const fs = useFullScreen('sm');\n\n  const [state, setState] = useDialogState(title);\n\n  const { enterNewPassword, errors } = state;\n  const dialogStateStr = JSON.stringify(state);\n  const setUser = useSetUser();\n\n  const handleLogin = React.useCallback(\n    ({ forgotPassword, confirmationCode, newPassword, email, password } = {}) =>\n      () => {\n        if (forgotPassword) {\n          if (enterNewPassword) {\n            Auth.forgotPasswordSubmit(email, confirmationCode, newPassword)\n              .then(data => {\n                alert('Successfully updated password.');\n                Auth.signIn(email, newPassword)\n                  .then(user => {\n                    console.log('Login success!');\n                    setUser(user);\n                    setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n                  })\n                  .catch(err => {\n                    console.error('Error with Login');\n                    console.error(err);\n                    const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n                    setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n                  });\n              })\n              .catch(err => {\n                console.error('Error resetting password');\n                console.error(err);\n                const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n                setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n              });\n          } else {\n            Auth.forgotPassword(email)\n              .then(data => {\n                alert('An email has been sent with instructions for resetting your password.');\n                setState(prev => ({ ...prev, loading: false, enterNewPassword: true }));\n              })\n              .catch(err => {\n                console.error('Error requesting reset');\n                const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n                setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n              });\n          }\n        } else {\n          Auth.signIn(email, password)\n            .then(user => {\n              console.log('Login success!');\n              setUser(user);\n              setState(prev => ({ ...prev, open: false, loading: false, errors: {} }));\n            })\n            .catch(err => {\n              console.error('Error with Login');\n              console.error(err);\n              const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n              setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n            });\n        }\n      },\n    [enterNewPassword, setUser, dialogStateStr, setState, errors]\n  );\n\n  var submitLabel = values.forgotPassword ? (enterNewPassword ? 'Change Password' : 'Request Reset') : 'Login';\n\n  return (\n    <DialogContent className={classes.content}>\n      <Grid container style={{ paddingBottom: 32 }} spacing={4}>\n        <Grid item xs={fs ? 12 : 6}>\n          <Grid container alignItems='center' spacing={0} className={classes.infoContainer}>\n            <Grid item xs={12}>\n              <Typography variant='h5'>Log in to our internal platform:</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container style={{ marginTop: 8, marginBottom: 8 }} alignItems='center' spacing={1}>\n                <Grid item xs={12}>\n                  {injectField('email')}\n                </Grid>\n                <Grid item xs={12}>\n                  {injectField('password')}\n                </Grid>\n\n                <Grid item xs={12}>\n                  {injectField('forgotPasswordLabel')}\n                </Grid>\n\n                <Grid item xs={12}>\n                  {injectField('forgotPassword')}\n                </Grid>\n\n                <Grid item xs={12}>\n                  {injectField('confirmationCode')}\n                </Grid>\n\n                <Grid item xs={12}>\n                  {injectField('newPassword')}\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} style={{ textAlign: 'center' }}>\n              <Button onClick={handleLogin(values)} className={classes.primaryButton}>\n                {submitLabel}\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={fs ? 12 : 6}>\n          <RateAnApp onClick={() => setState(prev => ({ ...prev, open: false }))} />\n        </Grid>\n      </Grid>\n    </DialogContent>\n  );\n}\n\nexport default function LoginDialog({ id = title }) {\n  const [dialogState] = useDialogState(id);\n  const { enterNewPassword } = dialogState;\n\n  const fs = useFullScreen('sm');\n\n  return (\n    <GenericDialog\n      id={id}\n      PaperProps={{\n        style: {\n          borderRadius: fs ? 0 : 25\n        }\n      }}\n      title=''\n      divider={false}\n      dialogActions={false}\n      maxWidth={maxWidth}\n      validate={handleValidation}\n      Content={Content}\n      fields={[\n        {\n          id: 'email',\n          placeholder: 'Email Address',\n          label: 'Email address',\n          Field: TextLabel,\n          autoFocus: true,\n          required: true,\n          email: true,\n          hidden: enterNewPassword,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        },\n        {\n          id: 'password',\n          label: 'Password',\n          required: true,\n          Field: TextLabel,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: values => values.forgotPassword || enterNewPassword,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        },\n        {\n          id: 'forgotPasswordLabel',\n          label: 'Enter your email address and press request reset. We will send you an email with a code to reset your password.',\n          Field: Label,\n          initialValue: false,\n          hidden: values => !values.forgotPassword || enterNewPassword\n        },\n        {\n          id: 'forgotPassword',\n          label: 'Forgot Password',\n          Field: ForgotPassword,\n          initialValue: false,\n          hidden: enterNewPassword\n        },\n        {\n          id: 'confirmationCode',\n          label: 'Enter Verification Code Sent to Email Address',\n          Field: TextLabel,\n          required: true,\n          hidden: !enterNewPassword,\n          initialValue: '',\n          InputProps: {\n            style: { background: 'white' }\n          }\n        },\n        {\n          id: 'newPassword',\n          label: 'New Password',\n          Field: TextLabel,\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          hidden: !enterNewPassword,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { copyToLower, isEmpty as isValEmpty } from '../../../../helpers';\nimport { useDialogState } from '../useDialogState';\nimport { Auth } from 'aws-amplify';\nimport DialogButton from '../DialogButton';\nimport { useSetUser } from '../../../layout/store';\nimport RateAnApp from './RateAnApp';\nimport { createStyles, DialogContent, Grid, makeStyles, Typography, Button, Box } from '@material-ui/core';\nimport { InjectField } from '../Fields';\nimport { useFullScreen } from '../../../../hooks';\nimport TextLabel from '../../DialogField/TextLabel';\nconst passwordValidator = require('password-validator');\nexport const title = 'Sign Up';\n\n// create a password schema\nconst schema = new passwordValidator();\n\nschema.is().min(8).has().uppercase().has().lowercase().has().digits().has().symbols();\n\nconst formatPasswordValidateError = errors => {\n  for (let i = 0; i < errors.length; i++) {\n    if (errors[i] === 'min') {\n      return 'password length should be a at least 8 characters';\n    } else if (errors[i] === 'lowercase') {\n      return 'password should contain lowercase letters';\n    } else if (errors[i] === 'uppercase') {\n      return 'password should contain uppercase letters';\n    } else if (errors[i] === 'digits') {\n      return 'password should contain digits';\n    } else if (errors[i] === 'symbols') {\n      return 'password should contain symbols';\n    }\n  }\n};\n\nconst handleValidation = ({ password, confirmationCodeError, confirmPassword, message }, dialogState) => {\n  var errors = copyToLower(dialogState.errors); // start with server generated errors, ensure all keys start with lowercase letter\n\n  if (password !== confirmPassword) {\n    errors['confirmPassword'] = 'Passwords must match.';\n    errors['password'] = 'Passwords must match.';\n  }\n\n  const validationRulesErrors = schema.validate(password, { list: true });\n  if (validationRulesErrors.length > 0) {\n    errors['password'] = formatPasswordValidateError(validationRulesErrors);\n  }\n\n  if (!isValEmpty(message)) {\n    if (message.includes('password') || message.includes('Password')) {\n      errors['confirmPassword'] = message;\n      errors['password'] = message;\n    } else {\n      errors['email'] = message;\n    }\n  }\n\n  if (!isValEmpty(confirmationCodeError)) {\n    errors['confirmationCode'] = confirmationCodeError;\n  }\n\n  return errors;\n};\n\nconst EnterConfirmationCode = ({ value = false, onChange }) => {\n  const handleClick = () => onChange({ target: { value: !value } });\n  return (\n    <DialogButton color='white' variant='link' tooltip='' onClick={handleClick}>\n      {value ? 'Back' : 'Enter Verification Code'}\n    </DialogButton>\n  );\n};\n\nconst borderRadius = 25;\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    primaryButton: {\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    rateAnApp: {\n      background: palette.secondary.light,\n      color: palette.text.primary,\n      padding: 24,\n      borderRadius\n    },\n    arrowRight: {\n      color: palette.primary.light\n    },\n    infoContainer: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      borderRadius\n    },\n    content: {\n      paddingLeft: 48,\n      paddingRight: 48,\n      paddingTop: 16,\n      paddingBottom: 16,\n      background: palette.primary.light,\n      color: palette.common.white\n    }\n  })\n);\n\nfunction Content({ fields, values, mapField, fullWidth, setValues, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} setValues={setValues} mapField={mapField} fullWidth={fullWidth} {...props} />;\n\n  const classes = useStyles();\n  const fs = useFullScreen('sm');\n\n  const [state, setState] = useDialogState(title);\n\n  const { errors } = state;\n  const { confirm } = values;\n  const dialogStateStr = JSON.stringify(state);\n  const setUser = useSetUser();\n\n  const values_str = JSON.stringify(values);\n\n  const handleAdd = React.useCallback(() => {\n    const values = JSON.parse(values_str);\n    const { email, password } = values;\n\n    Auth.signUp({\n      username: email,\n      password,\n      attributes: {\n        email,\n        name: email\n      }\n    })\n      .then(result => {\n        console.log('Succesfully signed up user!');\n        setState(prev => ({ ...prev, open: true, loading: false }));\n        setValues(prev => ({ ...prev, confirm: true }));\n      })\n      .catch(err => {\n        console.error('Error with Register');\n        const newErrors = handleValidation({ ...errors, message: err.message }, JSON.parse(dialogStateStr));\n        setState(prev => ({ ...prev, showErrors: true, loading: false, errors: newErrors }));\n      });\n  }, [dialogStateStr, setState, errors, values_str, setValues]);\n\n  const handleConfirm = React.useCallback(() => {\n    const values = JSON.parse(values_str);\n    const { email, password, confirmationCode } = values;\n    Auth.confirmSignUp(email, confirmationCode)\n      .then(() => {\n        console.log('Confirmed account!');\n        setState(prev => ({ ...prev, open: false, loading: false, confirm: false }));\n        Auth.signIn(email, password)\n          .then(user => {\n            console.log('Login success!');\n            setUser(user);\n          })\n          .catch(err => {\n            console.error('Error with Login');\n            console.error(err);\n          });\n      })\n      .catch(err => {\n        console.error('Invalid code');\n        console.error(err);\n        const newErrors = handleValidation({ ...errors, confirmationCodeError: err.message }, JSON.parse(dialogStateStr));\n        setState(prev => ({ ...prev, loading: false, showErrors: true, errors: newErrors }));\n      });\n  }, [setUser, dialogStateStr, setState, errors, values_str]);\n\n  var submitLabel = confirm ? 'Confirm' : 'Create Account';\n\n  return (\n    <DialogContent className={classes.content}>\n      <Grid container style={{ paddingBottom: 32 }} spacing={4}>\n        <Grid item xs={fs ? 12 : 6}>\n          <Grid container alignItems='center' spacing={0} className={classes.infoContainer}>\n            <Grid item xs={12}>\n              <Typography variant='h5'>Welcome,</Typography>\n              <Typography variant='h5'>Sign Up to our internal platform:</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container style={{ marginTop: 8, marginBottom: 8 }} alignItems='center' spacing={1}>\n                <Grid item xs={12}>\n                  {injectField('email')}\n                </Grid>\n                <Grid item xs={12}>\n                  {injectField('password')}\n                </Grid>\n                <Grid item xs={12}>\n                  {injectField('confirmPassword')}\n                </Grid>\n                <Grid item xs={12}>\n                  {injectField('confirmationCode')}\n                </Grid>\n                <Grid item xs={12}>\n                  {injectField('confirm')}\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} style={{ textAlign: 'center' }}>\n              <Button onClick={confirm ? handleConfirm : handleAdd} className={classes.primaryButton}>\n                {submitLabel}\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={fs ? 12 : 6}>\n          <Box mt={2}>\n            <RateAnApp onClick={() => setState(prev => ({ ...prev, open: false }))} />\n          </Box>\n        </Grid>\n      </Grid>\n    </DialogContent>\n  );\n}\n\nexport default function RegisterDialog({ id = title }) {\n  const [dialogState] = useDialogState(id);\n  const { confirm } = dialogState;\n\n  const fs = useFullScreen('sm');\n\n  return (\n    <GenericDialog\n      id={id}\n      maxWidth='md'\n      PaperProps={{\n        style: {\n          borderRadius: fs ? 0 : 25\n        }\n      }}\n      title=''\n      divider={false}\n      dialogActions={false}\n      validate={handleValidation}\n      Content={Content}\n      fields={[\n        {\n          id: 'email',\n          label: 'Email',\n          autoFocus: true,\n          required: true,\n          email: true,\n          Field: TextLabel,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        },\n        {\n          id: 'password',\n          label: 'Password',\n          Field: TextLabel,\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          InputProps: {\n            style: { background: 'white' }\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmPassword',\n          label: 'Confirm Password',\n          Field: TextLabel,\n          required: true,\n          inputProps: {\n            type: 'password'\n          },\n          InputProps: {\n            style: { background: 'white' }\n          },\n          hidden: ({ confirm }) => confirm\n        },\n        {\n          id: 'confirmationCode',\n          label: 'Enter Verification Code Sent to above Email Address',\n          Field: TextLabel,\n          required: confirm ? true : false,\n          hidden: ({ confirm }) => !confirm,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        },\n        {\n          id: 'confirm',\n          label: 'Enter Verification Code',\n          Field: EnterConfirmationCode,\n          initialValue: false,\n          InputProps: {\n            style: { background: 'white' }\n          }\n        }\n      ]}\n    />\n  );\n}\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Typography, createStyles, makeStyles, Container } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\nimport { useLocation } from 'react-router';\nimport { useChangeRoute } from '../../layout/hooks';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  onChange?: any;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      borderRadius: rounded ? undefined : 0,\n      padding: 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.light,\n      marginBottom: 4,\n      height: 4,\n      zIndex: 0,\n      borderRadius: 5\n    },\n    labelIcon: ({ minHeight }: any) => ({\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      zIndex: 1,\n      minWidth: 0,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  route?: any;\n  Component?: any;\n}\n\nconst TabSelectorToolBarV2 = ({ id, tabs = [], orientation, wrapped, minHeight = 64, rounded = true, onChange }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const { pathname } = useLocation();\n\n  const tabId = tabs[0] && tabs[0].id;\n  const tabRoute = tabs.find(t => t.id === selected)?.route;\n  const tabToSelect = pathname !== tabRoute && tabs.find(t => t.route === pathname);\n\n  const changeRoute = useChangeRoute();\n\n  React.useEffect(() => {\n    if (tabToSelect === undefined) {\n      setTabSelector({ value: tabToSelect });\n    } else {\n      isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n      tabToSelect && setTabSelector({ value: tabToSelect.id });\n    }\n    triggerResize();\n  }, [setTabSelector, selected, tabId, tabToSelect]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n      onChange && onChange(value);\n    },\n    [setTabSelector, onChange]\n  );\n\n  const { value = undefined } = tabSelector;\n\n  const handleClick = React.useCallback(\n    (route, state, onClick = undefined) =>\n      () => {\n        changeRoute(route, state);\n        onClick && onClick();\n      },\n    [changeRoute]\n  );\n\n  return (\n    <Container className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map((t: any) => (\n            <Tab\n              key={t.id}\n              onClick={handleClick(t.route, t?.routeState, t?.onClick)}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography variant='caption' style={{ maxWidth: `calc(100% - ${2}px)` }} noWrap={!wrapped}>\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default TabSelectorToolBarV2;\n","import * as React from 'react';\nimport { makeStyles, Grid } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport logo from '../../images/logoV2.png';\nimport { useHandleChangeRoute } from './hooks';\nimport { publicUrl } from '../../helpers';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(({ breakpoints, layout }: any) =>\n  createStyles({\n    logo: ({ autoHide }: any) => ({\n      paddingLeft: 8,\n      paddingRight: 16,\n      height: layout.toolbarheight - 32,\n      [breakpoints.down('xs')]: {\n        display: autoHide ? 'none' : 'flex'\n      },\n      cursor: 'pointer'\n    }),\n    logoText: ({ autoHide }: any) => ({\n      width: 240,\n      color: '#1D1D1D',\n      marginTop: -6,\n      letterSpacing: 4,\n      [breakpoints.down('sm')]: {\n        display: autoHide ? 'none' : 'flex'\n      },\n      cursor: 'pointer'\n    })\n  })\n);\n\nconst logoText = 'M-HEALTH INDEX &';\nconst logoTextSecondary = 'NAVIGATION DATABASE';\n\nexport default function Logo({ autoHide = true, showText = true }) {\n  const classes = useStyles({ autoHide });\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <Grid container alignItems='center' onClick={handleChangeRoute(publicUrl('/'))}>\n      <Grid item>\n        <img className={classes.logo} src={logo} alt='logo' />\n      </Grid>\n      {showText && (\n        <Grid item>\n          <Grid container alignItems='center' className={classes.logoText}>\n            <Grid item xs={12}>\n              <Typography variant='caption'>{logoText}</Typography>\n            </Grid>\n            <Grid item xs={12} style={{ marginTop: -4 }}>\n              <Typography variant='caption'>{logoTextSecondary}</Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","export default \"data:image/png;base64,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\"","import * as React from 'react';\nimport { makeStyles, Grid, IconButton, Menu, MenuItem, Divider, Slide } from '@material-ui/core';\nimport { createStyles } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { useAppBarHeightRef, useChangeRoute } from './hooks';\nimport { publicUrl } from '../../helpers';\nimport * as LoginDialog from '../application/GenericDialog/LoginV2';\nimport * as RegisterDialog from '../application/GenericDialog/RegisterV2';\nimport DialogButton, { renderDialogModule } from '../application/GenericDialog/DialogButton';\nimport { useSelector } from 'react-redux';\nimport { useDialogState } from '../application/GenericDialog/useDialogState';\nimport { useSignedIn, useFullScreen, useIsAdmin } from '../../hooks';\nimport TabSelectorToolBarV2 from '../general/TabSelector/TabSelectorToolBarV2';\nimport * as Icons from '@material-ui/icons';\nimport { useLeftDrawer, useSetUser } from './store';\nimport Logo from './Logo';\nimport { grey } from '@material-ui/core/colors';\nimport useTabSelector from '../application/Selector/useTabSelector';\n\nconst useStyles = makeStyles(({ breakpoints, palette, layout }: any) =>\n  createStyles({\n    appBar: {\n      background: palette.primary.white,\n      paddingLeft: layout.contentpadding,\n      paddingRight: layout.contentpadding\n    },\n    appBarFullScreen: {\n      background: palette.primary.white\n    },\n    active: {\n      backgroundColor: palette.primary.dark\n    },\n    toolbar: {\n      background: palette.white\n    },\n    accountMenuItem: {\n      pointerEvents: 'none',\n      background: palette.primary.light,\n      color: palette.common.white\n    },\n    menuButton: {\n      marginLeft: 0,\n      color: grey[900],\n      [breakpoints.up('md')]: {\n        display: 'none'\n      }\n    }\n  })\n);\n\nconst useTabs = () => {\n  const [, setTabSelector] = useTabSelector('BlogLayoutSelector');\n  const handleClick = React.useCallback(() => {\n    setTabSelector({ value: 'News' });\n  }, [setTabSelector]);\n  return [\n    { id: 'Application Library', icon: Icons.Apps, route: '/Apps' },\n    { id: 'My Ratings', icon: Icons.RateReview, route: '/MyRatings' },\n    { id: 'Admin', icon: Icons.Dashboard, route: '/Admin', routeState: { subRoute: 'pending' } },\n    { id: 'Framework', icon: Icons.Description, route: '/FrameworkQuestions' },\n    { id: 'Community', icon: Icons.Forum, route: '/connect', routeState: { subRoute: 'list', category: 'News' }, onClick: handleClick }\n  ].filter(t => t);\n};\n\nconst id = 'AppBar';\nconst AppBarTabSelector = props => {\n  const isAdmin = useIsAdmin();\n  const signedIn = useSignedIn();\n  const tabs = useTabs();\n\n  return (\n    <TabSelectorToolBarV2\n      id={id}\n      tabs={tabs.filter(t => (t.id === 'My Ratings' ? signedIn : !isAdmin ? (t.id === 'Admin' ? false : true) : true))}\n      {...props}\n    />\n  );\n};\n\nexport default function ApplicationBarV2({ trigger }) {\n  const classes = useStyles();\n  const [{ open: registerOpen }, setRegisterState] = useDialogState(RegisterDialog.title);\n  const [{ open: loginOpen }, setLoginState] = useDialogState(LoginDialog.title);\n  const signedIn = useSignedIn();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const setUser = useSetUser();\n\n  const handleLogout = React.useCallback(() => {\n    registerOpen && setRegisterState(prev => ({ ...prev, open: false, loading: false })); // Close the register dialog if it happens to be open (since the button is automatically unmounted when logging in the state is controlled here)\n    loginOpen && setLoginState(prev => ({ ...prev, open: false, loading: false })); // Ensure login dialog is closed\n    setUser(undefined); // Reset user information\n    setAnchorEl(null);\n  }, [setUser, registerOpen, loginOpen, setRegisterState, setLoginState, setAnchorEl]);\n\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n\n  const changeRoute = useChangeRoute();\n\n  const tabs = useTabs();\n\n  const handleTabChange = React.useCallback(\n    value => {\n      const { route, routeState = {} } = tabs.find(t => t.id === value);\n      changeRoute(publicUrl(route), routeState);\n    },\n    [tabs, changeRoute]\n  );\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const fullScreen = useFullScreen('xs');\n\n  const [, setLeftDrawerOpen, leftDrawerEnabled] = useLeftDrawer();\n  const handleOpenLeftDrawer = React.useCallback(() => setLeftDrawerOpen(true), [setLeftDrawerOpen]);\n\n  return (\n    <>\n      {/* Render/mount dialogs outside of the menu item to prevent a bug which disables the tab button in the dialog*/}\n      {renderDialogModule(LoginDialog)}\n      {renderDialogModule(RegisterDialog)}\n      <Slide appear={false} direction='down' in={!trigger}>\n        <AppBar ref={useAppBarHeightRef()} position='fixed' color='inherit' elevation={2} className={fullScreen ? classes.appBarFullScreen : classes.appBar}>\n          <Toolbar className={classes.toolbar} disableGutters={true}>\n            {leftDrawerEnabled && (\n              <IconButton aria-label='open drawer' edge='start' onClick={handleOpenLeftDrawer} className={classes.menuButton}>\n                <Icons.Menu />\n              </IconButton>\n            )}\n            <Grid container alignItems='center' spacing={0}>\n              <Grid item>\n                <Logo />\n              </Grid>\n              <Grid item xs style={{ minWidth: 0 }}>\n                <AppBarTabSelector onChange={handleTabChange} />\n              </Grid>\n              <Grid item>\n                <Grid container justify='flex-end' alignItems='center'>\n                  <Grid item>\n                    <IconButton color='inherit' aria-label='account of current user' aria-haspopup='true' onClick={handleMenu}>\n                      {signedIn ? <Icons.AccountCircleTwoTone /> : <Icons.AccountCircle />}\n                    </IconButton>\n                    <Menu\n                      id='menu-appbar'\n                      anchorEl={anchorEl}\n                      anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right'\n                      }}\n                      keepMounted\n                      transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right'\n                      }}\n                      open={open}\n                      onClose={handleClose}\n                      MenuListProps={{ style: { paddingTop: signedIn ? 0 : undefined } }}\n                    >\n                      {signedIn\n                        ? [\n                            <MenuItem key='email' className={classes.accountMenuItem}>\n                              {email}\n                            </MenuItem>,\n                            <Divider key='divider' />,\n                            <MenuItem key='logout' onClick={handleLogout}>\n                              Logout\n                            </MenuItem>\n                          ]\n                        : [\n                            { label: 'Login', Module: LoginDialog, onClick: handleClose },\n                            { label: 'Signup', Module: RegisterDialog, onClick: handleClose }\n                          ].map(({ label, Module, onClick }) => (\n                            <DialogButton key={label} Module={Module} onClick={onClick} variant='menuitem' tooltip='' mount={false}>\n                              {label}\n                            </DialogButton>\n                          ))}\n                    </Menu>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      </Slide>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Link } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport { contactEmail } from '../../../package.json';\n\nconst primaryText = 'Questions or Concerns?';\n\nexport default function Questions() {\n  return (\n    <Grid container alignItems='center'>\n      <Grid item xs={12} style={{ textAlign: 'right' }}>\n        <Typography variant='h6' align='right'>\n          {primaryText}\n        </Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'right' }}>\n        <Link href={`mailto:${contactEmail}`} underline='always' target='_blank' variant='body1' color='primary'>\n          {contactEmail}\n        </Link>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, createStyles, makeStyles, Typography, Link } from '@material-ui/core';\nimport Logo from '../layout/Logo';\nimport Questions from '../layout/Questions';\nimport { useFooterHeightRef, useHandleChangeRoute } from './hooks';\nimport { useFullScreen, useIsAdmin } from '../../hooks';\nimport { useWidth } from './store';\n\nconst spacing = 3;\n\nconst useStyles = makeStyles(({ palette, spacing }) =>\n  createStyles({\n    root: {\n      background: palette.secondary.light,\n      padding: 16\n    },\n    container: {\n      width: '100%'\n    },\n    link: {\n      fontSize: 18,\n      color: palette.primary.dark,\n      cursor: 'pointer'\n    }\n  })\n);\n\nconst tabs = [\n  { id: 'Admin', route: '/Admin' },\n  { id: 'Find an APP', route: '/Home' },\n  { id: 'App Library', route: '/Apps' },\n  { id: 'Framework', route: '/FrameworkQuestions' },\n  { id: 'Community', route: '/connect' }\n  // { id: 'Privacy Policy', route: '/Apps' }\n];\n\nexport default function FooterV2({ variant = 'normal' }) {\n  const classes = useStyles();\n  const fs = useFullScreen();\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const width = useWidth();\n  var showText = width <= 660 ? false : true;\n\n  const isAdmin = useIsAdmin();\n\n  return (\n    <div ref={useFooterHeightRef()} className={classes.root}>\n      <Grid container justify='center' className={classes.container} spacing={1}>\n        {variant !== 'small' && (\n          <Grid item xs={12}>\n            <Grid container justify='space-between' spacing={spacing}>\n              <Grid item style={{ marginTop: 8, marginLeft: -8 }}>\n                <Logo autoHide={false} showText={showText} />\n              </Grid>\n              <Grid item xs>\n                <Questions />\n              </Grid>\n            </Grid>\n          </Grid>\n        )}\n        <Grid item xs style={{ minWidth: 0 }}>\n          <Grid container justify='space-between' spacing={spacing}>\n            {tabs\n              .filter(t => (!isAdmin ? (t.id === 'Admin' ? false : true) : true))\n              .map(({ id, route }) => (\n                <Grid key={id} item>\n                  <Link className={classes.link} onClick={handleChangeRoute(route)} variant='h1'>\n                    {id}\n                  </Link>\n                </Grid>\n              ))}\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          <Grid container justify='flex-start'>\n            <Grid item xs={fs ? 5 : 2} zeroMinWidth>\n              <Typography noWrap align='left'>\n                <Link href='https://www.digitalpsych.org/' variant='caption' target='_blank' color='inherit'>\n                  Division of Digital Psychiatry\n                </Link>\n              </Typography>\n            </Grid>\n            {!fs && (\n              <Grid item xs={7} zeroMinWidth>\n                <Typography noWrap align='center'>\n                  <Link href='https://www.argosyfnd.org/' variant='caption' target='_blank' color='inherit'>                    \n                    This website is mode possible by support from the Argosy Foundation                    \n                  </Link>\n                </Typography>\n              </Grid>\n            )}\n            <Grid item xs={fs ? 7 : 3} zeroMinWidth>\n              <Typography noWrap align='right'>\n                <Link href='https://www.bidmc.org/' variant='caption' target='_blank' color='inherit'>\n                  ©2020 Beth Israel Deaconess Medical Center\n                </Link>\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useTheme, makeStyles, createStyles, Button, Grid, CircularProgress, Collapse, Box } from '@material-ui/core';\nimport { useDialogState } from '../GenericDialog/useDialogState';\nimport { useValues, FieldProps } from '../GenericDialog/helpers';\nimport ErrorGate from '../GenericDialog/ErrorGate';\nimport Fields from '../GenericDialog/Fields';\n\nexport interface ComponentProps {\n  id: string;\n  anchorEl?: any;\n  initialValues?: object;\n  cancelLabel?: string;\n  deleteLabel?: string;\n  submitLabel?: string;\n  onSubmit?: any;\n  onDelete?: any;\n  onReset?: any;\n  OnClose?: any;\n  validate?: any;\n  Content?: any;\n  values?: any;\n  width?: number | string;\n  columns?: number;\n  minColumnWidth?: number;\n  maxColumnWidth?: number;\n  setValues?: any;\n  disableInitialize?: boolean;\n  fields?: FieldProps[] | any;\n  onClose?: () => any;\n  children?: any;\n  Buttons?: any;\n}\n\nconst useStyles = makeStyles(({ palette, layout }: any) =>\n  createStyles({\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    },\n    card: ({ width = 290 }: any) => ({\n      width\n    })\n  })\n);\n\nexport default function GenericContent({\n  id,\n  anchorEl,\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel = 'Submit',\n  fields = [] as any[],\n  width,\n  onSubmit,\n  onDelete,\n  onClose,\n  onReset,\n  Content,\n  validate,\n  columns,\n  minColumnWidth,\n  maxColumnWidth,\n  values: externalValues = undefined,\n  setValues: externalSetValues = undefined,\n  disableInitialize = undefined,\n  Buttons,\n  children,\n  ...other\n}: ComponentProps) {\n  const { layout } = useTheme() as any;\n  const [state, setState] = useDialogState(id);\n  const { open, type, loading, submitting } = state;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ width });\n\n  const { values, setValues, errors, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate,\n    externalSetValues,\n    externalValues,\n    disableInitialize\n  });\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    columns,\n    minColumnWidth,\n    maxColumnWidth\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <>\n      <ErrorGate error={errors['loading']}>\n        <>\n          {children ? (\n            children\n          ) : Content ? (\n            <Content {...contentProps} />\n          ) : (\n            <>\n              {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n              <Collapse in={!confirmDelete}>\n                <Grid container alignItems='center' spacing={1}>\n                  <Fields {...contentProps} />\n                </Grid>\n              </Collapse>\n            </>\n          )}\n        </>\n      </ErrorGate>\n      <Box mt={2} />\n      {Buttons ? (\n        <Buttons {...other} values={values} setValues={setValues} handleReset={handleReset} />\n      ) : (\n        type === 'Edit' &&\n        onDelete !== undefined && (\n          <Button size='small' disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n            {deleteLabel}\n          </Button>\n        )\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { FormControl, FormControlLabel, Checkbox, FormHelperText } from '@material-ui/core';\nimport { bool, isError } from '../../../helpers';\n\nconst Check = ({\n  label = '',\n  variant = undefined,\n  error = undefined,\n  value = undefined,\n  margin = 'dense' as any,\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(\n    event => {\n      event.target.value = event.target.checked === true ? 1 : 0; // Inject checked value to mimic behavior of other input on change events\n      onChange && onChange(event);\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <FormControlLabel label={label} control={<Checkbox checked={bool(value)} onChange={handleChange} {...other} />} />\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default Check;\n","import * as React from 'react';\nimport { Box, Collapse, createStyles, Grid, IconButton, makeStyles, Typography } from '@material-ui/core';\nimport Check from './Check';\nimport { bool } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      '&:hover': {\n        background: palette.grey[100]\n      }\n    }\n  })\n);\n\nexport default function MuliSelectCheckExpandable({\n  value = [],\n  onChange = undefined,\n  label = undefined,\n  placeholder = undefined,\n  fullWidth = true,\n  disabled = false,\n  size = 'small' as 'small',\n  items = [],\n  disableCloseOnSelect = true,\n  initialValue = undefined, // prevent passing down\n  InputProps = undefined,\n  color = undefined,\n  ...other\n}) {\n  const classes = useStyles();\n  const [expand, setExpand] = React.useState(value.length > 0 ? true : false);\n  const handleChange = React.useCallback(\n    (itemValue, value) => e => {\n      const checked = e.target.value;\n      const newValue = value.filter(v => v !== itemValue);\n      if (!bool(checked)) {\n        onChange && onChange({ target: { value: newValue } });\n      } else {\n        onChange && onChange({ target: { value: newValue.concat(itemValue) } });\n      }\n    },\n    [onChange]\n  );\n\n  const handleClick = React.useCallback(\n    e => {\n      e.stopPropagation();\n      if (expand) {\n        onChange && onChange({ target: { value: [] } });\n      }\n      setExpand(!expand);\n    },\n    [expand, setExpand, onChange]\n  );\n\n  const Icon = !expand ? Icons.AddBox : value.length > 0 ? Icons.Clear : Icons.IndeterminateCheckBox;\n\n  return (\n    <Box ml={1} mr={1} style={{ paddingBottom: 8 }}>\n      <Grid container justify='space-between' alignItems='center' className={classes.container} style={{ cursor: 'pointer' }} onClick={handleClick}>\n        <Grid item xs zeroMinWidth={true}>\n          <Typography variant='body1' style={{ color, fontWeight: 600 }}>\n            {label}\n          </Typography>\n        </Grid>\n        <Grid item>\n          <IconButton size='small'>\n            <Icon style={{ color }} />\n          </IconButton>\n        </Grid>\n      </Grid>\n      <Box ml={1} mr={1}>\n        <Grid container>\n          <Collapse in={expand}>\n            {items.map((i, index) => (\n              <Grid key={index} item>\n                <Check\n                  label={(<Typography variant='body2'>{i.label}</Typography>) as any}\n                  style={{ color }}\n                  margin='none'\n                  value={value.find(v => v === i.value) ? true : false}\n                  onChange={handleChange(i.value, value)}\n                  //color={color}\n                  size='small'\n                />\n              </Grid>\n            ))}\n          </Collapse>\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import React from 'react';\nimport GenericContent from '../GenericContent';\nimport MultiSelectCheckExpandable from '../../DialogField/MultiSelectCheckExpandable';\nimport {\n  Features,\n  Conditions,\n  Costs,\n  ClinicalFoundations,\n  Privacies,\n  Functionalities,\n  DeveloperTypes,\n  Engagements,\n  Uses,\n  withReplacement\n} from '../../../../database/models/Application';\nimport { Grid } from '@material-ui/core';\nimport { InjectField } from '../../GenericDialog/Fields';\nimport { useTableFilterValues } from '../../GenericTable/store';\nimport { categories } from '../../../../constants';\n\nconst sections = {\n  Accessibility: {\n    fields: ['Cost', 'DeveloperTypes', 'Conditions']\n  },\n  Interoperability: {\n    fields: ['Functionalities', 'Uses']\n  },\n  'Engagement Style': {\n    fields: ['Features', 'Engagements']\n  },\n  'Clinical Foundation': {\n    fields: ['ClinicalFoundations']\n  },\n  Privacy: {\n    fields: ['Privacy']\n  }\n};\n\nexport const title = 'Apply Filters';\n\nfunction Content({ fields, values, mapField, fullWidth, setValues, state, setState, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} setValues={setValues} mapField={mapField} fullWidth={fullWidth} {...props} />;\n\n  return (\n    <Grid container justify='flex-start'>\n      <Grid item xs={12} zeroMinWidth={true}>\n        {Object.keys(sections).map((k, i) => {\n          const { fields } = sections[k];\n          return (\n            <div key={`${k}-${i}`}>\n              {fields.map((id, i) => (\n                <div key={`${id}-${i}-field`}>{injectField(id)}</div>\n              ))}\n            </div>\n          );\n        })}\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default function FilterContentLeftDrawer({ id = title, ...other }) {\n  const [advanced, setAdvanced] = React.useState(false);\n  const handleToggleAdvanced = React.useCallback(() => {\n    setAdvanced(prev => !prev);\n  }, [setAdvanced]);\n\n  const props = {\n    id,\n    advanced,\n    handleToggleAdvanced,\n    submitLabel: null,\n    cancelLabel: 'Close',\n    fields: [\n      {\n        id: 'Cost',\n        Field: MultiSelectCheckExpandable,\n        items: Costs.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'DeveloperTypes',\n        label: 'Developer Types',\n        Field: MultiSelectCheckExpandable,\n        items: DeveloperTypes.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'Features',\n        Field: MultiSelectCheckExpandable,\n        items: Features.map(label => ({ value: label, label: withReplacement(label) }))\n      },\n      {\n        id: 'Functionalities',\n        Field: MultiSelectCheckExpandable,\n        items: Functionalities.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'Conditions',\n        label: 'Supported Conditions',\n        Field: MultiSelectCheckExpandable,\n        items: Conditions.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'Engagements',\n        Field: MultiSelectCheckExpandable,\n        items: Engagements.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'Privacy',\n        Field: MultiSelectCheckExpandable,\n        items: Privacies.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'Uses',\n        Field: MultiSelectCheckExpandable,\n        items: Uses.map(label => ({ value: label, label }))\n      },\n      {\n        id: 'ClinicalFoundations',\n        label: 'Evidence & Clinical Foundations',\n        Field: MultiSelectCheckExpandable,\n        items: ClinicalFoundations.map(label => ({ value: label, label }))\n      }\n    ].map(i => ({ ...i, color: categories[i.id]?.color })),\n    ...other\n  };\n\n  const [values, setValues] = useTableFilterValues('Applications');\n\n  return <GenericContent {...props} Content={Content} values={values} setValues={setValues} disableInitialize={true} />;\n}\n","import { useTableFilterValues } from '../application/GenericTable/store';\n\nexport const useFilterCount = (table = 'Applications') => {\n  const [\n    {\n      Features = [],\n      Engagements = [],\n      Inputs = [],\n      Outputs = [],\n      Functionalities = [],\n      Conditions = [],\n      Platforms = [],\n      Cost = [],\n      Privacy = [],\n      Uses = [],\n      DeveloperTypes = [],\n      ClinicalFoundations = []\n    }\n  ] = useTableFilterValues(table);\n\n  return [Features, Engagements, Inputs, Outputs, Functionalities, Conditions, Platforms, Cost, Privacy, Uses, DeveloperTypes, ClinicalFoundations].reduce(\n    (t, c) => (t = t + c.length),\n    0\n  );\n};\n","import { createStyles } from '@material-ui/core/styles';\nimport { Badge, withStyles } from '@material-ui/core';\n\nexport default withStyles(theme =>\n  createStyles({\n    badge: {\n      height: 32,\n      width: 32,\n      top: 4,\n      right: 14,\n      border: `1px solid ${theme.palette.grey[400]}`,\n      background: theme.palette.primary.light\n    }\n  })\n)(Badge);\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../store';\nimport { setDatabaseTable, updateDatabase } from './store';\n\nexport const useTableState = table => {\n  const dispatch = useDispatch();\n  const tableState = useSelector((state: AppState) => state.database[table] ?? {});\n  const setTableState = React.useCallback(payload => dispatch(setDatabaseTable(table, payload)), [table, dispatch]);\n  return [tableState, setTableState];\n};\n\nexport const useTableLength = table => useSelector((state: AppState) => Object.keys(state.database[table] ?? {}).length);\n\nexport const useDatabaseRow = (table, id) => {\n  const dispatch = useDispatch();\n  const row = useSelector((state: AppState) => (state.database[table] ?? {})[id] || {});\n  const updateRow = React.useCallback(payload => dispatch(updateDatabase(table, id, payload)), [table, id, dispatch]);\n  return [row, updateRow];\n};\n","import { tables } from './dbConfig';\nimport { useTableState } from './useTableState';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../store';\n\nexport const useFilters = () => useTableState(tables.filters);\nexport const useFilter = id => useSelector((state: AppState) => (state.database[tables.filters] ?? {})[id]);\n","import * as React from 'react';\nimport { useFilters } from './useFilters';\nimport { dynamo, tables } from './dbConfig';\nimport { useSignedIn } from '../hooks';\nimport { useSelector } from 'react-redux';\n\nexport const useGetFilters = () => {\n  const [, setFilters] = useFilters();\n  const signedIn = useSignedIn();\n  const uid = useSelector((s: any) => s.layout.user?.username);\n\n  // Load data from the database\n  const getFilters = React.useCallback(() => {\n    const getItems = async () => {\n      let scanResults = [];\n      let items;\n      var params = {\n        TableName: tables.filters,\n        ExclusiveStartKey: undefined\n      };\n      do {\n        items = await dynamo.scan(params).promise();\n        items.Items.forEach(i => scanResults.push(i));\n        params.ExclusiveStartKey = items.LastEvaluatedKey;\n      } while (typeof items.LastEvaluatedKey != 'undefined');\n      setFilters(\n        scanResults\n          .filter((d: any) => d.uid === uid && d.delete !== true)\n          .reduce((f, c: any) => {\n            f[c._id] = c;\n            return f;\n          }, {})\n      );\n    };\n\n    if (signedIn) {\n      getItems();\n    }\n  }, [uid, signedIn, setFilters]);\n\n  return getFilters;\n};\n\nexport default function useFilterList() {\n  const signedIn = useSignedIn();\n  const uid = useSelector((s: any) => s.layout.user?.username);\n  const getFilters = useGetFilters();\n  React.useEffect(() => {\n    getFilters();\n  }, [uid, signedIn, getFilters]);\n}\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateDatabase } from './store';\n\nexport const useUpdateDatabase = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(({ table, id, payload }) => dispatch(updateDatabase(table, id, payload)), [dispatch]);\n};\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { dynamo, DataModel, TableName } from './dbConfig';\nimport { updateSnackBar } from '../components/application/SnackBar/store';\nimport { useUpdateDatabase } from './useUpdateDatabase';\n\nexport interface ProcessDataInfo {\n  Model: TableName;\n  Data: DataModel;\n  Action?: 'c' | 'r' | 'u' | 'd';\n  Snackbar?: boolean;\n  onSuccess?: (response, data: DataModel) => void;\n  onError?: (response, data: DataModel) => void;\n}\n\nexport const useProcessData = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nexport const useProcessDataHandle = () => {\n  const dispatch = useDispatch();\n  const updateDatabase = useUpdateDatabase();\n  return React.useCallback((pdi: ProcessDataInfo) => () => dispatch(processData(pdi, updateDatabase)), [dispatch, updateDatabase]);\n};\n\nasync function executeTransaction(pdi, Data, updateDatabase, dispatch) {\n  const { Model: Table, Action = 'c', Snackbar = true, onSuccess = undefined, onError = undefined } = pdi;\n\n  if (Action === 'c' || Action === 'u' || Action === 'd') {\n    dynamo.put({ TableName: Table, Item: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n        (Action === 'c' || Action === 'u' || Action === 'd') && updateDatabase({ table: Table, id: Data._id, payload: { ...Data, _rev: Data._rev } }); // write data to local state, make sure to update the revision as well so subsequent writes won't throw a document conflict error\n      }\n    });\n  } else {\n    dynamo.get({ TableName: Table, Key: Data }, function (err, data) {\n      if (err) {\n        var message = `(Error processing data.  Table: ${Table}`;\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n        onError && onError(err, Data);\n        console.error({ message, err, Data });\n      } else {\n        Snackbar && dispatch(updateSnackBar({ open: true, variant: 'success', message: 'Success' }));\n        onSuccess && onSuccess(data, Data);\n      }\n    });\n  }\n}\n\nconst processData = (pdi: ProcessDataInfo, updateDatabase) => async (dispatch: any, getState: any) => {\n  const { Model: Table, Data: DataProp, Action = 'c', Snackbar = true, onError = undefined } = pdi;\n  const Data = { ...DataProp, delete: Action === 'c' ? false : Action === 'd' ? true : (DataProp as any).delete };\n  try {\n    executeTransaction(pdi, Data, updateDatabase, dispatch);\n  } catch (error: any) {\n    if (error?.statusCode === 409) {\n      //Document update conflict.  This can happen if someone updated the document at the server while another user's browser is editing an earlier revision\n      //Just show an error for now, as the applications will rarely be edited and the tables are constantly refreshed with new data.\n      //The correct logic would get the most recent document from the database, inform the user that the document is out of date, update the revision number and allow the user to review changes or force the update.\n    }\n    var message = `(Caught Error processing data.  Table: ${Table}`;\n    Snackbar && dispatch(updateSnackBar({ open: true, variant: 'error', message }));\n    onError && onError(error, Data);\n    console.error({ message, error, Data });\n  }\n};\n\nexport default useProcessData;\n","import * as React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Text from './Text';\n\nconst getLabel = option => ((typeof option === 'object' && option ? option.label : option) ?? '').toString();\nconst getValue = option => (typeof option === 'object' && option ? option.value : option) ?? '';\nconst getSelectedOption = (value, options) =>\n  Array.isArray(options) ? options.find(o => (typeof o === 'object' ? o.value === value : o === value)) ?? '' : '';\n\n// Accepts either an option array of strings, numbers, or { value, label } objects. Reports only the value (not the object) to parent onChange\nexport default function AutoCompleteSelect({\n  items: options = [],\n  value = '',\n  onChange = undefined,\n  disabled = false,\n  size = 'small' as 'small',\n  freeSolo = true,\n  ...other\n}) {\n  const handleChange = React.useCallback(\n    (e, option) => {\n      onChange && onChange({ target: { value: getValue(option) } }); // Inject value to mimic behavior of other input on change events\n    },\n    [onChange]\n  );\n\n  return (\n    <Autocomplete\n      disabled={disabled}\n      value={getSelectedOption(value, options)} // convert value to ption\n      options={options}\n      autoHighlight\n      getOptionLabel={option => getLabel(option)}\n      renderOption={option => getLabel(option)}\n      onChange={handleChange}\n      renderInput={params => (\n        <Text\n          {...params}\n          inputProps={{\n            ...params.inputProps,\n            autoComplete: 'new-password' // disable autocomplete and autofill\n          }}\n          InputLabelProps={{\n            shrink: true\n          }}\n          disabled={disabled}\n          {...other}\n        />\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport { tables } from '../../../../database/dbConfig';\nimport { useGetFilters } from '../../../../database/useFilterList';\nimport { useFilters } from '../../../../database/useFilters';\nimport useProcessData from '../../../../database/useProcessData';\nimport AutoCompleteSelect from '../../DialogField/AutoCompleteSelect';\nimport Label from '../../DialogField/Label';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Delete Filter';\n\nexport default function DeleteFilter({ id = title }) {\n  const [, setState] = useDialogState(id);\n\n  const getFilters = useGetFilters();\n  const processData = useProcessData();\n\n  const handleSubmit = ({ SavedFilter }) => {\n    if (SavedFilter) {\n      processData({ Action: 'd', Model: tables.filters, Data: { ...SavedFilter, time: new Date().getTime() }, onSuccess: getFilters });\n    }\n    setState(prev => ({ ...prev, open: false, showErrors: true, loading: false }));\n  };\n\n  const [filters] = useFilters();\n\n  const items = Object.keys(filters).map(k => ({ label: filters[k].name, value: filters[k] }));\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={id}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'label1',\n          Field: Label,\n          label: 'Select filter to delete:'\n        },\n        {\n          id: 'SavedFilter',\n          label: 'Filter',\n          items,\n          Field: AutoCompleteSelect\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { tables } from '../../../../database/dbConfig';\nimport { useFilters } from '../../../../database/useFilters';\nimport useProcessData from '../../../../database/useProcessData';\nimport { isEmpty, uuid } from '../../../../helpers';\nimport Label from '../../DialogField/Label';\nimport { useTableFilterValues } from '../../GenericTable/store';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Save Filter';\n\nexport default function SaveFilter({ id = title }) {\n  const [, setState] = useDialogState(id);\n  const processData = useProcessData();\n  const [values] = useTableFilterValues('Applications');\n  const uid = useSelector((s: any) => s.layout.user?.username);\n  const [filters] = useFilters();\n  const items = Object.keys(filters).map(k => ({ label: filters[k].name, value: filters[k] }));\n\n  const { SavedFilter } = values;\n\n  const filterName = SavedFilter ? SavedFilter.name : '';\n\n  const handleSubmit = ({ name }) => {\n    if (name) {\n      var Data = { ...values, uid, name, time: new Date().getTime() };\n      if (name !== filterName) {\n        // If we are creating a new filter, then remove the id and rev so we don't update the old one\n        const { _id, _rev, ...other } = Data;\n        Data = other;\n      }\n\n      if (isEmpty(Data?._id)) {\n        Data._id = uuid();\n      }\n\n      processData({ Model: tables.filters, Data });\n    }\n\n    setState(prev => ({ ...prev, open: false, showErrors: true, loading: false }));\n  };\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={id}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'label1',\n          Field: Label,\n          label: 'Please enter a filter name to save the current filters.'\n        },\n        {\n          id: 'name',\n          label: 'Filter Name',\n          items\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useFilters } from '../../../../database/useFilters';\nimport AutoCompleteSelect from '../../DialogField/AutoCompleteSelect';\nimport Label from '../../DialogField/Label';\nimport { useTableFilterValues } from '../../GenericTable/store';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Load Filter';\n\nexport default function LoadFilter({ id = title }) {\n  const [, setState] = useDialogState(id);  \n  const [, setValues] = useTableFilterValues('Applications');\n  const [filters] = useFilters();\n  const items = Object.keys(filters).map(k => ({ label: filters[k].name, value: filters[k] }));\n\n  const handleSubmit = values => {\n    setValues(prev => ({ ...prev, SavedFilter: values?.SavedFilter }));\n    setState(prev => ({ ...prev, open: false, showErrors: true, loading: false }));\n  };\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={id}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'label1',\n          Field: Label,\n          label: 'Select a filter to load:'\n        },\n        {\n          id: 'SavedFilter',\n          label: 'Filter',\n          items,\n          Field: AutoCompleteSelect\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { useSignedIn } from '../../../../hooks';\nimport { Grid, Typography } from '@material-ui/core';\nimport { useTableFilterValues } from '../../GenericTable/store';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport * as DeleteFilterDialog from '../../GenericDialog/DeleteFilter';\nimport * as SaveFilterDialog from '../../GenericDialog/SaveFilter';\nimport * as LoadFilterDialog from '../../GenericDialog/LoadFilter';\n\nexport default function FilterButtons({ variant = 'smallOutlined', underline = 'always' }) {\n  const signedIn = useSignedIn();\n  const [values, setValues] = useTableFilterValues('Applications');\n  const { SavedFilter } = values;\n  const SavedFilterStr = JSON.stringify(SavedFilter);\n\n  React.useEffect(() => {\n    SavedFilterStr && setValues(prev => ({ ...JSON.parse(SavedFilterStr), SavedFilter: prev.SavedFilter })); // If we changed the selected saved filter then update the filters on the page\n  }, [SavedFilterStr, setValues]);\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n\n  return (\n    <Grid container spacing={2} justify='space-around' alignItems='center'>\n      <>\n        <Grid item>\n          <DialogButton variant={variant} underline={underline} onClick={handleReset}>\n            Reset Filter\n          </DialogButton>\n        </Grid>\n        <Grid item>\n          <DialogButton disabled={!signedIn} Module={LoadFilterDialog} variant={variant} underline={underline}>\n            Load Filter\n          </DialogButton>\n        </Grid>\n        <Grid item>\n          <DialogButton disabled={!signedIn} Module={SaveFilterDialog} variant={variant} underline={underline}>\n            Save Filter\n          </DialogButton>\n        </Grid>\n        <Grid item>\n          <DialogButton disabled={!signedIn} Module={DeleteFilterDialog} variant={variant} underline={underline}>\n            Delete Filter\n          </DialogButton>\n        </Grid>\n        {!signedIn && (\n          <Grid item xs={12}>\n            <Typography variant='caption' color='textSecondary'>\n              You must create an account and sign in to save and load filters.\n            </Typography>\n          </Grid>\n        )}\n      </>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Box, Divider, Grid } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport FilterContentLeftDrawer from '../application/GenericContent/Filter/FilterContentLeftDrawer';\nimport { useFilterCount } from './useFilterCount';\nimport StyledBadge from './StyledBadge';\nimport FilterButtons from '../application/GenericContent/FilterButtons';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    header: {\n      padding: 8\n    },\n    primaryText: {\n      fontSize: 18,\n      fontWeight: 700,\n      color: theme.palette.primary.dark\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    }\n  })\n);\n\nexport default function LeftDrawerContent({ table = 'Applications' }) {\n  const classes = useStyles();\n\n  const filterCount = useFilterCount(table);\n\n  return (\n    <>\n      <div className={classes.header}>\n        <Grid container justify='space-between'>\n          <Grid item xs>\n            <Typography variant='caption' color='textPrimary' className={classes.primaryText}>\n              Search Filters\n            </Typography>\n          </Grid>\n          <Grid item>\n            <StyledBadge badgeContent={filterCount} color='primary' />\n          </Grid>\n        </Grid>\n      </div>\n      <Box ml={1} mr={1} mb={1}>\n        <Divider />\n      </Box>\n      <FilterContentLeftDrawer />\n      <Box ml={1} mr={1} mb={1}>\n        <Divider />\n      </Box>\n      <Box m={1}>\n        <FilterButtons />\n      </Box>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { createStyles } from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LeftDrawerContent from './LeftDrawerContent';\nimport { useFullScreen } from '../../hooks';\nimport { useAppBarHeight, useHeight, useLeftDrawer } from './store';\n\nconst useStyles = makeStyles(({ breakpoints, layout }: any) =>\n  createStyles({\n    drawer: {\n      [breakpoints.up('sm')]: {\n        width: layout.leftDrawerWidth,\n        flexShrink: 0\n      }\n    },\n    drawerPaper: ({ height, appBarHeight }: any) => ({\n      overflowX: 'hidden',\n      marginTop: appBarHeight + 1, // 1 is for the appbar elevation\n      width: layout.leftDrawerWidth,\n      height: height - appBarHeight,\n      [breakpoints.down('sm')]: {\n        height: '100%'\n      }\n    }),\n    drawerPaperTemporary: {\n      width: layout.leftDrawerWidth\n    }\n  })\n);\n\nconst LeftDrawer = () => {\n  const height = useHeight();\n  const fullScreen = useFullScreen();\n  const appBarHeight = useAppBarHeight();\n  const classes = useStyles({ height, appBarHeight });\n  const [leftDrawer, setLeftDrawer] = useLeftDrawer();\n  const handleLeftDrawerClose = React.useCallback(() => setLeftDrawer(false), [setLeftDrawer]);\n\n  return (\n    <nav className={classes.drawer} aria-label='navigation drawer'>\n      <Drawer\n        variant='temporary'\n        open={fullScreen && leftDrawer}\n        onClose={handleLeftDrawerClose}\n        classes={{\n          paper: classes.drawerPaperTemporary\n        }}\n        ModalProps={{\n          keepMounted: true // Better open performance on mobile.\n        }}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n      <Drawer\n        classes={{\n          paper: classes.drawerPaper\n        }}\n        variant='persistent'\n        open={leftDrawer}\n      >\n        <LeftDrawerContent />\n      </Drawer>\n    </nav>\n  );\n};\n\nexport default LeftDrawer;\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { keyWords } from '../../../package.json';\n\nconst useStyles = makeStyles(() => ({\n  keyWords: {\n    backgroundColor: 'white',\n    color: 'white',\n    fontSize: 6,\n    height: 0,\n    width: 0,\n    position: 'absolute'\n  }\n}));\n\nexport default function KeyWords() {\n  const classes = useStyles({});\n  return <div className={classes.keyWords}>{keyWords}</div>;\n}\n","import * as React from 'react';\nimport { makeStyles, createStyles, useScrollTrigger } from '@material-ui/core';\nimport SnackBar from '../application/SnackBar/SnackBar';\nimport { useAppBarHeight, useFooterHeight, useHeight, useLeftDrawer } from './store';\nimport ApplicationBarV2 from './ApplicationBarV2';\nimport FooterV2 from './FooterV2';\nimport { useLocation } from 'react-router';\nimport LeftDrawer from './LeftDrawer';\nimport KeyWords from './KeyWords';\nimport { useUrlParameter } from '../../hooks';\nimport { useChangeRoute } from './hooks';\nimport { isEmpty, publicUrl } from '../../helpers';\n\nconst useStyles = makeStyles(({ breakpoints, palette, layout }: any) =>\n  createStyles({\n    root: {\n      display: 'static'\n    },\n    content: ({ leftDrawerOpen, overflow = 'auto' }) => ({\n      flexGrow: 1,\n      overflow,\n      overflowX: 'hidden',\n      height: '100vh',\n      backgroundColor: palette.common.white,\n      marginLeft: leftDrawerOpen ? layout.leftDrawerWidth : 0,\n      [breakpoints.down('sm')]: {\n        marginLeft: 0,\n        flexShrink: 0\n      }\n    }),\n    innerContent: ({ fullHeight, minHeight, contentHeight }) => ({\n      minHeight: minHeight,\n      height: fullHeight ? undefined : contentHeight,\n      overflow: 'hidden'\n    }),\n    toolbar: ({ appBarHeight }: any) => ({\n      background: palette.white,\n      height: appBarHeight\n    })\n  })\n);\n\nconst smallRoutes = ['/Apps', 'Admin', '/MyRatings'];\nconst noScrollPaths = ['/Apps', '/Admin', '/MyRatings'];\nconst noFooterPaths = ['/Apps', '/Admin', '/MyRatings'];\nexport const noPadPaths = ['/Home', '/', '/Apps'];\n\nexport default function LayoutV2({ children }) {\n  const [leftDrawerOpen] = useLeftDrawer();\n  const height = useHeight();\n  const appBarHeight = useAppBarHeight();\n  const footerHeight = useFooterHeight();\n  const componentsOnPage = [appBarHeight, footerHeight];\n  const minHeight = height - appBarHeight - footerHeight - 1;\n  var contentHeight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n\n  let ref = React.useRef();\n\n  const { pathname } = useLocation();\n  const variant = smallRoutes.find(p => p === pathname) ? 'small' : 'normal';\n\n  const classes = useStyles({\n    leftDrawerOpen,\n    fullHeight: true,\n    overflow: noScrollPaths.find(p => p === pathname) ? 'hidden' : 'auto',\n    contentHeight,\n    appBarHeight,\n    footerHeight,\n    minHeight\n  });\n\n  const trigger = useScrollTrigger({ target: ref.current });\n\n  const surveyId = useUrlParameter('surveyId');\n  const followUpSurveyType = useUrlParameter('followUpSurveyType');\n  const appId = useUrlParameter('appId');\n\n  const changeRoute = useChangeRoute();\n\n  React.useEffect(() => {\n    if (!isEmpty(surveyId) && !isEmpty(appId)) {\n      changeRoute(publicUrl('/SurveyFollowUp'), { surveyId, followUpSurveyType, appId });\n    }\n  }, [changeRoute, surveyId, followUpSurveyType, appId]);\n\n  return (\n    <div data-testid='app-container' className={classes.root}>\n      <main id='app-content' ref={ref} className={classes.content}>\n        <ApplicationBarV2 trigger={trigger} />\n        <LeftDrawer />\n        <div className={classes.toolbar} />\n        <div className={classes.innerContent}>{children}</div>\n        {!noFooterPaths.find(p => p === pathname) && <FooterV2 variant={variant} />}\n        <SnackBar />\n        <KeyWords />\n      </main>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TableToolbar, { TableToolbarProps } from './TableToolbar';\nimport { GenericTableProps } from './GenericTable';\nimport TableTabSelector from './TableTabSelector';\nimport { Paper, CircularProgress, useTheme } from '@material-ui/core';\nimport { evalFunc } from '../../../helpers';\nimport { useHeight, useAppBarHeight } from '../../layout/store';\nimport { TabSelectorItem } from '../../general/TabSelector/TabSelector';\nimport { useLocation } from 'react-router';\nimport { noPadPaths } from '../../layout/LayoutV2';\n\nconst GenericTable = React.lazy(() => import('./GenericTable'));\n\nexport interface TabSelectorProps {\n  tabs?: TabSelectorItem[];\n  onChangeTab?: (tab: string, props: GenericTableContainerProps) => void;\n}\n\nexport interface GenericTableContainerProps extends TabSelectorProps, GenericTableProps, TableToolbarProps {\n  square?: boolean;\n  toolbar?: boolean;\n  stacked?: boolean | number;\n  loading?: boolean;\n  toolbarplaceholder?: string;\n  title?: string;\n  search?: boolean;\n  getfiles?: boolean;\n  back?: boolean;\n  domainData?: boolean;\n  domainLogs?: boolean;\n  dialogs?: any[];\n  showScroll?: boolean;\n  buttonPosition?: string;\n  FilterContainer?: any;\n}\n\nconst injectValues = (Component, { getValues, handleRefresh }) => <Component {...getValues()} handleRefresh={handleRefresh} />;\n\nexport default function GenericTableContainer(props: GenericTableContainerProps) {\n  const {\n    name,\n    square,\n    height: Height,\n    toolbar,\n    stacked,\n    toolbarplaceholder,\n    title,\n    search,\n    tabs,\n    columns: Columns,\n    showicon = false,\n    loading,\n    buttons,\n    dialogs = [],\n    onChangeTab,\n    Icon,\n    FilterContainer,\n    buttonPosition = 'top',\n    ...tableProps\n  } = props;\n\n  const { layout } = useTheme() as any;\n  const layoutHeight = useHeight();\n  const height = Height ? Height : layoutHeight;\n  const columns = evalFunc(Columns, props);\n\n  const applyCellRenderers = (columns: any) => {\n    columns &&\n      columns.forEach((column: any) => {\n        if (column.renderCell) {\n          //Column has a custom render, so apply it to the virtual table cell render callback\n          column.cell = (row: any, col: any) => column.renderCell(row.getValues ? row.getValues() : row, column);\n        } else if (column.Cell) {\n          column.cell = (row: any, col: any) => injectValues(column.Cell, row); // Inject values via getValues()\n        }\n      });\n  };\n\n  const handleTabChange = (value: any) => {\n    onChangeTab && onChangeTab(value, props);\n  };\n\n  applyCellRenderers(columns); //Apply any custom cell renderers that are needed\n\n  const _toolbar = toolbar && (\n    <TableToolbar\n      name={name}\n      search={search != null ? search : true}\n      title={title ? title : name ? name : ''}\n      square={square}\n      inputplaceholder={toolbarplaceholder}\n      showicon={showicon}\n      buttons={evalFunc(buttons, props)}\n      Icon={Icon}\n      buttonPosition={buttonPosition}\n    />\n  );\n  var filterbar = tabs && <TableTabSelector name={name} tabs={tabs} onChange={handleTabChange} />;\n\n  const rows = [\n    { id: 'fc', component: FilterContainer, height: layout.tabletoolbarheight },\n    { id: 'toolbar', component: _toolbar, height: layout.tabletoolbarheight },\n    {\n      id: 'filterbar',\n      component: filterbar,\n      height: layout.tablefilterbarheight\n    }\n  ].filter(x => x.component); //Remove any null components\n\n  const appBarHeight = useAppBarHeight();\n\n  const { pathname } = useLocation();\n  const excludePadding = noPadPaths.findIndex(p => p === pathname) > -1 ? true : false;\n\n  const componentsOnPage = [\n    appBarHeight,\n    excludePadding ? 0 : layout.contentpadding, // Top content padding\n    stacked ? layout.tablefilterbarheight + layout.contentrowspacing : 0,\n    !toolbar ? 0 : (buttonPosition === 'top' ? layout.tabletoolbarheight : layout.tabletoolbarheight / 2) + layout.contentrowspacing,\n    excludePadding ? 0 : layout.contentpadding, // Bottom content padding\n    layout.footerheight\n  ];\n\n  var calculatedheight = height - componentsOnPage.reduce((t, c) => t + c, 0);\n\n  if (typeof stacked === 'number') {\n    calculatedheight -= stacked;\n  }\n\n  const spinner = (\n    <Paper elevation={0} style={{ height: calculatedheight }}>\n      <Grid container style={{ height: calculatedheight }} direction='column' alignItems='center' justify='center' spacing={0}>\n        <Grid item>\n          <CircularProgress color='primary' size={calculatedheight / 6} thickness={3} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n\n  const table = (\n    <React.Suspense fallback={spinner}>\n      {loading ? spinner : <GenericTable name={name} height={calculatedheight} columns={columns} placeholder={!buttons && ' '} {...tableProps} />}\n    </React.Suspense>\n  );\n\n  rows.push({ id: 'table', component: table, height: calculatedheight });\n\n  return (\n    <>\n      {dialogs.map((d, i) => (\n        <div key={i}>{d}</div>\n      ))}\n      <Grid container>\n        {rows.map((r, i) => (\n          <Grid key={r.id} item xs={12} style={{ paddingBottom: i === rows.length - 1 ? 0 : layout.contentrowspacing }}>\n            {r.component}\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n}\n","import * as React from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport Text from './Text';\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize='small' />;\nconst checkedIcon = <CheckBoxIcon fontSize='small' />;\n\nexport default function MuliSelectCheck({\n  value = [],\n  onChange = undefined,\n  label = undefined,\n  placeholder = undefined,\n  fullWidth = true,\n  disabled = false,\n  size = 'small' as 'small',\n  items = [],\n  disableCloseOnSelect = true,\n  initialValue = undefined, // prevent passing down\n  InputProps = undefined,\n  ...other\n}) {\n  const handleChange = React.useCallback((e, value = []) => onChange && onChange({ target: { value: value.map(i => i.value) } }), [onChange]);\n\n  return (\n    <Autocomplete\n      size='small'\n      multiple\n      options={items}\n      disableCloseOnSelect={disableCloseOnSelect}\n      getOptionLabel={option => option.label}\n      renderOption={(option, { selected }) => (\n        <>\n          <Checkbox icon={icon} checkedIcon={checkedIcon} style={{ marginRight: 8 }} checked={selected} />\n          {option.label}\n        </>\n      )}\n      renderInput={params => (\n        <Text\n          {...params}\n          label={label}\n          placeholder={placeholder}\n          fullWidth={fullWidth}\n          InputProps={{ ...params?.InputProps, ...InputProps }}\n          InputLabelProps={{\n            shrink: true\n          }}\n          {...other}\n        />\n      )}\n      \n      disabled={disabled}\n      value={items.filter(i => value.includes(i.value))}\n      onChange={handleChange}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { InjectField } from '../../Fields';\n\nexport default function SupportedPlatforms({ fields, values, mapField, fullWidth, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />;\n  return (\n    <Grid container justify='center' spacing={1}>\n      <Grid item style={{ width: 330 }}>\n        {injectField('platforms')}\n      </Grid>\n      <Grid item xs style={{ minWidth: 280, maxWidth: 500 }}>\n        <Grid container spacing={1}>\n          {injectField('androidLink')}\n          {injectField('iosLink')}\n          {injectField('webLink')}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/google_play_store.ff01efd2.png\";","export default __webpack_public_path__ + \"static/media/apple_store.5f35b050.png\";","export default __webpack_public_path__ + \"static/media/web.9c954cc0.png\";","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\n\nexport default function TabLabel({ label, icon }) {\n  return (\n    <Grid container spacing={1}>\n      <Grid item>\n        <img style={{ height: 24 }} src={icon} alt={label} />\n      </Grid>\n      <Grid item xs>\n        <Typography>{label}</Typography>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Link } from '@material-ui/core';\n\nconst NewWindowLink = ({ url, label }) => {\n  const handleLink = React.useCallback(() => {\n    var win = window.open(url, '_blank');\n    win.focus();\n  }, [url]);\n\n  return (\n    <Link underline='always' onClick={handleLink} style={{ cursor: 'pointer' }}>\n      {label}\n    </Link>\n  );\n};\n\nexport default NewWindowLink;\n","import React from 'react';\nimport { Typography, Tabs, makeStyles, Tab } from '@material-ui/core';\nimport google_play_store from '../../../../../images/google_play_store.png';\nimport apple_store from '../../../../../images/apple_store.png';\nimport web from '../../../../../images/web.png';\nimport TabLabel from './TabLabel';\nimport NewWindowLink from '../../../DialogField/NewWindowLink';\nimport { getAndroidIdFromUrl, getAppleIdFromUrl, isEmpty } from '../../../../../helpers';\nimport { useHandleChange } from '../../helpers';\nimport { googlePlayProxyUrl } from '../../../../../constants';\nimport Axios from 'axios';\n\nasync function getAppInfo(appId, type) {\n  const { data } = await Axios.get(`${googlePlayProxyUrl}?appId=${appId}&type=${type}`);\n  return data;\n}\n\nconst useStyles = makeStyles((theme: any) => ({\n  root: {\n    flexGrow: 1\n  },\n  padding: {\n    padding: theme.spacing(2)\n  },\n  tabs: {\n    backgroundColor: 'inherit'\n  },\n  tab: {\n    textTransform: 'none',\n    fontWeight: theme.typography.fontWeightRegular,\n    fontSize: theme.typography.pxToRem(15),\n    marginRight: theme.spacing(1),\n    '&:focus': {\n      opacity: 1\n    }\n  },\n  indicator: {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    '& > div': {\n      width: '100%',\n      backgroundColor: theme.palette.primary.light\n    }\n  }\n}));\n\nconst labelMap = {\n  iOS: 'Apple Store',\n  Android: 'Google Play Store',\n  Web: 'Web'\n};\n\nconst iconMap = {\n  iOS: apple_store,\n  Android: google_play_store,\n  Web: web\n};\n\nconst keyMap = {\n  iOS: 'appleStore',\n  Android: 'androidStore',\n  Web: 'webStore'\n};\n\nexport const ApplicationTabs = ({ state, values, injectField, fields, setValues, setState }) => {\n  const classes = useStyles();\n\n  const handleChange = useHandleChange(setValues);\n  const androidStoreField = fields.find(f => f.id === 'androidStore');\n  const appleStoreField = fields.find(f => f.id === 'appleStore');\n\n  const googleAppId = getAndroidIdFromUrl(values.applications.androidLink);\n  const appleAppId = getAppleIdFromUrl(values.applications.iosLink);\n\n  const handleGetAppInfo = React.useCallback(() => {\n    async function fetchData() {\n      try {\n        if (androidStoreField.load === true && !isEmpty(googleAppId)) {\n          const appInfo = await getAppInfo(googleAppId, 'google');\n          handleChange(androidStoreField)({ target: { value: appInfo } });\n        }\n        if (appleStoreField.load === true && !isEmpty(appleAppId)) {\n          const appleAppInfo = await getAppInfo(appleAppId, 'apple');\n          handleChange(appleStoreField)({ target: { value: appleAppInfo } });\n        }\n        setState(prev => ({ ...prev, loading: false }));\n      } catch (error) {\n        setState(prev => ({ ...prev, loading: false }));\n      }\n    }\n    setState(prev => ({ ...prev, loading: true }));\n    fetchData();\n  }, [googleAppId, appleAppId, setState, handleChange, androidStoreField, appleStoreField]);\n\n  React.useEffect(() => {\n    (!isEmpty(googleAppId) || !isEmpty(appleAppId)) && handleGetAppInfo();\n  }, [handleGetAppInfo, googleAppId, appleAppId]);\n\n  const { loading } = state;\n\n  const [tab, setTab] = React.useState(0);\n\n  const handleChangeTab = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setTab(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.tabs}>\n        <Tabs\n          classes={{ indicator: classes.indicator }}\n          value={tab}\n          onChange={handleChangeTab}\n          aria-label='styled tabs example'\n          TabIndicatorProps={{ children: <div /> }}\n        >\n          {values.applications.platforms.map(p => (\n            <Tab key={p} className={classes.tab} label={<TabLabel label={labelMap[p]} icon={iconMap[p]} />} disableRipple />\n          ))}\n        </Tabs>\n        <Typography className={classes.padding} />\n      </div>\n      {values.applications.platforms.map(\n        (p, i) =>\n          tab === i &&\n          !loading && <div key={p}>{p === 'Web' ? <NewWindowLink url={values.applications.webLink} label={'Open Web Link'} /> : injectField(keyMap[p])}</div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { InjectField } from '../../Fields';\nimport { tables } from '../../../../../database/dbConfig';\nimport { ApplicationTabs } from './ApplicationTabs';\n\nexport default function ApplicationInfo({ fields, values, mapField, fullWidth, setValues, state, setState, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />;\n  const platforms = values[tables.applications].platforms ?? [];\n\n  return (\n    <Grid container justify='center' spacing={3}>\n      <Grid item xs style={{ maxWidth: 700 }}>\n        <ApplicationTabs state={state} values={values} injectField={injectField} fields={fields} setValues={setValues} setState={setState} />\n      </Grid>\n      <Grid item xs style={{ minWidth: 280, maxWidth: 600 }}>\n        <Grid container spacing={1}>\n          {platforms.length === 1 && platforms[0] === 'Web' && (\n            <>\n              {injectField('name')}\n              {injectField('company')}\n            </>\n          )}\n          {injectField('conditions')}\n          {injectField('costs')}\n          {injectField('developerTypes')}\n          {injectField('functionalities')}\n          {injectField('features')}\n          {injectField('engagements')}\n          {injectField('uses')}\n          {injectField('inputs')}\n          {injectField('outputs')}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo.15c9fc50.png\";","import * as React from 'react';\nimport { Box, Grid, makeStyles, createStyles, Paper, Divider, Typography, useTheme } from '@material-ui/core';\nimport DialogButton from '../../../application/GenericDialog/DialogButton';\n\nimport { useFullScreen } from '../../../../hooks';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {},\n    button: {\n      height: 60,\n      width: 240\n    }\n  })\n);\n\nexport default function Screenshots({ images }) {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const [index, setIndex] = React.useState(0);\n\n  const handleNext = React.useCallback(() => setIndex(prev => prev + 1), [setIndex]);\n  const handleBack = React.useCallback(() => setIndex(prev => prev - 1), [setIndex]);\n\n  const hidden = !useFullScreen('xs');\n\n  return (\n    <>\n      <Grid container item xs={12} justify='space-between' alignItems='center' spacing={2}>\n        <Grid container item justify='center' xs>\n          <DialogButton\n            disabled={index <= 0 ? true : false}\n            className={classes.button}\n            size='large'\n            variant='outlined'\n            tooltip='Click to View Previous'\n            Icon={null}\n            onClick={handleBack}\n            disabledColor={theme.palette.text.disabled}\n          >\n            Back\n          </DialogButton>\n        </Grid>\n        {hidden && (\n          <Grid item xs>\n            <Typography align='center' color='textSecondary'>\n              {index + 1} of {images.length}\n            </Typography>\n          </Grid>\n        )}\n        <Grid container item justify='center' xs>\n          <DialogButton\n            disabled={index >= images.length - 1 ? true : false}\n            className={classes.button}\n            size='large'\n            variant='outlined'\n            tooltip='Click to View Next'\n            Icon={null}\n            onClick={handleNext}\n            disabledColor={theme.palette.text.disabled}\n          >\n            Next\n          </DialogButton>\n        </Grid>\n      </Grid>\n      <Box mt={2} mb={2}>\n        <Divider />\n      </Box>\n      <Grid container item xs={12} justify='center'>\n        <Grid item>\n          <Paper>\n            <img style={{ width: '100%' }} src={images[index]} alt={`slide-${index}`} />\n          </Paper>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { DialogContent } from '@material-ui/core';\nimport Screenshots from './Screenshots';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Screenshots';\n\nexport default function ScreenshotsDialog({ id = title }) {\n  const [{ initialValues = {} }] = useDialogState(id);\n  const { images = {} } = initialValues;\n  return (\n    <>\n      <GenericDialog id={id} title={id} submitLabel={null} cancelLabel='Close' maxWidth='md'>\n        <DialogContent dividers>\n          <Screenshots images={images} />\n        </DialogContent>\n      </GenericDialog>\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, Box } from '@material-ui/core';\nimport logo from '../../../images/logo.png';\nimport NewWindowLink from './NewWindowLink';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport * as ScreenshotsDialog from '../GenericDialog/ScreenshotsDialog';\n\nexport interface AndroidStoreProps {\n  title: string; //DC Universe - The Ultimate DC Membership\"\n  description: string;\n  descriptionHTML: string;\n  summary: string; // \"Where DC fans can find the best movies, original programming, comics, &amp; more.\"\n  installs: string; // \"1,000,000+\"\n  minInstalls: number; // 1000000\n  score: number; // 4.094255\n  scoreText: string; // \"4.1\"\n  ratings: number; // 11187\n  reviews: number; // 5077\n  histogram: object; //  {1: 1395, 2: 461, 3: 843, 4: 1476, 5: 7009}\n  price: number; // 0\n  free: boolean; // true\n  currency: string; // \"USD\"\n  priceText: string; // \"Free\"\n  offersIAP: boolean; // true\n  IAPRange: string; // \"$3.99 - $74.99 per item\"\n  size: string; // \"49M\"\n  androidVersion: string; // \"5.0\"\n  androidVersionText: string; // \"5.0 and up\n  developer: string; //'Google LLC';\n  developerId: string; //'5700313618786177705';\n  developerEmail: string; //'translate-android-support@google.com';\n  developerWebsite: string; //'http://support.google.com/translate';\n  developerAddress: string; //'1600 Amphitheatre Parkway, Mountain View 94043';\n  privacyPolicy: string; //'http://www.google.com/policies/privacy/';\n  developerInternalID: string; //'5700313618786177705';\n  genre: string; //'Tools';\n  genreId: string; //'TOOLS';\n  familyGenre: string; //undefined;\n  familyGenreId: string; //undefined;\n  icon: string; //'https://lh3.googleusercontent.com/ZrNeuKthBirZN7rrXPN1JmUbaG8ICy3kZSHt-WgSnREsJzo2txzCzjIoChlevMIQEA';\n  headerImage: string; //'https://lh3.googleusercontent.com/e4Sfy0cOmqpike76V6N6n-tDVbtbmt6MxbnbkKBZ_7hPHZRfsCeZhMBZK8eFDoDa1Vf-';\n  screenshots: string[]; //['https://lh3.googleusercontent.com/dar060xShkqnJjWC2j_EazWBpLo28X4IUWCYXZgS2iXes7W99LkpnrvIak6vz88xFQ','https://lh3.googleusercontent.com/VnzidUTSWK_yhpNK0uqTSfpVgow5CsZOnBdN3hIpTxODdlZg1VH1K4fEiCrdUQEZCV0'];\n  video: string; //undefined;\n  videoImage: string; //undefined;\n  contentRating: string; // 'Everyone';\n  contentRatingDescription: string; //undefined;\n  adSupported: boolean; //false;\n  released: any; //undefined;\n  updated: number; //1576868577000;\n  version: string; //'Varies with device';\n  recentChanges: string; //'Improved offline translations with upgraded language downloads';\n  comments: string[];\n  editorsChoice: boolean; //true;\n  appId: string; //'com.google.android.apps.translate';\n  url: string; //'https://play.google.com/store/apps/details?id=com.google.android.apps.translate&hl=en&gl=us';\n}\n\nconst AndroidStore = ({ value = {} as AndroidStoreProps }) => {\n  const { icon = logo, title, developer, description, installs, offersIAP, free, adSupported, url, screenshots = [] } = value;\n\n  return (\n    <>\n      <Grid container spacing={2}>\n        <Grid item>\n          <img style={{ height: 100 }} src={icon} alt='logo' />\n        </Grid>\n        <Grid item xs>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant='h5'>{title}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography color='textSecondary'>{developer}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography color='textSecondary' variant='caption'>\n                {installs} Installs {offersIAP && ' | In-App Purchases'} {free && ' | Free'} {adSupported && ' | Ad Supported'}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container spacing={1}>\n                <Grid item>\n                  <NewWindowLink url={url} label={'Open in Google Play Store'} />\n                </Grid>\n                {screenshots.length > 0 && (\n                  <>\n                    <Grid item>|</Grid>\n                    <Grid item>\n                      <DialogButton\n                        Module={ScreenshotsDialog}\n                        size='large'\n                        variant='link'\n                        linkvariant='inherit'\n                        underline='always'\n                        tooltip='Click to View'\n                        Icon={null}\n                        initialValues={{ images: screenshots }}\n                      >\n                        View Screenshots\n                      </DialogButton>\n                    </Grid>\n                  </>\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Box mt={2}>\n        <Typography>{description}</Typography>\n      </Box>\n    </>\n  );\n};\n\nexport default AndroidStore;\n","import * as React from 'react';\nimport { Grid, Typography, Box } from '@material-ui/core';\nimport logo from '../../../images/logo.png';\nimport NewWindowLink from './NewWindowLink';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport * as ScreenshotsDialog from '../GenericDialog/ScreenshotsDialog';\n\nexport interface AppleStoreProps {\n  id: number; // 363590051\n  appId: string; //\"com.netflix.Netflix\"\n  title: string; //\"Netflix\"\n  url: string; //\"https://apps.apple.com/us/app/netflix/id363590051?uo=4\"\n  description: string; //\"Looking for the most talked about TV shows and movies from the around the world? They’re all on Netflix.↵↵We’ve got award-winning series, movies, documentaries, and stand-up specials. And with the mobile app, you get Netflix while you travel, commute, or just take a break.↵↵What you’ll love about Netflix:↵↵• We add TV shows and movies all the time. Browse new titles or search for your favorites, and stream videos right on your device.↵• The more you watch, the better Netflix gets at recommending TV shows and movies you’ll love.↵• Create up to five profiles for an account. Profiles give different members of your household their own personalized Netflix.↵• Enjoy a safe watching experience just for kids with family-friendly entertainment.↵• Preview quick videos of our series and movies and get notifications for new episodes and releases.↵• Save your data. Download titles to your mobile device and watch offline, wherever you are.↵↵Privacy policy: https://help.netflix.com/legal/privacy↵Terms of use: https://help.netflix.com/legal/termsofuse\"\n  icon: string; //\"https://is5-ssl.mzstatic.com/image/thumb/Purple114/v4/40/c2/82/40c28204-e3f5-65ec-b630-27b3f9a12876/source/512x512bb.jpg\"\n  genres: string[]; //(2) [\"Entertainment\", \"Lifestyle\"]\n  genreIds: string[]; //(2) [\"6016\", \"6012\"]\n  primaryGenre: string; //\"Entertainment\"\n  primaryGenreId: number; //6016\n  contentRating: string; //\"12+\"\n  languages: string[]; //(27) [\"AR\", \"CS\", \"DA\", \"NL\", \"EN\", \"FI\", \"FR\", \"DE\", \"EL\", \"HE\", \"HU\", \"ID\", \"IT\", \"JA\", \"KO\", \"NB\", \"PL\", \"PT\", \"RO\", \"ZH\", \"ES\", \"SW\", \"SV\", \"TH\", \"ZH\", \"TR\", \"VI\"]\n  size: string; //\"80943104\"\n  requiredOsVersion: string; //\"12.0\"\n  released: string; //\"2010-04-01T20:41:34Z\"\n  updated: string; //\"2020-02-18T17:01:38Z\"\n  releaseNotes: string; //\"Someone eyeing your Netflix app on the bus? Make sure it’s the latest and greatest. Get the update for our best experience yet.↵↵And in this release, we fixed bugs and made performance improvements. Just for you.\"\n  version: string; //\"12.19.0\"\n  price: number; //0\n  currency: string; //\"USD\"\n  free: boolean; //true\n  developerId: number; //363590054\n  developer: string; //\"Netflix, Inc.\"\n  developerUrl: string; //\"https://apps.apple.com/us/developer/netflix-inc/id363590054?uo=4\"\n  developerWebsite: string; //\"http://www.netflix.com\"\n  score: number; //3.5\n  reviews: number; //482090\n  currentVersionScore: number; //4.5\n  currentVersionReviews: number; //11\n  screenshots: string[]; // (7) [\"https://is4-ssl.mzstatic.com/image/thumb/Purple113…-faa4-d287f3c84ecc/mzl.klttrelm.jpg/392x696bb.jpg\", \"https://is1-ssl.mzstatic.com/image/thumb/Purple113…-a538-e044cc67e890/mzl.kkxqrlen.jpg/392x696bb.jpg\", \"https://is4-ssl.mzstatic.com/image/thumb/Purple113…-362a-ebe6a289fe9a/mzl.bhjzwljf.jpg/392x696bb.jpg\", \"https://is5-ssl.mzstatic.com/image/thumb/Purple113…-cf21-f489edaf985b/mzl.vrbxsewe.jpg/392x696bb.jpg\", \"https://is2-ssl.mzstatic.com/image/thumb/Purple113…-844a-49783496f3b8/mzl.oizywyce.jpg/392x696bb.jpg\", \"https://is4-ssl.mzstatic.com/image/thumb/Purple113…-903d-12e656b3262c/mzl.ymutaeih.jpg/392x696bb.jpg\", \"https://is3-ssl.mzstatic.com/image/thumb/Purple123…-8200-4114e18b57cb/mzl.sodmwfvq.jpg/392x696bb.jpg\"]\n  ipadScreenshots: string[]; //(7) [\"https://is5-ssl.mzstatic.com/image/thumb/Purple123…-9321-50a2f379b1e2/mzl.sqrdwpkl.jpg/552x414bb.jpg\", \"https://is2-ssl.mzstatic.com/image/thumb/Purple113…-f630-e0b7483b6545/mzl.lkqzxhbq.jpg/552x414bb.jpg\", \"https://is2-ssl.mzstatic.com/image/thumb/Purple123…-c649-ee63fabb7fef/mzl.ynnrdwrt.jpg/552x414bb.jpg\", \"https://is1-ssl.mzstatic.com/image/thumb/Purple113…-6e07-7e7b06983299/mzl.pqocidkz.jpg/552x414bb.jpg\", \"https://is4-ssl.mzstatic.com/image/thumb/Purple123…-1d13-0aa5aa149391/mzl.jindmgfn.jpg/552x414bb.jpg\", \"https://is2-ssl.mzstatic.com/image/thumb/Purple123…-3a9a-74c6131acfea/mzl.jmqdchhm.jpg/552x414bb.jpg\", \"https://is4-ssl.mzstatic.com/image/thumb/Purple123…-0310-13463628cd5b/mzl.pxlctvjo.jpg/552x414bb.jpg\"]\n  appletvScreenshots: string[];\n  supportedDevices: string; //(51) [\"iPhone5s-iPhone5s\", \"iPadAir-iPadAir\", \"iPadAirCellular-iPadAirCellular\", \"iPadMiniRetina-iPadMiniRetina\", \"iPadMiniRetinaCellular-iPadMiniRetinaCellular\", \"iPhone6-iPhone6\", \"iPhone6Plus-iPhone6Plus\", \"iPadAir2-iPadAir2\", \"iPadAir2Cellular-iPadAir2Cellular\", \"iPadMini3-iPadMini3\", \"iPadMini3Cellular-iPadMini3Cellular\", \"iPodTouchSixthGen-iPodTouchSixthGen\", \"iPhone6s-iPhone6s\", \"iPhone6sPlus-iPhone6sPlus\", \"iPadMini4-iPadMini4\", \"iPadMini4Cellular-iPadMini4Cellular\", \"iPadPro-iPadPro\", \"iPadProCellular-iPadProCellular\", \"iPadPro97-iPadPro97\", \"iPadPro97Cellular-iPadPro97Cellular\", \"iPhoneSE-iPhoneSE\", \"iPhone7-iPhone7\", \"iPhone7Plus-iPhone7Plus\", \"iPad611-iPad611\", \"iPad612-iPad612\", \"iPad71-iPad71\", \"iPad72-iPad72\", \"iPad73-iPad73\", \"iPad74-iPad74\", \"iPhone8-iPhone8\", \"iPhone8Plus-iPhone8Plus\", \"iPhoneX-iPhoneX\", \"iPad75-iPad75\", \"iPad76-iPad76\", \"iPhoneXS-iPhoneXS\", \"iPhoneXSMax-iPhoneXSMax\", \"iPhoneXR-iPhoneXR\", \"iPad812-iPad812\", \"iPad834-iPad834\", \"iPad856-iPad856\", \"iPad878-iPad878\", \"iPadMini5-iPadMini5\", \"iPadMini5Cellular-iPadMini5Cellular\", \"iPadAir3-iPadAir3\", \"iPadAir3Cellular-iPadAir3Cellular\", \"iPodTouchSeventhGen-iPodTouchSeventhGen\", \"iPhone11-iPhone11\", \"iPhone11Pro-iPhone11Pro\", \"iPadSeventhGen-iPadSeventhGen\", \"iPadSeventhGenCellular-iPadSeventhGenCellular\", \"iPhone11ProMax-iPhone11ProMax\"]\n}\n\nconst AppleStore = ({ value = {} as AppleStoreProps }) => {\n  const { icon = logo, title, developer, description, free, url, screenshots = [] } = value;\n\n  return (\n    <>\n      <Grid container spacing={2}>\n        <Grid item>\n          <img style={{ height: 100 }} src={icon} alt='logo' />\n        </Grid>\n        <Grid item xs>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant='h5'>{title}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography color='textSecondary'>{developer}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography color='textSecondary' variant='caption'>\n                {free && 'Free'}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container spacing={1}>\n                <Grid item>\n                  <NewWindowLink url={url} label={'Open in Apple Store'} />\n                </Grid>\n                {screenshots.length > 0 && (\n                  <>\n                    <Grid item>|</Grid>\n                    <Grid item>\n                      <DialogButton\n                        Module={ScreenshotsDialog}\n                        size='large'\n                        variant='link'\n                        linkvariant='inherit'\n                        underline='always'\n                        tooltip='Click to View'\n                        Icon={null}\n                        initialValues={{ images: screenshots }}\n                      >\n                        View Screenshots\n                      </DialogButton>\n                    </Grid>\n                  </>\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Box mt={2}>\n        <Typography>{description}</Typography>\n      </Box>\n    </>\n  );\n};\n\nexport default AppleStore;\n","import * as React from 'react';\nimport NumberFormat from 'react-number-format';\nimport Text from './Text';\nimport { checkEmpty, isDefined } from '../../../helpers';\n\nconst checkMinMax = (min, max, value) =>\n  !checkEmpty(value) ? (isDefined(min) && Number(value) < Number(min) ? min : isDefined(max) && Number(value) > Number(max) ? max : value) : value;\n\nfunction WholeNumberFormat({ inputRef, onChange, min, max, thousandSeparator = undefined, ...other }) {\n  return (\n    <NumberFormat\n      getInputRef={inputRef}\n      onValueChange={values => {\n        onChange({\n          target: {\n            value: checkMinMax(min, max, values.value)\n          }\n        });\n      }}\n      decimalScale={0}\n      allowNegative={false}\n      thousandSeparator={thousandSeparator}\n      isNumericString\n      {...other}\n    />\n  );\n}\n\nexport default function WholeNumber({ InputProps = undefined, inputProps = undefined, min, max, thousandSeparator = undefined, ...other }) {\n  return (\n    <Text\n      InputProps={{\n        inputComponent: WholeNumberFormat,\n        ...InputProps\n      }}\n      inputProps={{\n        min,\n        max,\n        thousandSeparator,\n        ...inputProps\n      }}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { Grid, IconButton } from '@material-ui/core';\nimport WholeNumber from '../../application/DialogField/WholeNumber';\nimport * as Icons from '@material-ui/icons';\n\nconst WholeNumberUpDown = ({\n  value = undefined,\n  min = undefined,\n  max = undefined,\n  step = 1,\n  disabled = false,\n  onChange = undefined,\n  InputProps = undefined,\n  ...other\n}) => {\n  const handleUp = React.useCallback(() => {\n    if (!isNaN(step)) {\n      if (!isNaN(value)) {\n        // Value is a number\n        if (max !== undefined && !isNaN(max)) {\n          if (Number(value) + Number(step) <= Number(max)) {\n            onChange && onChange({ target: { value: Number(value) + Number(step) } });\n          } else {\n            onChange && onChange({ target: { value: min } });\n          }\n        } else {\n          onChange && onChange({ target: { value: Number(value) + Number(step) } });\n        }\n      } else {\n        // Value is not a number\n        if (!isNaN(min)) {\n          onChange && onChange({ target: { value: min } }); // Set to minimum if value is undefined\n        } else {\n          onChange && onChange({ target: { value: 0 } }); // Default to 0 if no min is specified\n        }\n      }\n    }\n  }, [value, max, min, step, onChange]);\n  \n  const handleDown = React.useCallback(() => {\n    if (!isNaN(step)) {\n      if (!isNaN(value)) {\n        // Value is a number\n        if (min !== undefined && !isNaN(min)) {\n          if (Number(value) - Number(step) >= Number(min)) {\n            onChange && onChange({ target: { value: Number(value) - Number(step) } });\n          } else {\n            onChange && onChange({ target: { value: max } });\n          }\n        } else {\n          onChange && onChange({ target: { value: Number(value) - Number(step) } });\n        }\n      } else {\n        // Value is not a number\n        if (!isNaN(min)) {\n          onChange && onChange({ target: { value: min } }); // Set to minimum if value is undefined\n        } else {\n          onChange && onChange({ target: { value: 0 } }); // Default to 0 if no min is specified\n        }\n      }\n    }\n  }, [value, min, max, step, onChange]);\n\n  return (\n    <WholeNumber\n      min={min}\n      max={max}\n      step={step}\n      disabled={disabled}\n      onChange={onChange}\n      value={value}\n      InputProps={{\n        ...InputProps,\n        endAdornment: (\n          <>\n            {InputProps && InputProps.endAdornment}\n            <Grid container style={{ width: 18, marginRight: -4 }}>\n              <Grid item xs={12}>\n                <IconButton disabled={disabled} aria-label='up' style={{ marginTop: -2, marginBottom: -2 }} size='small' onClick={handleUp}>\n                  <Icons.ArrowDropUp fontSize='inherit' />\n                </IconButton>\n              </Grid>\n              <Grid item xs={12}>\n                <IconButton aria-label='down' style={{ marginTop: -2, marginBottom: -2 }} size='small' disabled={disabled} onClick={handleDown}>\n                  <Icons.ArrowDropDown fontSize='inherit' />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </>\n        )\n      }}\n      {...other}\n    />\n  );\n};\n\nexport default WholeNumberUpDown;\n","import * as React from 'react';\nimport { TextField, InputAdornment, IconButton, Tooltip } from '@material-ui/core';\nimport { isEmpty, isError } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleLink } from '../../../hooks';\n\nconst TextLinkStyled = ({\n  value = '',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  error = undefined,\n  initialValue = undefined,\n  InputProps = undefined,\n  disabled = undefined,\n  fullWidth = undefined,\n  ...other\n}) => {\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const handleLink = useHandleLink(value);\n\n  return (\n    <TextField\n      value={value}\n      error={isError(error)}\n      helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n      margin={margin as any}\n      variant={variant as any}\n      fullWidth={fullWidth}\n      style={{ width: 500 - 8 }}\n      InputLabelProps={{\n        shrink: true\n      }}\n      InputProps={{\n        endAdornment: (\n          <Tooltip title='Click to open'>\n            <InputAdornment position='end'>\n              <IconButton disabled={isEmpty(value)} aria-label='open-link' onClick={handleLink} onMouseDown={handleMouseDown} edge='end'>\n                <Icons.Link />\n              </IconButton>\n            </InputAdornment>\n          </Tooltip>\n        ),\n        ...InputProps\n      }}\n      disabled={disabled}\n      {...other}\n    />\n  );\n};\n\nexport default TextLinkStyled;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Grid, InputLabel, makeStyles, createStyles } from '@material-ui/core';\nimport NotchedOutline from '@material-ui/core/OutlinedInput/NotchedOutline';\nimport { isError } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette, shape }: any) =>\n  createStyles({\n    root: {\n      position: 'relative',\n      width: '100%'\n    },\n    container: {\n      position: 'relative'\n    },\n    content: {\n      minHeight: 40,\n      paddingLeft: 16,\n      paddingRight: 16,\n      paddingTop: 8,\n      paddingBottom: 8,\n      borderRadius: shape.borderRadius,\n      borderColor: palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)',\n      '&:hover': {\n        borderColor: palette.text.primary\n      }\n    },\n    inputLabel: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      // slight alteration to spec spacing to match visual spec result\n      transform: 'translate(0, 24px) scale(1)'\n    },\n    notchedOutline: ({ error }: any) => ({\n      borderColor: isError(error) ? palette.error.main : 'inherit'\n    })\n  })\n);\n\n// Needs some work to handle focused state.  It should use FormControl and formControlState.\nexport default function OutlinedDiv({\n  label = '',\n  error = undefined,\n  width = undefined,\n  maxWidth = undefined,\n  margin = undefined,\n  marginTop = undefined,\n  marginBottom = undefined,\n  height = undefined,\n  children = undefined\n}) {\n  const classes = useStyles({ error });\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  const labelRef = React.useRef(null);\n  React.useEffect(() => {\n    const labelNode: any = ReactDOM.findDOMNode(labelRef.current);\n    setLabelWidth(labelNode != null ? labelNode.offsetWidth : 0);\n  }, [label]);\n\n  return (\n    <div className={classes.root} style={{ width, maxWidth, margin, marginTop, marginBottom, height }}>\n      <InputLabel ref={labelRef} htmlFor={label} variant='outlined' className={classes.inputLabel} shrink>\n        {label}\n      </InputLabel>\n      <div className={classes.container}>\n        <Grid container id={label} className={classes.content} alignItems='center'>\n          <Grid item xs={12}>\n            {children}\n          </Grid>\n          <NotchedOutline className={classes.notchedOutline} notched labelWidth={labelWidth} />\n        </Grid>\n      </div>\n    </div>\n  );\n}\n","import { Tooltip, withStyles, Theme } from '@material-ui/core';\n\nconst LightTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    ...theme.typography.body2,\n    backgroundColor: theme.palette.common.white,\n    color: theme.palette.text.primary,\n    boxShadow: theme.shadows[1]\n  }\n}))(Tooltip) as any;\n\nexport default LightTooltip;\n","import * as React from 'react';\nimport { FormControl, FormHelperText, Grid, Typography, ButtonGroup, Button } from '@material-ui/core';\nimport { isError, isTrue, isFalse } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport LightTooltip from '../../general/LightTooltip/LightTooltip';\n\nconst YesNo = ({\n  label = '',\n  variant = undefined,\n  size = 'small' as 'small',\n  color = 'primary' as 'primary',\n  error = undefined,\n  value = undefined,\n  tooltip = undefined,\n  margin = 'dense' as 'dense',\n  labelPlacement = 'start',\n  onChange = undefined,\n  forceErrorMargin = false,\n  type = undefined, // Don't pass an undefined type to Checkbox.  This filters the prop out\n  initialValue = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(value => () => onChange && onChange({ target: { value } }), [onChange]);\n\n  const Label = (\n    <Grid item>\n      <Typography variant='body2'>{label}</Typography>\n    </Grid>\n  );\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <Grid container justify='space-between' alignItems='center' spacing={3}>\n        {labelPlacement === 'start' && Label}\n        <Grid item>\n          <Grid container justify='flex-end' alignItems='center' spacing={1}>\n            {tooltip && (\n              <Grid item>\n                <LightTooltip title={tooltip}>\n                  <Icons.HelpOutlined fontSize='small' color='primary' />\n                </LightTooltip>\n              </Grid>\n            )}\n            <Grid item>\n              <ButtonGroup size={size} color={color} aria-label={`${label}-button-group`} {...other}>\n                <Button variant={isTrue(value) ? 'contained' : undefined} onClick={handleChange(true)}>\n                  Yes\n                </Button>\n                <Button variant={isFalse(value) ? 'contained' : undefined} onClick={handleChange(false)}>\n                  No\n                </Button>\n              </ButtonGroup>\n            </Grid>\n          </Grid>\n        </Grid>\n        {labelPlacement === 'end' && Label}\n      </Grid>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default YesNo;\n","import * as React from 'react';\nimport { FormControl, Box, FormHelperText, Typography } from '@material-ui/core';\nimport { isError, isTrue, onlyUnique, evalFunc } from '../../../helpers';\nimport OutlinedDiv from '../../general/OutlinedDiv/OutlinedDiv';\nimport YesNo from './YesNo';\n\nconst YesNoGroup = ({\n  label = '',\n  description = undefined,\n  items = [],\n  variant = undefined,\n  size = 'small' as 'small',\n  color = 'primary' as 'primary',\n  error = undefined,\n  forceErrorMargin = false,\n  value = [],\n  margin = 'dense' as 'dense',\n  onChange = undefined,\n  ...other\n}) => {\n  const handleChange = React.useCallback(\n    key => event => {\n      const itemValue = event.target.value; // true or false\n      onChange && onChange({ target: { value: isTrue(itemValue) ? [...value, key].filter(onlyUnique) : value.filter(v => v !== key) } });\n    },\n    [value, onChange]\n  );\n\n  const getValue = key => value.includes(key);\n\n  return (\n    <FormControl variant={variant} error={isError(error)} fullWidth margin={margin}>\n      <OutlinedDiv label={label}>\n        <Box mt={1} mb={1}>\n          {description && (\n            <Typography paragraph={true} color='textSecondary' variant='caption'>\n              {description}\n            </Typography>\n          )}\n          {items\n            .filter(i => !evalFunc(i.hidden, value))\n            .map(({ label, value: key, ...more }) => (\n              <div key={key}>\n                <YesNo label={label} value={getValue(key)} onChange={handleChange(key)} {...other} {...more} />\n              </div>\n            ))}\n          {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n        </Box>\n      </OutlinedDiv>\n    </FormControl>\n  );\n};\n\nexport default YesNoGroup;\n","import React from 'react';\nimport { Grid, Typography, Collapse } from '@material-ui/core';\nimport { InjectField } from '../../Fields';\nimport OutlinedDiv from '../../../../general/OutlinedDiv/OutlinedDiv';\nimport * as Icons from '@material-ui/icons';\nimport LightTooltip from '../../../../general/LightTooltip/LightTooltip';\nimport { ApplicationTabs } from './ApplicationTabs';\n\nexport default function PrivacyInfo({ fields, values, mapField, fullWidth, setValues, state, setState, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />;\n  const privacies = values.applications.privacies || [];\n\n  return (\n    <Grid container justify='center' spacing={3}>\n      <Grid item xs style={{ maxWidth: 700 }}>\n        <ApplicationTabs state={state} values={values} injectField={injectField} fields={fields} setValues={setValues} setState={setState} />\n      </Grid>\n      <Grid item xs style={{ minWidth: 280, maxWidth: 550 }}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            {injectField('privacies')}\n          </Grid>\n          <Grid item xs={12}>\n            <Collapse in={privacies.includes('Has Privacy Policy')}>\n              <OutlinedDiv label='Privacy Policy Reading Level'>\n                <Grid container alignItems='center' justify='space-between' spacing={2}>\n                  <Grid item>\n                    <Typography>Reading grade level of the privacy policy?</Typography>\n                  </Grid>\n                  <Grid item>\n                    <Grid container justify='flex-end' alignItems='center' spacing={1}>\n                      <Grid item>\n                        <LightTooltip\n                          title={\n                            'Flesch-Kincaid grade level: https://readabilityformulas.com/free-readability-formula-tests.php (just copy and paste privacy policy in)'\n                          }\n                        >\n                          <Icons.HelpOutlined fontSize='small' color='primary' />\n                        </LightTooltip>\n                      </Grid>\n                      <Grid item style={{ width: 94 }}>\n                        {injectField('readingLevel')}\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </OutlinedDiv>\n            </Collapse>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid, Typography, Collapse } from '@material-ui/core';\nimport { InjectField } from '../../Fields';\nimport OutlinedDiv from '../../../../general/OutlinedDiv/OutlinedDiv';\nimport LightTooltip from '../../../../general/LightTooltip/LightTooltip';\nimport * as Icons from '@material-ui/icons';\nimport { ApplicationTabs } from './ApplicationTabs';\n\nexport default function ClinicalFoundationInfo({ fields, values, mapField, fullWidth, setValues, state, setState, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />;\n  const clinicalFoundations = values.applications.clinicalFoundations || [];\n\n  return (\n    <Grid container justify='center' spacing={3}>\n      <Grid item xs style={{ maxWidth: 700 }}>\n        <ApplicationTabs state={state} values={values} injectField={injectField} fields={fields} setValues={setValues} setState={setState} />\n      </Grid>\n      <Grid item xs style={{ minWidth: 280, maxWidth: 600 }}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            {injectField('clinicalFoundations')}\n          </Grid>\n          <Grid item xs={12}>\n            <Collapse in={clinicalFoundations.includes('Supporting Studies')}>\n              <OutlinedDiv label='Supporting Studies'>\n                {[\n                  { id: 'feasibilityStudies', label: 'How many feasibility/usability studies?' },\n                  { id: 'feasibilityStudiesLink', label: '', width: 500 },\n                  {\n                    id: 'feasibilityImpact',\n                    label: 'What is the highest feasibility impact factor?',\n                    tooltip: `What is the impact factor of the journal in which the feasibility study is published? This can easily be found with a quick google search. If it's not immediately evident, put \"0\" and assume the journal doesn't have an impact factor.`\n                  },\n                  { id: 'efficacyStudies', label: 'How many evidence/efficacy studies?' },\n                  { id: 'efficacyStudiesLink', label: '', width: 500 },\n                  {\n                    id: 'efficacyImpact',\n                    label: 'What is the highest efficacy impact factor?',\n                    tooltip: `What is the impact factor of the journal in which the efficacy study is published? This can easily be found with a quick google search. If it's not immediately evident, put \"0\" and assume the journal doesn't have an impact factor.`\n                  }\n                ].map(({ label, id, width = 94, tooltip }) => (\n                  <Grid key={id} container alignItems='center' justify='space-between' spacing={2}>\n                    <Grid item>\n                      <Typography>{label}</Typography>\n                    </Grid>\n                    <Grid item>\n                      <Grid container justify='flex-end' alignItems='center' spacing={1}>\n                        {tooltip && (\n                          <Grid item>\n                            <LightTooltip title={tooltip}>\n                              <Icons.HelpOutlined fontSize='small' color='primary' />\n                            </LightTooltip>\n                          </Grid>\n                        )}\n                        <Grid item style={{ width }}>\n                          {injectField(id)}\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                ))}\n              </OutlinedDiv>\n            </Collapse>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { InjectField } from '../../Fields';\nimport { ApplicationTabs } from './ApplicationTabs';\n\nexport default function Review({ fields, values, mapField, fullWidth, setValues, state, setState, ...props }) {\n  const injectField = id => <InjectField id={id} fields={fields} values={values} mapField={mapField} fullWidth={fullWidth} {...props} />;\n\n  return (\n    <Grid container justify='center' spacing={3}>\n      <Grid item xs style={{ maxWidth: 700 }}>\n        <ApplicationTabs state={state} values={values} injectField={injectField} fields={fields} setValues={setValues} setState={setState} />\n      </Grid>\n      <Grid item xs style={{ minWidth: 280, maxWidth: 600 }}>\n        <Grid container spacing={1}>\n          {injectField('review')}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import MultiSelectCheck from '../../DialogField/MultiSelectCheck';\nimport {\n  Platforms,\n  DeveloperTypeQuestions,\n  CostQuestions,\n  PrivacyQuestions,\n  FunctionalityQuestions,\n  ClinicalFoundationQuestions,\n  FeatureQuestions,\n  EngagementQuestions,\n  UseQuestions,\n  OutputQuestions,\n  InputQuestions,\n  Conditions\n} from '../../../../database/models/Application';\nimport { tables } from '../../../../database/dbConfig';\nimport { isEmpty, getAndroidIdFromUrl, getAppleIdFromUrl } from '../../../../helpers';\nimport SupportedPlatforms from './templates/SupportedPlatforms';\nimport ApplicationInfo from './templates/ApplicationInfo';\nimport AndroidStore from '../../DialogField/AndroidStore';\nimport AppleStore from '../../DialogField/AppleStore';\nimport WholeNumberUpDown from '../../DialogField/WholeNumberUpDown';\nimport TextLinkStyled from '../../DialogField/TextLinkStyled';\nimport YesNoGroup from '../../DialogField/YesNoGroup';\nimport PrivacyInfo from './templates/PrivacyInfo';\nimport ClinicalFoundationInfo from './templates/ClinicalFoundationInfo';\nimport Review from './templates/Review';\n\nconst steps = (type = undefined, data = []) => [\n  {\n    label: 'For each platform, enter associated link or remove if unsupported. Click next to continue.',\n    Template: SupportedPlatforms,\n    fields: [\n      {\n        id: 'platforms',\n        label: 'Platforms',\n        Field: MultiSelectCheck,\n        items: Platforms.map(label => ({ value: label, label })),\n        required: true,\n        initialValue: type === 'Add' ? Platforms : undefined\n      },\n      {\n        id: 'androidLink',\n        label: 'Enter link to app on Google Play store',\n        required: true,\n        http: true,\n        validate: values => {\n          const links = data.map(d => d?.getValues()?.androidLink?.toLowerCase());\n          const link = values.applications['androidLink'];\n          if (type === 'Add' && !isEmpty(link) && links.find(al => al === link.toLowerCase())) {\n            return 'Rating already exists for this URL.';\n          }\n          return isEmpty(getAndroidIdFromUrl(link)) && 'Invalid Url format.  Must contain the application id.';\n        },\n        hidden: values => !(Array.isArray(values[tables.applications]?.platforms) && values[tables.applications]?.platforms.includes('Android'))\n      },\n      {\n        id: 'iosLink',\n        label: 'Enter link to app on the Apple App store',\n        required: true,\n        http: true,\n        validate: values => {\n          const links = data.map(d => d?.getValues()?.iosLink?.toLowerCase());\n          const link = values.applications['iosLink'];\n          if (type === 'Add' && !isEmpty(link) && links.find(al => al === link.toLowerCase())) {\n            return 'Rating already exists for this URL.';\n          }\n          return isEmpty(getAppleIdFromUrl(link)) && 'Invalid Url format.  Must contain the application id.';\n        },\n        hidden: values => !(Array.isArray(values[tables.applications]?.platforms) && values[tables.applications]?.platforms.includes('iOS'))\n      },\n      {\n        id: 'webLink',\n        label: 'Enter web link to app',\n        required: true,\n        http: true,\n        hidden: values => !(Array.isArray(values[tables.applications]?.platforms) && values[tables.applications]?.platforms.includes('Web'))\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter application information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore,\n        load: true\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore,\n        load: true\n      },\n      {\n        id: 'name',\n        label: 'Name'\n      },\n      {\n        id: 'company',\n        label: 'Company'\n      },\n      {\n        id: 'costs',\n        label: 'Cost',\n        Field: YesNoGroup,\n        items: CostQuestions\n      },\n      {\n        id: 'developerTypes',\n        label: 'Application Origin',\n        description:\n          'Every app will be in at least one of these categories but can be in more than one of them (a university-affiliated hospital, for example, could be both academic, healthcare, and non-profit). When in doubt, put for profit. Refer to app store description and app itself (i.e. is there a logo on the interface) and developer website.',\n        Field: YesNoGroup,\n        items: DeveloperTypeQuestions\n      },\n      {\n        id: 'conditions',\n        label: 'Supported Conditions',\n        Field: MultiSelectCheck,\n        items: Conditions.map(value => ({ value, label: value })),\n        required: true\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter privacy/security information. Click next to continue.',\n    Template: PrivacyInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'privacies',\n        label: 'Privacy & Security',\n        Field: YesNoGroup,\n        items: PrivacyQuestions\n      },\n      {\n        id: 'readingLevel',\n        label: null,\n        Field: WholeNumberUpDown,\n        min: 0,\n        max: 20,\n        initialValue: 0\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter functionality and data sharing information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'functionalities',\n        label: 'Functionality & Data Sharing',\n        Field: YesNoGroup,\n        items: FunctionalityQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter evidence and clinical foundation information. Click next to continue.',\n    Template: ClinicalFoundationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'clinicalFoundations',\n        label: 'Evidence & Clinical Foundations',\n        Field: YesNoGroup,\n        items: ClinicalFoundationQuestions\n      },\n      {\n        id: 'feasibilityStudies',\n        label: null,\n        Field: WholeNumberUpDown,\n        min: 0,\n        max: 999,\n        required: true,\n        initialValue: 0\n      },\n      {\n        id: 'feasibilityStudiesLink',\n        label: 'Please enter the link of the supporting study',\n        Field: TextLinkStyled,\n        fullWidth: true,\n        hidden: values => (values?.applications?.feasibilityStudies !== undefined && parseInt(values?.applications?.feasibilityStudies) > 0 ? false : true)\n      },\n      {\n        id: 'feasibilityImpact',\n        label: null,\n        Field: WholeNumberUpDown,\n        min: 0,\n        max: 99.9,\n        step: 0.1,\n        inputProps: {\n          decimalScale: 1\n        },\n        required: true,\n        initialValue: 0\n      },\n      {\n        id: 'efficacyStudies',\n        label: null,\n        Field: WholeNumberUpDown,\n        min: 0,\n        max: 999,\n        required: true,\n        initialValue: 0\n      },\n      {\n        id: 'efficacyStudiesLink',\n        label: 'Please enter the link of the supporting study',\n        Field: TextLinkStyled,\n        fullWidth: true,\n        hidden: values => (values?.applications?.efficacyStudies !== undefined && parseInt(values?.applications?.efficacyStudies) > 0 ? false : true)\n      },\n      {\n        id: 'efficacyImpact',\n        label: null,\n        Field: WholeNumberUpDown,\n        min: 0,\n        max: 99.9,\n        step: 0.1,\n        inputProps: {\n          decimalScale: 1\n        },\n        required: true,\n        initialValue: 0\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter feature information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'features',\n        label: 'Application Features',\n        Field: YesNoGroup,\n        items: FeatureQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter engagement information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'engagements',\n        label: 'Application Engagements',\n        Field: YesNoGroup,\n        items: EngagementQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter input information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'inputs',\n        label: 'Application Inputs',\n        Field: YesNoGroup,\n        items: InputQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter output information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'outputs',\n        label: 'Application Outputs',\n        Field: YesNoGroup,\n        items: OutputQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter application usage information. Click next to continue.',\n    Template: ApplicationInfo,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'uses',\n        label: 'Application Uses',\n        Field: YesNoGroup,\n        items: UseQuestions\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  },\n  {\n    label: 'Enter qualitative review.',\n    Template: Review,\n    fields: [\n      {\n        id: 'androidStore',\n        Field: AndroidStore\n      },\n      {\n        id: 'appleStore',\n        Field: AppleStore\n      },\n      {\n        id: 'review',\n        label: 'Review',\n        multiline: true,\n        rows: 12,\n        placeholder: 'Please enter a qualitative review.',\n        hidden: false\n      }\n    ].map(f => ({ ...f, container: tables.applications }))\n  }\n];\n\nexport default steps;\n","import React from 'react';\n\n// Triggers the onActivate function when index transitions to activateIndex\nconst OnActivate = ({ index, activeIndex, onActivate, children, values, setValues }) => {\n  const [activated, setActivated] = React.useState(false);\n  React.useEffect(() => {\n    if (index === activeIndex) {\n      if (activated === false) {\n        setActivated(true); // Flag activation has occurred\n        onActivate && onActivate({ values, setValues }); // Execute activation\n      }\n    } else {\n      activated === true && setActivated(false); // Reset activation flag\n    }\n  }, [index, activeIndex, activated, setActivated, onActivate, values, setValues]);\n  return activated && children;\n};\n\nexport default OnActivate;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Grid, Tooltip, Step, MobileStepper, Collapse, Chip, CircularProgress, useTheme, duration } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport merge from 'deepmerge';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport CheckIcon from '@material-ui/icons/CheckCircleOutline';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { isEnabled, useValues, isError, useStepFields } from './helpers';\nimport Fields from './Fields';\nimport OnActivate from './OnActivate';\nimport { useFullScreen } from '../../../hooks';\nimport ErrorGate from './ErrorGate';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    dialogActions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    dialogTitle: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      margin: 0,\n      padding: 0,\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    mobileStepper: {\n      flexGrow: 1\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  validate: any;\n  Content: any;\n  steps: any[];\n}\n\nconst GenericStepperDialog = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues = {}, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel,\n  maxWidth = 'xs',\n  steps = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  Content,\n  validate,\n  timeout = duration.standard,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme() as any;\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [state, setState] = useDialogState(id);\n  const { type, open, submitting, loading, showErrors } = state;\n  const setShowErrors = React.useCallback(show => setState(prev => ({ ...prev, showErrors: show })), [setState]);\n  const title = state.title ? state.title : Title;\n  const fields = useStepFields(steps);\n\n  const { values, setValues, hasChanged, errors, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate\n  });\n\n  // Re-initialize values when necessary\n  React.useEffect(() => {\n    open && setActiveStep(0);\n    open && setConfirmDelete(false);\n  }, [open]);\n\n  const classes = useStyles({});\n  const fullScreen = useFullScreen();\n\n  const activeSteps = steps.filter(s => isEnabled(typeof s.enabled === 'function' ? s.enabled(values) : s.enabled));\n  const currentStep = (activeSteps && activeSteps[activeStep]) || {};\n  const stepValidate = currentStep.validate;\n\n  const activeErrorCount = currentStep.fields ? currentStep.fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (activeErrorCount > 0) {\n      setShowErrors(true);\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s));\n    }\n  }, [activeErrorCount, setShowErrors, onSubmit, values_s]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const handleNext = React.useCallback(() => {\n    if (activeErrorCount > 0) {\n      setShowErrors(true);\n    } else {\n      const next = (newValues = undefined) => {\n        newValues && setValues(prev => merge(prev, newValues));\n        showErrors && setShowErrors(false);\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n      };\n      stepValidate ? stepValidate(JSON.parse(values_s), next) : next();\n    }\n  }, [setShowErrors, setValues, showErrors, stepValidate, setActiveStep, activeErrorCount, values_s]);\n\n  const handleBack = React.useCallback(() => setActiveStep(prevActiveStep => prevActiveStep - 1), [setActiveStep]);\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Dialog\n      PaperComponent={!fullScreen && draggable ? PaperComponent : Paper}\n      fullScreen={fullScreen}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={`${id}-dialog-title`}\n      aria-describedby={`${id}-dialog-description`}\n      className={classes.dialog}\n      disableAutoFocus={true}\n      maxWidth={currentStep.maxWidth !== undefined ? currentStep.maxWidth : maxWidth}\n      fullWidth\n      {...other}\n    >\n      {title !== null && (\n        <>\n          <DialogTitle id={`${id}-dialog-title`} disableTypography className={classes.dialogTitle}>\n            <Grid container justify='space-between' alignItems='center'>\n              <Grid item>\n                <Typography variant='h6' className={classes.capitalize}>\n                  {title ? title : [type, id].join(' ')}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Tooltip title='Close' placement='left'>\n                  <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\n                    <CloseIcon />\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          <Divider />\n          {!confirmDelete && (\n            <DialogActions>\n              <Grid container style={{ paddingLeft: 12, paddingRight: 12 }} alignItems='center'>\n                <Grid item xs>\n                  <Typography color='textSecondary'>{currentStep.label ? currentStep.label : currentStep.id}</Typography>\n                </Grid>\n                {activeSteps.length > 1 && (\n                  <Grid item>\n                    <Chip color='primary' label={`${activeStep + 1} of ${activeSteps.length}`} />\n                  </Grid>\n                )}\n              </Grid>\n            </DialogActions>\n          )}\n        </>\n      )}\n      <DialogContent dividers>\n        <ErrorGate error={errors['loading']}>\n          {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n          <Collapse in={!confirmDelete}>\n            {activeSteps.map(({ Template, fields = [], label, onActivate, minWidth }, i) => {\n              const FieldsComponent = Template ?? Fields;\n              return (\n                <Collapse key={i} in={activeStep === i} timeout={timeout}>\n                  <Step key={label}>\n                    <OnActivate key={label} index={i} activeIndex={activeStep} onActivate={onActivate} values={values} setValues={setValues}>\n                      <Grid container alignItems='center' spacing={1}>\n                        <FieldsComponent fields={fields} mapField={mapField} values={values} state={state} setState={setState} setValues={setValues} />\n                      </Grid>\n                    </OnActivate>\n                  </Step>\n                </Collapse>\n              );\n            })}\n          </Collapse>\n          {confirmDelete && (\n            <Grid container spacing={2} justify='center' alignItems='center'>\n              <Grid item>\n                <Button onClick={handleConfirmDelete} color='secondary'>\n                  Cancel\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button onClick={handleDelete} className={classes.deleteButton}>\n                  <DeleteIcon style={{ marginRight: 4 }} />\n                  Confirm {deleteLabel}\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n        </ErrorGate>\n      </DialogContent>\n      {!confirmDelete && (\n        <DialogActions className={classes.dialogActions}>\n          <MobileStepper\n            variant='dots'\n            steps={activeSteps.length}\n            position='static'\n            activeStep={activeStep}\n            className={classes.mobileStepper}\n            nextButton={\n              activeStep === activeSteps.length - 1 ? (\n                <Button color='primary' size='small' variant='contained' disabled={!hasChanged || disabled} onClick={handleSubmit}>\n                  {submitLabel ? submitLabel : 'Finish'}\n                  <CheckIcon style={{ marginLeft: 4 }} />\n                </Button>\n              ) : (\n                <>\n                  <Button size='small' onClick={handleNext} disabled={disabled}>\n                    Next\n                    <KeyboardArrowRight />\n                  </Button>\n                </>\n              )\n            }\n            backButton={\n              activeStep === 0 && type === 'Edit' && onDelete !== undefined ? (\n                <Button className={classes.deleteButton} size='small' variant='contained' onClick={handleConfirmDelete} disabled={disabled}>\n                  <DeleteIcon style={{ marginRight: 4 }} />\n                  {deleteLabel}\n                </Button>\n              ) : (\n                <Button size='small' onClick={handleBack} disabled={activeStep === 0 || disabled}>\n                  <KeyboardArrowLeft />\n                  Back\n                </Button>\n              )\n            }\n          />\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n};\n\nexport default GenericStepperDialog;\n","import React from 'react';\nimport { useDialogState } from '../useDialogState';\nimport Application from '../../../../database/models/Application';\nimport { tables } from '../../../../database/dbConfig';\nimport { useProcessData } from '../../../../database/useProcessData';\nimport { uuid, publicUrl, isEmpty } from '../../../../helpers';\nimport steps from './steps';\nimport { useChangeRoute } from '../../../layout/hooks';\nimport GenericStepperDialog from '../GenericStepperDialog';\nimport { useSelector } from 'react-redux';\n\nexport const title = 'View/Edit App';\n\nexport interface ComponentProps {\n  id?: string;\n  onClose?: () => any;\n}\n\nexport default function RateNewAppDialog({ id = title, onClose }: ComponentProps) {\n  const [{ type }, setDialogState] = useDialogState(id);\n  const [_steps, setSteps] = React.useState(steps(type));\n  React.useEffect(() => {\n    setSteps(steps(type));\n  }, [type]);\n\n  const processData = useProcessData();\n  const changeRoute = useChangeRoute();\n\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n  const uid = useSelector((s: any) => s.layout.user?.username);\n\n  const handleProcessData = (values, Action, handleReset = undefined, draft = false) => {\n    const application: Application = values[tables.applications];\n    const timestamp = new Date().getTime();\n\n    if (Action === 'c') {\n      application._id = uuid(); // If creating a new, generate the id client side so it can be linked to the rating    }\n      application.groupId = uuid(); // Keep track of group for history purposes\n      application.created = timestamp;\n      application.approved = false;\n    } else if (Action === 'u') {\n      // If we are updating an existing entry, we actually create a new row with  link back to the parent\n      application.parent = { _id: application._id, _rev: application._rev };\n      if (isEmpty(application.groupId)) {\n        application.groupId = application._id; // If we don't have a group id yet then use the app id for the first group id so we can still link it to the parent before this wa implemented\n      }\n      application._id = uuid(); // Create new id so a new row is created\n      application._rev = undefined; // reset revision\n      application.created = timestamp;\n      application.approved = false; // New items should not be approved by default\n      Action = 'c'; // Switch action to create for political correctness\n    }\n\n    application.updated = timestamp;\n\n    setDialogState(prev => ({ ...prev, loading: true }));\n\n    processData({\n      Model: tables.applications,\n      Action,\n      Data: { ...application, email, uid, draft },\n      onError: () => setDialogState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n      onSuccess: () => {\n        handleReset && handleReset();\n        changeRoute(publicUrl('/Apps'));\n        handleClose();\n      }\n    });\n  };\n\n  const handleSubmit = (values, handleReset) => {\n    handleProcessData(values, type === 'Edit' ? 'u' : 'c', handleReset, false);\n  };\n\n  const handleClose = React.useCallback(() => {\n    setDialogState(prev => ({ ...prev, open: false, submitting: false, errors: {} }));\n    onClose && onClose();\n  }, [setDialogState, onClose]);\n\n  return <GenericStepperDialog id={id} maxWidth='lg' submitLabel='Save' title={title} onSubmit={handleSubmit} steps={_steps} onClose={onClose} timeout={0} />;\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { useViewMode } from '../../../layout/store';\nimport { makeStyles, createStyles, Fab, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ spacing }: any) =>\n  createStyles({\n    viewmode: {\n      position: 'absolute',\n      bottom: spacing(9),\n      right: spacing(3),\n      zIndex: 999999\n    }\n  })\n);\n\nexport default function ViewModeButton({ mode = 'grid' }) {\n  const classes = useStyles();\n  const [, setViewMode] = useViewMode() as any;\n  const handleClick = React.useCallback(() => setViewMode(mode === 'grid' ? 'table' : 'grid'), [mode, setViewMode]);\n  const tooltip = `Switch to ${mode === 'grid' ? 'Table' : 'Grid'} View`;\n  const Icon = mode === 'grid' ? Icons.List : Icons.HorizontalSplit;\n  return (\n    <Tooltip title={tooltip} placement='left'>\n      <Fab className={classes.viewmode} size='large' color='primary' aria-label='view-mode' onClick={handleClick}>\n        <Icon />\n      </Fab>\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { useAdminMode } from '../../../layout/store';\nimport { useIsAdmin } from '../../../../hooks';\nimport { makeStyles, createStyles, Fab, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ spacing }: any) =>\n  createStyles({\n    fab: {\n      position: 'absolute',\n      bottom: spacing(25),\n      right: spacing(3),\n      zIndex: 999999\n    }\n  })\n);\n\nexport default function AdminToggle() {\n  const classes = useStyles();\n  const isAdmin = useIsAdmin();\n  const [adminMode, setAdminMode] = useAdminMode() as any;\n  const handleClick = React.useCallback(() => setAdminMode(adminMode === true ? false : true), [adminMode, setAdminMode]);\n  const Icon = adminMode === true ? Icons.PermIdentity : Icons.PeopleAlt;\n  const tooltip = `Switch to ${adminMode === true ? 'Public Mode' : 'Admin Mode'}`;\n  return isAdmin ? (\n    <Tooltip title={tooltip} placement='left'>\n      <Fab className={classes.fab} size='large' color='primary' aria-label='admin-public-mode' onClick={handleClick}>\n        <Icon />\n      </Fab>\n    </Tooltip>\n  ) : (\n    <></>\n  );\n}\n","import React from 'react';\nimport { List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\nimport { getAppName, getAppCompany, getAppIcon } from './selectors';\nimport Application from '../../../../database/models/Application';\n\nexport default function AppSummary(app: Application) {\n  const { icon = getAppIcon(app) } = app;\n  const company = getAppCompany(app);\n  return (\n    <List disablePadding={true} dense={true}>\n      <ListItem dense={true} disableGutters={true} divider={false}>\n        <ListItemAvatar style={{ minWidth: 48 }}>{<img style={{ height: 40 }} src={icon} alt='logo' />}</ListItemAvatar>\n        <ListItemText primary={getAppName(app)} secondary={company && ` by ${company}`} />\n      </ListItem>\n    </List>\n  );\n}\n","import React from 'react';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useHeight } from '../../layout/store';\n\nconst DialogTableContent = ({ Table, breakpoint = 'sm' as any, toolbar = true, square = true, elevation = 0, ...other }) => {\n  const theme = useTheme();\n  var height = useHeight() - (toolbar ? 0 : 44) - 48 + 130; // Heights for the dialog header and footer\n  const fullScreen = useMediaQuery(theme.breakpoints.down(breakpoint));\n\n  return (\n    <div\n      style={{\n        height: fullScreen && '100%',\n        overflowX: 'hidden',\n        overflowY: fullScreen ? 'hidden' : 'hidden',\n        display: 'fixed',\n        //borderTop: `1px solid ${theme.palette.divider}`,\n        borderBottom: `1px solid ${theme.palette.divider}`\n      }}\n    >\n      <Table height={fullScreen ? height : height * 0.9} elevation={elevation} square={square} toolbar={toolbar} {...other} />\n    </div>\n  );\n};\n\nexport default DialogTableContent;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport DialogTableContent from '../DialogTableContent';\nimport * as Tables from '../../GenericTable';\nimport { useViewMode, useAdminMode } from '../../../layout/store';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Application History';\n\nconst Content = props => {\n  const [viewMode] = useViewMode();\n  return (\n    <DialogTableContent\n      Table={viewMode === 'grid' ? Tables.ApplicationListHistory : Tables.ApplicationHistory}\n      buttonPosition='bottom'\n      title={title}\n      {...props}\n    />\n  );\n};\n\nexport default function ApplicationHistoryDialog({ id = title, onClose, ...other }) {\n  const [{ initialValues }] = useDialogState(id);\n  const [adminMode, setAdminMode] = useAdminMode() as any;\n\n  // This hack forces a refresh of the data if the admin may have closed something\n  const handleClose = React.useCallback(() => {\n    if (adminMode) {\n      setAdminMode(false);\n      setAdminMode(true);\n    }\n    onClose && onClose();\n  }, [adminMode, setAdminMode, onClose]);\n  return (\n    <GenericDialog\n      id={id}\n      title={null}\n      maxWidth='xl'\n      cancelLabel='Close'\n      submitLabel={null}\n      Content={Content}\n      ContentProps={{ initialValues }}\n      onClose={handleClose}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport { Typography, Tabs, makeStyles, Tab } from '@material-ui/core';\nimport google_play_store from '../../../../../images/google_play_store.png';\nimport apple_store from '../../../../../images/apple_store.png';\nimport web from '../../../../../images/web.png';\nimport TabLabel from './TabLabel';\nimport NewWindowLink from '../../../DialogField/NewWindowLink';\nimport { getAndroidIdFromUrl, getAppleIdFromUrl, isEmpty } from '../../../../../helpers';\nimport { googlePlayProxyUrl } from '../../../../../constants';\nimport Axios from 'axios';\nimport AppleStore from '../../../DialogField/AppleStore';\nimport AndroidStore from '../../../DialogField/AndroidStore';\n\nasync function getAppInfo(appId, type) {\n  const { data } = await Axios.get(`${googlePlayProxyUrl}?appId=${appId}&type=${type}`);\n  return data;\n}\n\nconst useStyles = makeStyles((theme: any) => ({\n  root: {\n    flexGrow: 1\n  },\n  padding: {\n    padding: theme.spacing(2)\n  },\n  tabs: {\n    backgroundColor: 'inherit'\n  },\n  tab: {\n    textTransform: 'none',\n    fontWeight: theme.typography.fontWeightRegular,\n    fontSize: theme.typography.pxToRem(15),\n    marginRight: theme.spacing(1),\n    '&:focus': {\n      opacity: 1\n    }\n  },\n  indicator: {\n    display: 'flex',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    '& > div': {\n      width: '100%',\n      backgroundColor: theme.palette.primary.light\n    }\n  }\n}));\n\nconst labelMap = {\n  iOS: 'Apple Store',\n  Android: 'Google Play Store',\n  Web: 'Web'\n};\n\nconst iconMap = {\n  iOS: apple_store,\n  Android: google_play_store,\n  Web: web\n};\n\nexport const ApplicationTabsView = ({ platforms = [], androidLink, iosLink, webLink }) => {\n  const classes = useStyles();\n\n  const googleAppId = getAndroidIdFromUrl(androidLink);\n  const appleAppId = getAppleIdFromUrl(iosLink);\n\n  const [{ loading, tab, androidStore, appleStore }, setState] = React.useState({\n    loading: false,\n    tab: 0,\n    androidStore: { value: '', load: true },\n    appleStore: { value: '', load: true }\n  });\n\n  const handleGetAppInfo = React.useCallback(() => {\n    async function fetchData() {\n      try {\n        var androidAppInfo = '';\n        var appleAppInfo = '';\n        if (androidStore.load === true && !isEmpty(googleAppId)) {\n          androidAppInfo = await getAppInfo(googleAppId, 'google');\n        }\n        if (appleStore.load === true && !isEmpty(appleAppId)) {\n          appleAppInfo = await getAppInfo(appleAppId, 'apple');\n        }\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          androidStore: { ...prev.androidStore, value: isEmpty(androidAppInfo) ? prev.androidStore.value : androidAppInfo, load: false },\n          appleStore: { ...prev.appleStore, value: isEmpty(appleAppInfo) ? prev.appleStore.value : appleAppInfo, load: false }\n        }));\n      } catch (error) {\n        setState(prev => ({ ...prev, loading: false }));\n      }\n    }\n    setState(prev => ({ ...prev, loading: true }));\n    fetchData();\n  }, [googleAppId, appleAppId, setState, androidStore.load, appleStore.load]);\n\n  React.useEffect(() => {\n    (!isEmpty(googleAppId) || !isEmpty(appleAppId)) && handleGetAppInfo();\n  }, [handleGetAppInfo, googleAppId, appleAppId]);\n\n  const handleChangeTab = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setState(prev => ({ ...prev, tab: newValue }));\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.tabs}>\n        <Tabs\n          classes={{ indicator: classes.indicator }}\n          value={tab}\n          onChange={handleChangeTab}\n          aria-label='styled tabs example'\n          TabIndicatorProps={{ children: <div /> }}\n        >\n          {platforms.map(p => (\n            <Tab key={p} className={classes.tab} label={<TabLabel label={labelMap[p]} icon={iconMap[p]} />} disableRipple />\n          ))}\n        </Tabs>\n        <Typography className={classes.padding} />\n      </div>\n      {platforms.map(\n        (p, i) =>\n          tab === i &&\n          !loading && (\n            <div key={p}>\n              {p === 'Web' ? (\n                <NewWindowLink url={webLink} label={'Open Web Link'} />\n              ) : p === 'Android' ? (\n                <AndroidStore value={androidStore.value as any} />\n              ) : (\n                <AppleStore value={appleStore.value as any} />\n              )}\n            </div>\n          )\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport OutlinedDiv from '../../../general/OutlinedDiv/OutlinedDiv';\nimport { getDayTimeFromTimestamp } from '../../../../helpers';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      cursor: 'pointer',\n      '&:hover': {\n        background: grey[100]\n      }\n    }\n  })\n);\n\nconst appColumnWidth = 520;\n\nexport default function AppReview({ updated, review, handleRefresh, index }) {\n  const [expand, setExpand] = React.useState(index === 0);\n\n  const handleExpand = React.useCallback(\n    e => {\n      setExpand(prev => !prev);\n      handleRefresh();\n    },\n    [setExpand, handleRefresh]\n  );\n\n  const classes = useStyles();\n  return (\n    <div className={classes.container} onClick={handleExpand}>\n      <OutlinedDiv>\n        <Box pt={1} pb={1}>\n          <Grid container>\n            <Grid item style={{ width: appColumnWidth }}>\n              <Grid container>\n                <Grid item zeroMinWidth xs>\n                  <Grid container>\n                    <Grid item xs={12}>\n                      <Typography noWrap={!expand}>{review}</Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <Grid container justify='space-between'>\n                        <Typography noWrap color='textSecondary' variant='caption'>\n                          Last Updated: {updated ? getDayTimeFromTimestamp(updated) : ''}\n                        </Typography>\n                        <Typography noWrap color='textSecondary' variant='caption'>\n                          Click to {expand ? 'collapse' : 'expand'}\n                        </Typography>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </OutlinedDiv>\n    </div>\n  );\n}\n","import { AppState } from '../../../../store';\nimport Application from '../../../../database/models/Application';\nimport { isEmpty } from '../../../../helpers';\nimport { useTableFilter } from '../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSelector } from 'react-redux';\n\nconst getId = app => (isEmpty(app.groupId) ? app._id : app.groupId);\n\nexport const useAppReviewData = (table, groupId) => {\n  const apps = useSelector((s: AppState) => s.database[tables.applications] ?? {});\n  var data = apps\n    ? Object.keys(apps)\n        .filter(k => apps[k].draft !== true && apps[k].delete !== true && !isEmpty(apps[k].review) && apps[k].approved === true && getId(apps[k]) === groupId)\n        .map((k, i) => {\n          const app: Application = apps[k];\n          return {\n            _id: app._id,\n            parent: app.parent,\n            getValues: () => ({ ...app, index: i }),\n            created: app.created,\n            approved: app.approved,\n            review: app.review,\n            groupId: getId(app)\n          };\n        })\n    : [];\n\n  var sorted = data.sort(({ getValues: a }, { getValues: b }) => (b() as any).created - (a() as any).created); // Create a sorted ascending list\n  return useTableFilter(sorted, table);\n};\n","import React from 'react';\nimport GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport AppReview from './AppReview';\nimport { useAppReviewData } from './useAppReviewData';\n\nconst name = 'Reviews';\nexport const defaultAppReviewProps: GenericTableContainerProps = {\n  isGrid: true,\n  name,\n  columns: [{ name: 'appreview', header: 'Application Review', Cell: AppReview }],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const ApplicationReviews = ({ groupId, ...other }) => (\n  <GenericTableContainer {...defaultAppReviewProps} data={useAppReviewData(name, groupId)} showScroll={true} {...other} />\n);\n","import React from 'react';\nimport { Container, Grid, makeStyles, createStyles, Typography, Paper } from '@material-ui/core';\nimport GenericDialog from '../GenericDialog';\nimport { DialogContent } from '@material-ui/core';\nimport { ApplicationTabsView } from '../RateNewApp/templates/ApplicationTabsView';\nimport { useDialogState } from '../useDialogState';\nimport { ApplicationReviews } from '../../GenericTable/ApplicationReviews/table';\n\nexport const title = 'Application Information';\n\nconst useStyles = makeStyles(({ palette, spacing }) =>\n  createStyles({\n    root: {},\n    header: { maxWidth: 800 },\n    button: {\n      height: 60,\n      width: 175\n    },\n    paper: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      padding: spacing(1)\n    }\n  })\n);\n\nexport default function ApplicationDialog({ id = title }) {\n  const classes = useStyles({});\n  const [{ initialValues = {} }] = useDialogState(id);\n  const { applications = {} } = initialValues;\n  const { groupId } = applications;\n\n  return (\n    <GenericDialog id={id} title={id} submitLabel={null} cancelLabel='Close' maxWidth='lg'>\n      <DialogContent dividers>\n        <Container className={classes.root}>\n          <Grid container justify='center' spacing={3}>\n            <Grid item xs style={{ minWidth: 280, maxWidth: 700 }}>\n              <ApplicationTabsView {...applications} />\n            </Grid>\n            <Grid item xs style={{ minWidth: 280, maxWidth: 600 }}>\n              <Paper className={classes.paper}>\n                <Typography variant='h6'>Qualitative Reviews</Typography>\n              </Paper>\n              <ApplicationReviews groupId={groupId} height={500} />\n            </Grid>\n          </Grid>\n        </Container>\n      </DialogContent>\n    </GenericDialog>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport { emailUser } from '../../../../../package.json';\nimport { getAppCompany, getAppName } from '../../GenericTable/Applications/selectors';\nimport { AWS } from '../../../../database/dbConfig';\n\nfunction sendEmail(name, email, suggestion, applicationInfo) {\n  const emailAddress = emailUser;\n  const sourceEmailAddress = 'appmap@psych.digital';\n\n  const appName = getAppName(applicationInfo);\n  const appCompany = getAppCompany(applicationInfo);\n\n  const body = `A suggested edit has been made:\n    <p>Application: ${appName}</p>\n    <p>Application Company: ${appCompany}</p>\n    <p>User Name: ${name}</p>\n    <p>User Email: ${email}</p>\n    <p>Suggestion: ${suggestion}</p>\n    <p>Application Info: ${JSON.stringify(applicationInfo)}</p>`;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [emailAddress]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: 'AppMapDB - Suggested Edit'\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      console.log(data.MessageId);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n    });\n}\n\nexport const title = 'Suggest Edit';\n\nexport default function SuggestEdit({ id = title }) {\n  const [dialogState, setState] = useDialogState(id);\n  const { initialValues } = dialogState;\n\n  const handleSubmit = ({ name, email, suggestion }) => {\n    setState(prev => ({ ...prev, open: false, showErrors: true, loading: false }));\n    sendEmail(name, email, suggestion, initialValues.applications);\n    alert('Your suggestion has been reported!  Thank you.');\n  };\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      submitLabel={id}\n      onSubmit={handleSubmit}\n      fields={[\n        {\n          id: 'name',\n          label: 'Name',\n          placeholder: 'Enter name of person suggesting the edit',\n          required: true\n        },\n        {\n          id: 'email',\n          label: 'Email',\n          placeholder: 'Enter email of person suggesting the edit',\n          email: true,\n          required: true\n        },\n        {\n          id: 'suggestion',\n          label: 'Suggestion',\n          multiline: true,\n          required: true,\n          rows: 12,\n          placeholder: 'Enter a description of the edit you are suggesting',\n          hidden: false\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { EditDialogButton } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport * as ApplicationHistoryDialog from '../../GenericDialog/ApplicationHistoryDialog';\nimport * as ApplicationDialog from '../../GenericDialog/ApplicationDialog';\nimport * as SuggestEditDialog from '../../GenericDialog/SuggestEdit';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../../store';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSignedIn } from '../../../../hooks';\nimport * as Icons from '@material-ui/icons';\n\nexport default function RatingsColumn({ _id }) {\n  const initialValues = useSelector((s: AppState) => s.database.applications[_id]);\n  const signedIn = useSignedIn();\n\n  return (\n    <Grid container alignItems='center' spacing={1}>\n      <Grid item>\n        <EditDialogButton\n          Module={ApplicationDialog}\n          variant='iconbutton'\n          mount={false}\n          Icon={Icons.Pageview}\n          initialValues={{ [tables.applications]: initialValues }}\n          tooltip='View Additional Application Info'\n          placement='bottom'\n        />\n      </Grid>\n      {signedIn && (\n        <Grid item>\n          <EditDialogButton\n            variant='iconbutton'\n            Module={RateNewAppDialog}\n            mount={false}\n            Icon={Icons.Edit}\n            initialValues={{ [tables.applications]: initialValues }}\n            tooltip='Edit'\n            placement='bottom'\n          />\n        </Grid>\n      )}\n      <Grid item>\n        <EditDialogButton\n          variant='iconbutton'\n          Module={ApplicationHistoryDialog}\n          mount={false}\n          Icon={Icons.Timeline}\n          initialValues={{ [tables.applications]: initialValues }}\n          tooltip='Open Ratings History'\n          placement='bottom'\n        />\n      </Grid>\n      <Grid item>\n        <EditDialogButton\n          variant='iconbutton'\n          Module={SuggestEditDialog}\n          mount={false}\n          Icon={Icons.Report}\n          initialValues={{ [tables.applications]: initialValues }}\n          tooltip='Suggest Edit'\n          placement='bottom'\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport Application, {\n  Costs,\n  Platforms,\n  Functionalities,\n  FunctionalityQuestions,\n  ClinicalFoundations,\n  ClinicalFoundationQuestions,\n  Features,\n  Inputs,\n  Outputs,\n  Uses,\n  PrivacyQuestions,\n  Privacies,\n  Engagements,\n  EngagementQuestions,\n  Conditions,\n  DeveloperTypes,\n  DeveloperTypeQuestions,\n  withReplacement\n} from '../../../../database/models/Application';\nimport AppSummary from './AppSummary';\nimport RatingsColumn from './RatingsColumn';\nimport { Typography } from '@material-ui/core';\nimport { getDayTimeFromTimestamp } from '../../../../helpers';\nimport { makeStyles, createStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    hover: {\n      '&:hover': {\n        cursor: 'pointer',\n        background: palette.primary.main,\n        color: palette.common.white\n      }\n    }\n  })\n);\n\nexport const name = 'Applications';\n\nconst center = text => <div style={{ textAlign: 'center' }}>{withReplacement(text)}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nconst LastUpdated = ({ updated }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {updated ? getDayTimeFromTimestamp(updated) : ''}\n  </Typography>\n);\n\nconst buildRadios = (items, values, paddingRight = undefined) => (\n  <Grid container style={{ paddingRight }}>\n    {items.map((i, index) => (\n      <Grid item xs key={index}>\n        <CenterRadio checked={values.includes(i)} />\n      </Grid>\n    ))}\n  </Grid>\n);\n\nconst isLabelMatch = (label, items, values = []) => {\n  var item = items.find(i => i.value === label || i.label === label || i.short === label);\n  return item ? values.includes(item.short) || values.includes(item.value) || values.includes(label) : values.includes(label);\n};\n\nconst buildRadiosWithLabels = (items, labels, values, paddingRight = undefined) => {\n  return (\n    <Grid container style={{ paddingRight }}>\n      {labels.map((label, index) => (\n        <Grid item xs key={index}>\n          <CenterRadio checked={isLabelMatch(label, items, values)} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nconst DeveloperTypeLabels = DeveloperTypes.map(t => {\n  var s = DeveloperTypeQuestions.find(fq => fq.value === t);\n  return s ? (s.short ? s.short : s.value) : t;\n});\n\nconst FunctionalityLabels = Functionalities.map(t => {\n  var s = FunctionalityQuestions.find(fq => fq.value === t);\n  return s ? (s.short ? s.short : s.value) : t;\n});\n\nconst PrivacyLabels = Privacies.map(t => {\n  var s = PrivacyQuestions.find(fq => fq.value === t);\n  return s ? (s.short ? s.short : s.value) : t;\n});\n\nconst ClinicalFoundationLabels = ClinicalFoundations.map(t => {\n  var s = ClinicalFoundationQuestions.find(fq => fq.value === t);\n  return s ? (s.short ? s.short : s.value) : t;\n});\n\nconst EngagementLabels = Engagements.map(t => {\n  var s = EngagementQuestions.find(fq => fq.value === t);\n  return s ? (s.short ? s.short : s.value) : t;\n});\n\nconst PlatformRadios =\n  pinned =>\n  ({ platforms = [] }: Application) =>\n    buildRadios(sortPinned(Platforms, 'platforms', pinned), platforms);\n\nconst UsesRadios =\n  pinned =>\n  ({ uses = [] }: Application) =>\n    buildRadios(sortPinned(Uses, 'uses', pinned), uses);\n\nconst DeveloperTypeRadios =\n  pinned =>\n  ({ developerTypes = [] }: Application) =>\n    buildRadiosWithLabels(DeveloperTypeQuestions, sortPinned(DeveloperTypeLabels, 'developerTypes', pinned), developerTypes);\n\nconst CostRadios =\n  pinned =>\n  ({ costs = [] }) =>\n    buildRadios(sortPinned(Costs, 'cost', pinned), costs);\n\nconst ConditionRadios =\n  pinned =>\n  ({ conditions = [] }: Application) =>\n    buildRadios(sortPinned(Conditions, 'conditions', pinned), conditions);\n\nconst EngagementRadios =\n  pinned =>\n  ({ engagements = [] }: Application) =>\n    buildRadiosWithLabels(EngagementQuestions, sortPinned(EngagementLabels, 'engagements', pinned), engagements);\n\nconst FunctionalityRadios =\n  pinned =>\n  ({ functionalities = [] }: Application) =>\n    buildRadiosWithLabels(FunctionalityQuestions, sortPinned(FunctionalityLabels, 'functionality', pinned), functionalities);\n\nconst ClinicalFoundationRadios =\n  pinned =>\n  ({ clinicalFoundations = [] }: Application) =>\n    buildRadiosWithLabels(ClinicalFoundationQuestions, sortPinned(ClinicalFoundationLabels, 'clinicalFoundations', pinned), clinicalFoundations);\n\nconst PrivacyRadios =\n  pinned =>\n  ({ privacies = [] }: Application) =>\n    buildRadiosWithLabels(PrivacyQuestions, sortPinned(PrivacyLabels, 'privacies', pinned), privacies);\n\nconst FeaturesRadios =\n  pinned =>\n  ({ features = [] }) =>\n    buildRadios(sortPinned(Features, 'features', pinned), features, 16);\n\nconst InputRadios =\n  pinned =>\n  ({ inputs = [] }: Application) =>\n    buildRadios(sortPinned(Inputs, 'inputs', pinned), inputs);\n\nconst OutputRadios =\n  pinned =>\n  ({ outputs = [] }: Application) =>\n    buildRadios(sortPinned(Outputs, 'outputs', pinned), outputs);\n\nconst sortPinned = (columns, column, pinned) => {\n  const pinnedColumns = pinned[column] ?? [];\n  const remainingColumns = columns.filter(name => !pinnedColumns.includes(name));\n  return [...pinnedColumns, ...remainingColumns];\n};\n\nexport const useColumns = () => {\n  const [pinned, setPinned] = React.useState({});\n  const classes = useStyles();\n\n  const handlePinColumn = React.useCallback(\n    (column, subcolumn) => event => {\n      event.stopPropagation();\n      setPinned(prev => ({ ...prev, [column]: [subcolumn, ...(prev[column] ?? []).filter(c => c !== subcolumn)] }));\n    },\n    [setPinned]\n  );\n\n  const columns = [\n    { name: 'app', header: 'Application', minWidth: 330, Cell: AppSummary, hoverable: false, sort: 'textLower' },\n    { name: 'updated', header: 'Last Updated', width: 225, Cell: LastUpdated, hoverable: false, sort: 'decimal' },\n    { name: 'rating', header: 'Rating', width: 300, Cell: RatingsColumn, hoverable: false },\n    {\n      name: 'platforms',\n      width: 140,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12} className={classes.hover} onClick={handlePinColumn('root', 'platforms')}>\n              <Grid container justify='center'>\n                Platforms\n              </Grid>\n            </Grid>\n            {sortPinned(Platforms, 'platforms', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('platforms', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: PlatformRadios(pinned)\n    },\n    {\n      name: 'developerType',\n      width: 350,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12} className={classes.hover} onClick={handlePinColumn('root', 'developerType')}>\n              <Grid container justify='center'>\n                Developer Type\n              </Grid>\n            </Grid>\n            {sortPinned(DeveloperTypeLabels, 'developerType', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('developerType', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: DeveloperTypeRadios(pinned)\n    },\n    {\n      name: 'cost',\n      width: 462,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12} className={classes.hover} onClick={handlePinColumn('root', 'cost')}>\n              <Grid container justify='center'>\n                Cost\n              </Grid>\n            </Grid>\n            {sortPinned(Costs, 'cost', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('cost', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: CostRadios(pinned)\n    },\n    {\n      name: 'functionality',\n      width: 490,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' className={classes.hover} onClick={handlePinColumn('root', 'functionality')}>\n                Access\n              </Grid>\n            </Grid>\n            {sortPinned(FunctionalityLabels, 'functionality', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('functionality', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: FunctionalityRadios(pinned)\n    },\n    {\n      name: 'privacies',\n      width: 1800,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' onClick={handlePinColumn('root', 'privacies')} className={classes.hover}>\n                Privacies\n              </Grid>\n            </Grid>\n            {sortPinned(PrivacyLabels, 'privacies', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('privacies', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: PrivacyRadios(pinned)\n    },\n    {\n      name: 'clinicalFoundations',\n      width: 650,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' onClick={handlePinColumn('root', 'clinicalFoundations')} className={classes.hover}>\n                Clinical Foundations\n              </Grid>\n            </Grid>\n            {sortPinned(ClinicalFoundationLabels, 'clinicalFoundations', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('clinicalFoundations', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: ClinicalFoundationRadios(pinned)\n    },\n    {\n      name: 'features',\n      width: 3500,\n      header: (\n        <>\n          <Grid container style={{ paddingRight: 16 }}>\n            <Grid item xs={12} className={classes.hover} onClick={handlePinColumn('root', 'features')}>\n              <Grid container justify='center'>\n                Features\n              </Grid>\n            </Grid>\n            {sortPinned(Features, 'features', pinned).map(t => (\n              <Grid item xs key={t} onClick={handlePinColumn('features', t)} className={classes.hover}>\n                {center(t)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: FeaturesRadios(pinned)\n    },\n    {\n      name: 'conditions',\n      width: 2000,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12} className={classes.hover} onClick={handlePinColumn('root', 'conditions')}>\n              <Grid container justify='center'>\n                Supported Conditions\n              </Grid>\n            </Grid>\n            {sortPinned(Conditions, 'conditions', pinned).map(t => (\n              <Grid item xs key={t} onClick={handlePinColumn('conditions', t)} className={classes.hover}>\n                {center(t)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: ConditionRadios(pinned)\n    },\n    {\n      name: 'engagements',\n      width: 1500,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' className={classes.hover} onClick={handlePinColumn('root', 'engagements')}>\n                Engagements\n              </Grid>\n            </Grid>\n            {sortPinned(EngagementLabels, 'engagements', pinned).map(label => (\n              <Grid item xs key={label} onClick={handlePinColumn('engagements', label)} className={classes.hover}>\n                {center(label)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: EngagementRadios(pinned)\n    },\n    {\n      name: 'inputs',\n      width: 850,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' className={classes.hover} onClick={handlePinColumn('root', 'inputs')}>\n                Inputs\n              </Grid>\n            </Grid>\n            {sortPinned(Inputs, 'inputs', pinned).map(t => (\n              <Grid item xs key={t} onClick={handlePinColumn('inputs', t)} className={classes.hover}>\n                {center(t)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: InputRadios(pinned)\n    },\n    {\n      name: 'outputs',\n      width: 1000,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' className={classes.hover} onClick={handlePinColumn('root', 'outputs')}>\n                Outputs\n              </Grid>\n            </Grid>\n            {sortPinned(Outputs, 'outputs', pinned).map(t => (\n              <Grid item xs key={t} onClick={handlePinColumn('outputs', t)} className={classes.hover}>\n                {center(t)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: OutputRadios(pinned)\n    },\n    {\n      name: 'uses',\n      width: 200,\n      header: (\n        <>\n          <Grid container>\n            <Grid item xs={12}>\n              <Grid container justify='center' className={classes.hover} onClick={handlePinColumn('root', 'uses')}>\n                Uses\n              </Grid>\n            </Grid>\n            {sortPinned(Uses, 'uses', pinned).map(t => (\n              <Grid item xs key={t} onClick={handlePinColumn('uses', t)} className={classes.hover}>\n                {center(t)}\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      ),\n      Cell: UsesRadios(pinned)\n    }\n  ];\n\n  const staticColumns = columns.filter(c => c.hoverable === false);\n  const dynamicColumns = columns.filter(c => c.hoverable !== false);\n\n  const pinnedColumns = (pinned['root'] ?? []).map(name => dynamicColumns.find(c => c.name === name));\n  const remainingColumns = dynamicColumns.filter(c => !(pinned['root'] ?? []).includes(c.name));\n\n  const mergedColumns = [...staticColumns, ...pinnedColumns, ...remainingColumns].map(c => ({\n    ...c,\n    onHeaderClick: false\n  }));\n\n  // console.log({ pinned, root: pinned['root'], staticColumns, dynamicColumns, pinnedColumns, remainingColumns, mergedColumns });\n\n  return mergedColumns;\n};\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { makeStyles, createStyles, Badge, withStyles, Fab } from '@material-ui/core';\nimport { useTableFilterValues } from '../store';\nimport { useDialogState } from '../../GenericDialog/useDialogState';\nimport { evalFunc } from '../../../../helpers';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\n\nconst useStyles = makeStyles(({ spacing }: any) =>\n  createStyles({\n    fab: {\n      position: 'absolute',\n      bottom: spacing(17),\n      right: spacing(3),\n      zIndex: 999999\n    }\n  })\n);\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: -5,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport default function FilterButton({\n  id: Id = undefined,\n  type = 'Add',\n  table,\n  Module,\n  Icon = Icons.FilterList,\n  tooltip: Tooltip = 'Filter Results',\n  onClick = undefined,\n  onClose = undefined,\n  onChange = undefined,\n  onReset = undefined,\n  mount = true,\n  initialValues = {},\n  ...other\n}) {\n  const classes = useStyles();\n  const [values, setValues] = useTableFilterValues(table);\n  const {\n    Features = [],\n    Engagements = [],\n    Inputs = [],\n    Outputs = [],\n    Functionalities = [],\n    Conditions = [],\n    Platforms = [],\n    Cost = [],\n    Privacy = [],\n    Uses = [],\n    DeveloperTypes = [],\n    ClinicalFoundations = []\n  } = values as any;\n  const filterCount = [\n    Features,\n    Engagements,\n    Inputs,\n    Outputs,\n    Functionalities,\n    Conditions,\n    Platforms,\n    Cost,\n    Privacy,\n    Uses,\n    DeveloperTypes,\n    ClinicalFoundations\n  ].reduce((t, c) => (t = t + c.length), 0);\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  return (\n    <>\n      {mount && Module && renderDialogModule({ ...Module, anchorEl, onClose: handleClose, onChange, onReset: handleReset, values, setValues })}\n      <div className={classes.fab}>\n        <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n          <Fab size='large' color='primary' aria-label='view-mode' onClick={handleClick}>\n            <Icon />\n          </Fab>\n        </StyledBadge>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport {\n  Card,\n  Popover,\n  useTheme,\n  makeStyles,\n  createStyles,\n  CardContent,\n  Divider,\n  CardActions,\n  Button,\n  Grid,\n  Tooltip,\n  IconButton,\n  CircularProgress,\n  Collapse,\n  CardHeader\n} from '@material-ui/core';\nimport { useDialogState } from '../GenericDialog/useDialogState';\nimport { useValues, FieldProps } from '../GenericDialog/helpers';\nimport ErrorGate from '../GenericDialog/ErrorGate';\nimport * as Icons from '@material-ui/icons';\nimport Fields from '../GenericDialog/Fields';\n\nexport interface ComponentProps {\n  id: string;\n  title?: string;\n  anchorEl?: any;\n  initialValues?: object;\n  cancelLabel?: string;\n  deleteLabel?: string;\n  submitLabel?: string;\n  onSubmit?: any;\n  onDelete?: any;\n  onReset?: any;\n  OnClose?: any;\n  validate?: any;\n  Content?: any;\n  values?: any;\n  width?: number | string;\n  columns?: number;\n  minColumnWidth?: number;\n  maxColumnWidth?: number;\n  setValues?: any;\n  disableInitialize?: boolean;\n  fields?: FieldProps[] | any;\n  onClose?: () => any;\n  children?: any;\n}\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    title: {\n      fontSize: 14,\n      padding: spacing(1),\n      paddingLeft: spacing(2),\n      paddingRight: spacing(1)\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    deleteButtonEmpty: {\n      color: palette.error.main\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    },\n    card: ({ width = 290 }: any) => ({\n      width\n    })\n  })\n);\n\nexport default function GenericPopover({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  anchorEl,\n  initialValues: InitialValues, // If initial values are provided they are merged with the initial values from the state\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel = 'Submit',\n  fields = [] as any[],\n  width,\n  onSubmit,\n  onDelete,\n  onClose,\n  onReset,\n  Content,\n  validate,\n  columns,\n  minColumnWidth,\n  maxColumnWidth,\n  values: externalValues = undefined,\n  setValues: externalSetValues = undefined,\n  disableInitialize = false,\n  children,\n  ...other\n}: ComponentProps) {\n  const { layout } = useTheme() as any;\n  const [state, setState] = useDialogState(id);\n  const { open, type, loading, submitting } = state;\n  const title = state.title ? state.title : Title;\n\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const classes = useStyles({ width });\n\n  const { values, hasChanged, errors, errorCount, mapField } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate,\n    externalSetValues,\n    externalValues,\n    disableInitialize\n  });\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (errorCount > 0) {\n      setState(prev => ({ ...prev, showErrors: true }));\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s));\n    }\n  }, [setState, onSubmit, values_s, errorCount]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false }));\n    onClose && onClose();\n  }, [setState, onClose]);\n\n  const handleReset = React.useCallback(() => {\n    onReset && onReset();\n  }, [onReset]);\n\n  const contentProps = {\n    fields,\n    mapField,\n    values,\n    columns,\n    minColumnWidth,\n    maxColumnWidth\n  };\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <Popover\n      id={id}\n      open={open && Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      onClose={onClose}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right'\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right'\n      }}\n      {...other}\n    >\n      <Card className={classes.card}>\n        {title !== null && (\n          <>\n            <CardHeader\n              className={classes.title}\n              title={title ? title : id}\n              action={\n                handleClose && (\n                  <Tooltip title='Close' placement='left'>\n                    <IconButton aria-label='close' onClick={handleClose}>\n                      <Icons.Close />\n                    </IconButton>\n                  </Tooltip>\n                )\n              }\n            />\n            <Divider />\n          </>\n        )}\n        <CardContent>\n          <ErrorGate error={errors['loading']}>\n            <>\n              {children ? (\n                children\n              ) : Content ? (\n                <Content {...contentProps} />\n              ) : (\n                <>\n                  {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n                  <Collapse in={!confirmDelete}>\n                    <Grid container alignItems='center' spacing={1}>\n                      <Fields {...contentProps} />\n                    </Grid>\n                  </Collapse>\n                  {confirmDelete && (\n                    <Grid container spacing={2} justify='center' alignItems='center'>\n                      <Grid item>\n                        <Button onClick={handleConfirmDelete} color='secondary'>\n                          Cancel\n                        </Button>\n                      </Grid>\n                      <Grid item>\n                        <Button onClick={handleDelete} className={classes.deleteButton}>\n                          <Icons.Delete style={{ marginRight: 4 }} />\n                          Confirm {deleteLabel}\n                        </Button>\n                      </Grid>\n                    </Grid>\n                  )}\n                </>\n              )}\n            </>\n          </ErrorGate>\n        </CardContent>\n        <Divider />\n        <CardActions>\n          <Button size='small' color='default' onClick={handleReset}>\n            Reset\n          </Button>\n          {type === 'Edit' && onDelete !== undefined && (\n            <Button size='small' disabled={disabled} className={classes.deleteButtonEmpty} onClick={handleConfirmDelete}>\n              {deleteLabel}\n            </Button>\n          )}\n          {cancelLabel !== null && (\n            <Button size='small' color='default' onClick={handleClose}>\n              {cancelLabel}\n            </Button>\n          )}\n          {submitLabel !== null && (\n            <Button autoFocus size='small' disabled={disabled || !hasChanged} color='primary' onClick={handleSubmit}>\n              {submitLabel || type}\n            </Button>\n          )}\n        </CardActions>\n      </Card>\n    </Popover>\n  );\n}\n","import * as React from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport { useTable, useTableUpdate } from './store';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport Text from '../DialogField/Text';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    searchIcon: {\n      color: palette.text.secondary\n    },\n    endIcon: {\n      marginRight: -12,\n      color: palette.text.secondary\n    }\n  })\n);\n\nexport default function TableSearch({ name = 'Applications', label = 'Enter Text to Search' }) {\n  const classes = useStyles();\n  const { searchtext = '' } = useTable(name);\n  const tableUpdate = useTableUpdate();\n  const updateTable = React.useCallback(\n    value =>\n      tableUpdate({\n        id: name,\n        searchtext: value\n      }),\n    [name, tableUpdate]\n  );\n  const handleChange = React.useCallback(e => updateTable(e.target.value), [updateTable]);\n\n  const handleClear = React.useCallback(e => updateTable(''), [updateTable]);\n\n  return (\n    <Text\n      margin='dense'\n      value={searchtext ? searchtext : ''}\n      onChange={handleChange}\n      label={label}\n      InputProps={{\n        startAdornment: (\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        ),\n        endAdornment: (\n          <InputAdornment position='end'>\n            <IconButton className={classes.endIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        )\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport GenericPopover from '../GenericPopover';\nimport MultiSelectCheck from '../../DialogField/MultiSelectCheck';\nimport {\n  Features,\n  Conditions,\n  Platforms,\n  Costs,\n  ClinicalFoundations,\n  Privacies,\n  Functionalities,\n  DeveloperTypes,\n  Engagements,\n  Uses\n} from '../../../../database/models/Application';\nimport { useFullScreen } from '../../../../hooks';\nimport TableSearch from '../../GenericTable/TableSearch';\n\nexport const title = 'Apply Filters';\n\nexport default function FilterPopover({ id = title, ...other }) {\n  const fullScreen = useFullScreen();\n  const width = fullScreen ? 290 : 700;\n  return (\n    <GenericPopover\n      id={id}\n      submitLabel={null}\n      cancelLabel='Close'\n      width={width}\n      columns={2}\n      minColumnWidth={275}\n      maxColumnWidth={350}\n      disableInitialize={true}\n      fields={[\n        { id: 'TextSearch', label: 'Text Search', Field: TableSearch },\n        {\n          id: 'Platforms',\n          Field: MultiSelectCheck,\n          items: Platforms.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Cost',\n          Field: MultiSelectCheck,\n          items: Costs.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'DeveloperTypes',\n          label: 'Developer Types',\n          Field: MultiSelectCheck,\n          items: DeveloperTypes.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Functionalities',\n          Field: MultiSelectCheck,\n          items: Functionalities.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Features',\n          Field: MultiSelectCheck,\n          items: Features.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Conditions',\n          label: 'Supported Conditions',\n          Field: MultiSelectCheck,\n          items: Conditions.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Engagements',\n          Field: MultiSelectCheck,\n          items: Engagements.map(label => ({ value: label, label }))\n        },\n        /*{\n          id: 'Inputs',\n          Field: MultiSelectCheck,\n          items: Inputs.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Outputs',\n          Field: MultiSelectCheck,\n          items: Outputs.map(label => ({ value: label, label }))\n        },*/\n        {\n          id: 'Privacy',\n          Field: MultiSelectCheck,\n          items: Privacies.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'Uses',\n          Field: MultiSelectCheck,\n          items: Uses.map(label => ({ value: label, label }))\n        },\n        {\n          id: 'ClinicalFoundations',\n          label: 'Evidence & Clinical Foundations',\n          Field: MultiSelectCheck,\n          items: ClinicalFoundations.map(label => ({ value: label, label }))\n        }\n      ]}\n      {...other}\n    />\n  );\n}\n","import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { exportDatabase } from './store';\n\nexport const useExportDatabase = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(({ table, ids }) => dispatch(exportDatabase(table, ids)), [dispatch]);\n};\n","import React from 'react';\nimport { tables } from './dbConfig';\nimport { exportTableCsv } from './store';\nimport { useExportDatabase } from './useExportDatabase';\n\nexport const useHandleExport = (data, columns) => {\n  const exportDatabase = useExportDatabase();\n  return React.useCallback(\n    (isTableData = false, table = tables.applications) => {\n      if (isTableData) {\n        console.log('Exporting table data...');\n        exportTableCsv(data, columns);\n      } else {\n        const ids = data.map(d => d._id);\n        console.log('Exporting database...');\n        exportDatabase({ table, ids });\n      }\n    },\n    [exportDatabase, data, columns]\n  );\n};\n","import GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport * as Icons from '@material-ui/icons';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport ViewModeButton from './ViewModeButton';\nimport AdminToggle from './AdminToggle';\nimport { useColumns } from './columns';\nimport FilterButton from './FilterButton';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport { useHandleExport } from '../../../../database/hooks';\nimport { useIsAdmin } from '../../../../hooks';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nexport const defaultApplicationsProps: GenericTableContainerProps = {\n  name,\n  dialogs: [renderDialogModule(RateNewAppDialog)],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const Applications = ({ data, ...props }) => {\n  const columns = useColumns();\n  const { showButtons = true, HeaderComponent } = props;\n  const handleExport = useHandleExport(data, columns);\n  const isAdmin = useIsAdmin();\n\n  return (\n    <>\n      {HeaderComponent && <HeaderComponent onExport={isAdmin && handleExport} />}\n      {showButtons && (\n        <>\n          <AdminToggle />\n          <FilterButton Module={FilterPopover} table={name} />\n          <ViewModeButton mode='table' />\n        </>\n      )}\n      <GenericTableContainer {...defaultApplicationsProps} data={data} columns={columns} showScroll={true} fixedColumnCount={1} {...props} />\n    </>\n  );\n};\n","import React from 'react';\nimport { Grid, Typography, Chip, makeStyles, Theme, createStyles } from '@material-ui/core';\nimport { evalFunc, isEmpty } from '../../../../helpers';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport { categoryArray } from '../../../../constants';\nimport LightTooltip from '../../../general/LightTooltip/LightTooltip';\nimport { withReplacement } from '../../../../database/models/Application';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    chipRoot: {\n      marginLeft: -4,\n      display: 'flex',\n      flexWrap: 'wrap',\n      '& > *': {\n        margin: theme.spacing(0.5)\n      }\n    },\n    row: {\n      borderBottom: `1px solid ${theme.palette.divider}`\n    }\n  })\n);\n\nexport default function ExpandableCategories({ titleVariant = 'body1' as any, isExpandable = true, handleRefresh = undefined, ...other }) {\n  const classes = useStyles({});\n  const [expand, setExpand] = React.useState(false);\n\n  const [state, setState] = React.useState({});\n\n  const handleExpand = React.useCallback(\n    name => event => {\n      setState(prev => ({ ...prev, [name]: true }));\n      handleRefresh && handleRefresh();\n    },\n    [setState, handleRefresh]\n  );\n\n  const handleToggleExpand = React.useCallback(() => {\n    setExpand(prev => !prev);\n    handleRefresh && handleRefresh();\n  }, [setExpand, handleRefresh]);\n\n  const filtered = categoryArray.filter(\n    row => !isExpandable || expand || ['Access', 'Privacy', 'Clinical Foundation', 'Features', 'Conditions Supported'].find(l => l === row.label)\n  );\n\n  return (\n    <>\n      {filtered.map((row: any, i) => {\n        const values = evalFunc(row.valueItems, other);\n        return (\n          <Grid key={i} container alignItems='center' spacing={1} className={classes.row}>\n            <Grid item style={{ width: 172 }}>\n              <Typography variant={titleVariant}>{row.label}:</Typography>\n            </Grid>\n            <Grid item zeroMinWidth xs className={classes.chipRoot}>\n              {values.map(({ label, tooltip }, i) => (\n                <div key={label}>\n                  {isExpandable && i === 3 && values.length > 4 && state[row.label] !== true ? (\n                    <LightTooltip title={isEmpty(tooltip) ? '' : tooltip}>\n                      <Chip\n                        key={`${label}-${i}`}\n                        style={{ background: row.color, color: 'white', marginRight: 8 }}\n                        variant='outlined'\n                        size='small'\n                        label={`${values.length - 3} More ...`}\n                        onClick={handleExpand(row.label)}\n                      />\n                    </LightTooltip>\n                  ) : isExpandable && i > 3 && values.length > 4 && state[row.label] !== true ? (\n                    <div key={`${label}-${i}`}></div>\n                  ) : (\n                    <LightTooltip title={isEmpty(tooltip) ? '' : tooltip}>\n                      <Chip\n                        key={`${label}-${i}`}\n                        style={{ background: row.color, color: 'white', marginRight: 8 }}\n                        variant='outlined'\n                        size='small'\n                        label={withReplacement(label)}\n                      />\n                    </LightTooltip>\n                  )}\n                </div>\n              ))}\n            </Grid>\n          </Grid>\n        );\n      })}\n      {isExpandable && (\n        <DialogButton\n          style={{ marginLeft: -4, marginTop: 8 }}\n          variant='link'\n          color='primary'\n          size='small'\n          tooltip=''\n          underline='always'\n          onClick={handleToggleExpand}\n        >\n          {`${expand ? 'Hide' : `Show  ${categoryArray.length - filtered.length}`} More`}\n        </DialogButton>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport { Grid, Box, Typography, Link, makeStyles, Theme, createStyles } from '@material-ui/core';\nimport Application, { DeveloperTypeQuestions } from '../../../../database/models/Application';\nimport OutlinedDiv from '../../../general/OutlinedDiv/OutlinedDiv';\nimport RatingsColumn from '../Applications/RatingsColumn';\nimport { getAppName, getAppCompany, getAppIcon, useNewerMemberCount } from '../Applications/selectors';\nimport { onlyUnique, getDayTimeFromTimestamp, isEmpty } from '../../../../helpers';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport { useAdminMode } from '../../../layout/store';\nimport ExpandableCategories from './ExpandableCategories';\n\ninterface AppSummaryProps {\n  ratingIds: string[];\n  rating: number;\n  RatingButtonsComponent: any;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    tableScroll: {\n      border: 0,\n      'scrollbar-width': 'none' /* Firefox 64 */,\n      '&::-webkit-scrollbar': {\n        display: 'auto',\n        width: 6,\n        height: 6\n      },\n      '&::-webkit-scrollbar-thumb': {\n        // Works on chrome only\n        backgroundColor: theme.palette.primary.light,\n        borderRadius: 25\n      },\n      '-ms-overflow-style': 'none' as any,\n      '-webkit-overflow-scrolling': 'auto',\n      '&::-webkit-overflow-scrolling': 'auto'\n    },\n    chipRoot: {\n      marginLeft: -4,\n      display: 'flex',\n      flexWrap: 'wrap',\n      '& > *': {\n        margin: theme.spacing(0.5)\n      }\n    },\n    mainChip: {\n      minWidth: 130\n    },\n    link: {\n      cursor: 'pointer',\n      marginRight: 8\n    },\n    row: {\n      borderBottom: `1px solid ${theme.palette.divider}`\n    }\n  })\n);\n\nconst appColumnWidth = 520;\n\nexport default function AppSummary(props: Application & AppSummaryProps) {\n  const {\n    _id,\n    name = getAppName(props),\n    company = getAppCompany(props),\n    platforms = [],\n    costs = [],\n    developerTypes = [],\n    androidLink,\n    iosLink,\n    webLink,\n    ratingIds = [],\n    icon = getAppIcon(props),\n    rating,\n    created,\n    updated,\n    approved,\n    groupId,\n    RatingButtonsComponent = RatingsColumn\n  } = props;\n\n  const classes = useStyles();\n\n  const handleLink = React.useCallback(\n    platform => event => {\n      const url = platform === 'Android' ? androidLink : platform === 'iOS' ? iosLink : webLink;\n      var win = window.open(url, '_blank');\n      win.focus();\n    },\n    [androidLink, iosLink, webLink]\n  );\n\n  const shortDeveloperTypes = developerTypes.map(dt => {\n    const dtq = DeveloperTypeQuestions.find(dtq => dtq.value === dt);\n    return dtq ? (dtq.short ? dtq.short : dtq.value) : dt;\n  });\n\n  const GroupId = isEmpty(groupId) ? _id : groupId;\n  const newerMembers = useNewerMemberCount(GroupId, created);\n  const newMemberText = newerMembers > 0 ? ` (${newerMembers} Newer)` : '';\n  const [adminMode] = useAdminMode();\n  return (\n    <OutlinedDiv>\n      <Box pt={1} pb={1}>\n        <Grid container spacing={2}>\n          <Grid item style={{ width: appColumnWidth }}>\n            <Grid container spacing={2}>\n              <Grid item style={{ maxWidth: 184 + 16 }}>\n                <Grid container>\n                  <Grid item xs={12}>\n                    <img style={{ height: 184 }} src={icon} alt='logo' />\n                  </Grid>\n                  {adminMode && (\n                    <Grid item xs={12}>\n                      <Typography align='center' color={approved ? 'secondary' : 'primary'}>\n                        {`${approved === true ? 'Approved' : 'Not Approved'}${newMemberText}`}\n                      </Typography>\n                    </Grid>\n                  )}\n                </Grid>\n              </Grid>\n              <Grid item zeroMinWidth xs>\n                <Grid container>\n                  <Grid item xs={12}>\n                    <Typography noWrap variant='h5'>\n                      {name || 'Unknown Name'}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography noWrap color='textSecondary'>\n                      {company}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography noWrap component='span'>\n                      <Grid container spacing={1}>\n                        {platforms.filter(onlyUnique).map((p, i) => (\n                          <Grid item key={`platform-${p}-${i}`}>\n                            <Link underline='always' key={p} className={classes.link} onClick={handleLink(p)}>\n                              {p}\n                            </Link>\n                            {i !== platforms.filter(onlyUnique).length - 1 && `\\u2022`}\n                          </Grid>\n                        ))}\n                      </Grid>\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography noWrap color='textSecondary' variant='caption'>\n                      {shortDeveloperTypes.length === 0 ? (\n                        'Unknown Developer Type'\n                      ) : shortDeveloperTypes.length > 4 ? (\n                        <DialogButton variant='link' size='small' Icon={null} tooltip={developerTypes.join(' | ')}>\n                          Multiple Developer Types\n                        </DialogButton>\n                      ) : (\n                        shortDeveloperTypes.join(' | ')\n                      )}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography noWrap color='textSecondary' variant='caption'>\n                      {costs.length === 0 ? (\n                        'Unknown Cost'\n                      ) : costs.length > 2 ? (\n                        <DialogButton variant='link' size='small' Icon={null} tooltip={costs.join(' | ')}>\n                          Multiple Associated Costs\n                        </DialogButton>\n                      ) : (\n                        costs.join(' | ')\n                      )}\n                    </Typography>\n                  </Grid>\n                  {adminMode && (\n                    <Grid item xs={12}>\n                      <Typography noWrap color='textSecondary' variant='caption'>\n                        Created: {updated ? getDayTimeFromTimestamp(created) : ''}\n                      </Typography>\n                    </Grid>\n                  )}\n                  {created !== updated && (\n                    <Grid item xs={12}>\n                      <Typography noWrap color='textSecondary' variant='caption'>\n                        Last Updated: {updated ? getDayTimeFromTimestamp(updated) : ''}\n                      </Typography>\n                    </Grid>\n                  )}\n                  <Grid item xs={12}>\n                    <RatingButtonsComponent _id={_id} rating={rating} ratingIds={ratingIds} />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs style={{ minWidth: 450 }}>\n            <ExpandableCategories {...props} />\n          </Grid>\n        </Grid>\n      </Box>\n    </OutlinedDiv>\n  );\n}\n","import React from 'react';\nimport GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport ViewModeButton from '../Applications/ViewModeButton';\nimport AppSummary from './AppSummary';\nimport { useAppData } from '../Applications/selectors';\nimport AdminToggle from '../Applications/AdminToggle';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport FilterButton from '../Applications/FilterButton';\n\nconst name = 'Applications';\nexport const defaultApplicationsListProps: GenericTableContainerProps = {\n  isGrid: true,\n  name,\n  dialogs: [renderDialogModule(RateNewAppDialog)],\n  columns: [{ name: 'app', header: 'Application', Cell: AppSummary }],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const ApplicationsList = props => (\n  <>\n    <FilterButton Module={FilterPopover} table={name} />\n    <AdminToggle />\n    <ViewModeButton />\n    <GenericTableContainer {...defaultApplicationsListProps} data={useAppData(name)} showScroll={true} {...props} />\n  </>\n);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { isEmpty } from '../../../../helpers';\nimport DialogButton from '../../GenericDialog/DialogButton';\n\nexport default function ExpandableDescription({\n  variant = 'caption' as any,\n  maxDescription = 1000,\n  androidStore = undefined,\n  appleStore = undefined,\n  handleRefresh = undefined\n}) {\n  const [expand, setExpand] = React.useState(false);\n\n  const handleToggleExpand = React.useCallback(() => {\n    setExpand(prev => !prev);\n    handleRefresh && handleRefresh();\n  }, [setExpand, handleRefresh]);\n\n  var description = !isEmpty(appleStore?.description) ? appleStore.description : androidStore?.description;\n  const isExpandable = description?.length > maxDescription;\n  var collapsedDescription = undefined;\n  if (expand === false && isExpandable) {\n    collapsedDescription = description.substring(0, maxDescription) + '...  ';\n  }\n\n  return isExpandable ? (\n    <>\n      <Typography variant={variant}>{expand ? description : collapsedDescription}</Typography>\n      <DialogButton variant='link' color='primary' size='small' tooltip='' underline='always' onClick={handleToggleExpand}>\n        {expand ? 'Hide More' : `Show More`}\n      </DialogButton>\n    </>\n  ) : (\n    <Typography variant={variant}>{description}</Typography>\n  );\n}\n","import GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport ApplicationSummary from './ApplicationSummary';\nimport { useHandleExport } from '../../../../database/hooks';\nimport { useIsAdmin } from '../../../../hooks';\n\nconst name = 'Applications';\nexport const defaultApplicationsSummaryProps: GenericTableContainerProps = {\n  isGrid: true,\n  name,\n  dialogs: [renderDialogModule(RateNewAppDialog)],\n  columns: [{ name: 'app', header: 'Application', Cell: ApplicationSummary }],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const ApplicationsSummary = ({ data, HeaderComponent, ...other }) => {\n  const { columns, ...defaultProps } = defaultApplicationsSummaryProps;\n  const handleExport = useHandleExport(data, columns);\n  const isAdmin = useIsAdmin();\n  return (\n    <>\n      {HeaderComponent && <HeaderComponent onExport={isAdmin && handleExport} />}\n      <GenericTableContainer {...defaultProps} columns={columns} data={data} showScroll={true} {...other} />\n    </>\n  );\n};\n","import React from 'react';\nimport { Grid, Box, Typography } from '@material-ui/core';\nimport Application from '../../../../database/models/Application';\nimport { getAppName, getAppCompany, getAppIcon } from '../Applications/selectors';\nimport { getDayTimeFromTimestamp, publicUrl } from '../../../../helpers';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport { grey } from '@material-ui/core/colors';\nimport { useHandleChangeRoute } from '../../../layout/hooks';\nimport PlatformButtons from './PlatformButtons';\nimport ExpandableDescription from './ExpandableDescription';\n\ninterface AppSummaryProps {\n  ratingIds: string[];\n  rating: number;\n  RatingButtonsComponent: any;\n}\n\nconst imageHeight = 64;\n\nexport default function ApplicationSummary(props: Application & AppSummaryProps) {\n  const {\n    name = getAppName(props),\n    company = getAppCompany(props),\n    platforms = [],\n    costs = [],\n    androidLink,\n    iosLink,\n    androidStore,\n    appleStore,\n    webLink,\n    icon = getAppIcon(props),\n    created,\n    updated\n  } = props;  \n\n  const { handleRefresh } = props as any;\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <Box mt={2} ml={2} mr={2} bgcolor={grey[100]} borderColor={grey[300]} border='2px solid' borderRadius={15}>\n      <Box p={2}>\n        <Grid container spacing={4}>\n          <Grid item xs style={{ minWidth: 300 }}>\n            <Grid container spacing={1}>\n              <Grid item style={{ maxWidth: imageHeight + 16 }}>\n                <img style={{ height: imageHeight }} src={icon} alt='logo' />\n              </Grid>\n              <Grid item zeroMinWidth xs>\n                <Grid container>\n                  <Grid item xs={12}>\n                    <Typography variant='h5'>{name || 'Unknown Name'}</Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography color='textSecondary'>{company}</Typography>\n                  </Grid>\n                  {/*<Grid item xs={12}>\n                    <Typography noWrap color='textSecondary' variant='caption'>\n                      Last Version Update:\n                    </Typography>\n                  </Grid>\n  */}\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <ExpandableDescription appleStore={appleStore} androidStore={androidStore} handleRefresh={handleRefresh} />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item style={{ width: 240 }}>\n            <Grid container spacing={0}>\n              <Grid item xs={12}>\n                <PlatformButtons platforms={platforms} androidLink={androidLink} iosLink={iosLink} webLink={webLink} />\n              </Grid>\n              <Grid item xs={12}>\n                <Typography noWrap color='textSecondary' variant='caption'>\n                  {costs.length === 0 ? (\n                    'Unknown Cost'\n                  ) : costs.length > 2 ? (\n                    <DialogButton variant='link' size='small' Icon={null} tooltip={costs.join(' | ')}>\n                      Multiple Associated Costs\n                    </DialogButton>\n                  ) : (\n                    costs.join(' | ')\n                  )}\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                <Typography noWrap color='textSecondary' variant='caption'>\n                  Last Rating: {updated ? getDayTimeFromTimestamp(updated) : created ? getDayTimeFromTimestamp(created) : ''}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} style={{ paddingTop: 16 }}>\n              <DialogButton\n                tooltip=''\n                variant='primaryButton2'\n                size='large'\n                onClick={handleChangeRoute(publicUrl('/ViewApp'), { app: props, from: 'ApplicationSummary' })}\n              >\n                View\n              </DialogButton>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import { AppState } from '../../../../store';\nimport Application from '../../../../database/models/Application';\nimport { isEmpty, getDayTimeFromTimestamp } from '../../../../helpers';\nimport { useTableFilter } from '../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { AndroidStoreProps } from '../../DialogField/AndroidStore';\nimport { AppleStoreProps } from '../../DialogField/AppleStore';\nimport logo from '../../../../images/default_app_icon.png';\nimport { useSelector } from 'react-redux';\nimport { useAdminMode } from '../../../layout/store';\n\nconst isMatch = (filters, value) => filters.reduce((t, c) => (t = t && value?.includes(c)), true);\n\nexport const getAppName = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.name)\n    ? app.name\n    : androidStore && !isEmpty(androidStore.title)\n    ? androidStore.title\n    : appleStore && !isEmpty(appleStore.title)\n    ? appleStore.title\n    : app.name;\n};\n\nexport const getAppCompany = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.company)\n    ? app.company\n    : androidStore && !isEmpty(androidStore.developer)\n    ? androidStore.developer\n    : appleStore && !isEmpty(appleStore.developer)\n    ? appleStore.developer\n    : app.company;\n};\n\nexport const getAppIcon = (app: Application) => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.icon)\n    ? app.icon\n    : androidStore && !isEmpty(androidStore.icon)\n    ? androidStore.icon\n    : appleStore && !isEmpty(appleStore.icon)\n    ? appleStore.icon\n    : logo;\n};\n\nexport const useAppHistoryData = (table, id, isAdmin = undefined, includeDeleted = false, includeDrafts = false) => {\n  const apps = useSelector((s: AppState) => s.database[tables.applications] ?? {});\n  const node = apps[id] ?? {};\n  var { groupId } = node;\n  groupId = isEmpty(groupId) ? node._id : groupId; // If we don't have a group id, then use the _id by default, for backwards compatability\n\n  const [adminMode] = useAdminMode();\n  const isAdminMode = isAdmin !== undefined ? isAdmin : adminMode;\n\n  var data =\n    apps && !isEmpty(groupId)\n      ? Object.keys(apps)\n          .filter(\n            k =>\n              (includeDrafts || apps[k].draft !== true) &&\n              (includeDeleted || apps[k].delete !== true) &&\n              (apps[k]._id === groupId || apps[k].groupId === groupId || apps[k]._id === id) &&\n              (isAdminMode !== true ? apps[k].approved === true : true)\n          )\n          .map(k => {\n            const app: Application = apps[k];\n\n            const appSearchable = {\n              name: getAppName(app),\n              updated: app.updated ? getDayTimeFromTimestamp(app.updated) : undefined,\n              company: getAppCompany(app),\n              costs: app.costs?.join(' '),\n              platforms: app.platforms?.join(' '), // for searching\n              features: app.features?.join(' '), // for searching\n              functionalities: app.functionalities?.join(' '),\n              engagements: app.engagements?.join(' '),\n              inputs: app.inputs?.join(' '),\n              outputs: app.outputs?.join(' '),\n              conditions: app.conditions?.join(' '),\n              privacies: app.privacies?.join(' '),\n              uses: app.uses?.join(' '),\n              clinicalFoundations: app.clinicalFoundations,\n              developerTypes: app.developerTypes\n            };\n\n            return {\n              _id: app._id,\n              parent: app.parent,\n              ...appSearchable,\n              getSearchValues: () => {\n                return Object.keys(appSearchable).reduce((f, c) => (f = [f, appSearchable[c]].join(' ')), ''); // Optimize search performance\n              },\n              getValues: () => app\n            };\n          })\n      : [];\n\n  // sort by created date\n  data = data.sort(({ getValues: a }, { getValues: b }) => (b() as any).created - (a() as any).created);\n\n  const { filters = {} } = useSelector((s: AppState) => s.table[table] || {}) as any;\n  const {\n    Platforms = [],\n    Functionalities = [],\n    Cost = [],\n    Features = [],\n    Inputs = [],\n    Outputs = [],\n    Engagements = [],\n    Conditions = [],\n    Privacy = [],\n    Uses = [],\n    ClinicalFoundations = [],\n    DeveloperTypes = []\n  } = filters;\n\n  const customFilter = r =>\n    isMatch(Platforms, r.platforms) &&\n    isMatch(Functionalities, r.functionalities) &&\n    isMatch(Cost, r.costs) &&\n    isMatch(Features, r.features) &&\n    isMatch(Engagements, r.engagements) &&\n    isMatch(Inputs, r.inputs) &&\n    isMatch(Outputs, r.outputs) &&\n    isMatch(Conditions, r.conditions) &&\n    isMatch(Privacy, r.privacies) &&\n    isMatch(Uses, r.uses) &&\n    isMatch(ClinicalFoundations, r.clinicalFoundations) &&\n    isMatch(DeveloperTypes, r.developerTypes);\n\n  return useTableFilter(data, table, customFilter);\n};\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport DialogTableContent from '../DialogTableContent';\nimport { useAdminMode } from '../../../layout/store';\nimport { useDialogState } from '../useDialogState';\nimport * as tables from '../../GenericTable';\n\nexport const title = 'App History';\n\nconst ContentWithDrafts = props => {\n  return <DialogTableContent Table={tables.ApplicationListHistoryV2WithDrafts} buttonPosition='bottom' title={title} {...props} />;\n};\n\nexport default function ApplicationHistoryDialogV2WithDrafts({ id = title, onClose, ...other }) {\n  const [{ initialValues }] = useDialogState(id);\n  const [adminMode, setAdminMode] = useAdminMode() as any;\n\n  // This hack forces a refresh of the data if the admin may have closed something\n  const handleClose = React.useCallback(() => {\n    if (adminMode) {\n      setAdminMode(false);\n      setAdminMode(true);\n    }\n    onClose && onClose();\n  }, [adminMode, setAdminMode, onClose]);\n  \n  return (\n    <GenericDialog\n      id={id}\n      title={null}\n      maxWidth='xl'\n      cancelLabel='Close'\n      submitLabel={null}\n      Content={ContentWithDrafts}\n      ContentProps={{ initialValues }}\n      onClose={handleClose}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport { EditDialogButton } from '../../GenericDialog/DialogButton';\nimport * as ApplicationHistoryDialogV2WithDrafts from '../../GenericDialog/ApplicationHistoryDialogV2WithDrafts';\nimport * as ApplicationDialog from '../../GenericDialog/ApplicationDialog';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../../store';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSignedIn } from '../../../../hooks';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleChangeRoute } from '../../../layout/hooks';\nimport { publicUrl } from '../../../../helpers';\n\nexport default function MyRatingsColumnPending({ _id, canEdit = true, showRatings = true, showInfo = true }) {\n  const initialValues = useSelector((s: AppState) => s.database.applications[_id]);\n  const signedIn = useSignedIn();\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <Grid container alignItems='center' spacing={1}>\n      {showInfo && (\n        <Grid item>\n          <EditDialogButton\n            Module={ApplicationDialog}\n            variant='iconbutton'\n            mount={false}\n            Icon={Icons.Pageview}\n            initialValues={{ [tables.applications]: initialValues }}\n            tooltip='View Additional Application Info'\n            placement='bottom'\n          />\n        </Grid>\n      )}\n      {signedIn && (\n        <Grid item>\n          {canEdit ? (\n            <EditDialogButton\n              id='Rate an App V2'\n              variant='iconbutton'\n              mount={false}\n              Icon={Icons.Edit}\n              onClick={handleChangeRoute(publicUrl('/RateExistingApp'))}\n              initialValues={{ [tables.applications]: initialValues }}\n              tooltip='Edit'\n              placement='bottom'\n            />\n          ) : (\n            <Box ml={5} />\n          )}\n        </Grid>\n      )}\n      {showRatings && (\n        <Grid item>\n          <EditDialogButton\n            variant='iconbutton'\n            Module={ApplicationHistoryDialogV2WithDrafts}\n            mount={false}\n            Icon={Icons.Timeline}\n            initialValues={{ [tables.applications]: initialValues }}\n            tooltip='Open My Ratings History'\n            placement='bottom'\n          />\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport MyRatingsColumnPending from './MyRatingsColumnPending';\nimport { Chip, createStyles, makeStyles, Typography } from '@material-ui/core';\nimport { getDayTimeFromTimestamp } from '../../../../helpers';\nimport AppSummary from '../Applications/AppSummary';\nimport { green, orange, red, yellow } from '@material-ui/core/colors';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nconst LastUpdated = ({ updated }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {updated ? getDayTimeFromTimestamp(updated) : ''}\n  </Typography>\n);\n\nconst RatedBy = ({ email }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {email}\n  </Typography>\n);\n\nconst width = 128;\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    archived: {\n      width,\n      color: palette.common.white,\n      backgroundColor: red[600]\n    },\n    approved: {\n      width,\n      color: palette.common.white,\n      backgroundColor: green[600]\n    },\n    pending: {\n      width,\n      color: palette.common.white,\n      backgroundColor: orange[700]\n    },\n    draft: {\n      width,\n      color: palette.text.primary, //palette.common.black,\n      backgroundColor: yellow[100]\n    }\n  })\n);\n\nexport const Status = props => {\n  const { draft, approved } = props;\n  const classes = useStyles();\n  const label = props.delete ? 'Archived' : draft ? 'Draft' : approved ? 'Approved' : 'Pending Approval';\n  return (\n    <Chip\n      className={props.delete ? classes.archived : draft ? classes.draft : approved ? classes.approved : classes.pending}\n      label={label}\n      variant='outlined'\n    />\n  );\n};\n\nconst MyRatingsColumn = props => {\n  return <MyRatingsColumnPending {...props} showRatings={true} showInfo={false} canEdit={true /*props?.approved ? false : true*/} />;\n};\n\nexport const useColumns = () => {\n  const columns = [\n    { name: 'app', header: 'Application', minWidth: 300, Cell: AppSummary, hoverable: false, sort: 'textLower' },\n    { name: 'email', header: 'Rated By', width: 240, Cell: RatedBy, hoverable: false, sort: 'textLower' },\n    { name: 'updated', header: 'Last Updated', width: 225, Cell: LastUpdated, hoverable: false, sort: 'decimal' },\n    { name: 'status', header: 'Status', width: 148, Cell: Status, hoverable: false },\n    { name: 'rating', header: 'Rating', width: 120, Cell: MyRatingsColumn, hoverable: false }\n  ];\n\n  return columns;\n};\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { EditDialogButton } from '../../GenericDialog/DialogButton';\nimport { Status } from '../../GenericTable/MyApplicationsPending/columns';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../../store';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSignedIn, useFullScreen, useIsAdmin } from '../../../../hooks';\nimport { useViewMode, useAdminMode } from '../../../layout/store';\nimport { useProcessData } from '../../../../database/useProcessData';\nimport Check from '../../DialogField/Check';\n\nexport default function RatingsColumnHistory({ _id, isAdmin: IsAdmin = undefined }) {\n  const application = useSelector((s: AppState) => s.database.applications[_id]);\n  const { approved, draft } = application;\n  const deleted = application?.delete;\n  const [viewMode] = useViewMode();\n  const signedIn = useSignedIn();\n  const fullScreen = useFullScreen();\n  const isAdmin = useIsAdmin();\n  const [adminMode] = useAdminMode();\n\n  const processData = useProcessData();\n\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n\n  const appStr = JSON.stringify(application);\n\n  const handleApprove = React.useCallback(\n    approved => () => {\n      const app = JSON.parse(appStr);\n      app.updated = new Date().getTime();\n      app.approverEmail = email;\n      app.approved = approved;\n      processData({\n        Model: tables.applications,\n        Action: 'u',\n        Data: { ...app },\n        Snackbar: true\n      });\n    },\n    [processData, email, appStr]\n  );\n\n  const handleDelete = React.useCallback(\n    deleted => () => {\n      const app = JSON.parse(appStr);\n      app.updated = new Date().getTime();\n      app.delete = deleted;\n      processData({\n        Model: tables.applications,\n        Action: 'u',\n        Data: { ...app },\n        Snackbar: true\n      });\n    },\n    [processData, appStr]\n  );\n\n  return (\n    <>\n      <Grid container alignItems='center' spacing={1}>\n        <Grid container alignItems='center' style={{ minHeight: 64 }} item xs={fullScreen && viewMode === 'grid' ? 12 : 5}>\n          {signedIn && (\n            <EditDialogButton\n              Module={RateNewAppDialog}\n              mount={false}\n              variant='primarycontained'\n              tooltip=''\n              Icon={null}\n              initialValues={{ [tables.applications]: application }}\n            >\n              <Typography noWrap>View / Edit</Typography>\n            </EditDialogButton>\n          )}\n        </Grid>\n        {(IsAdmin || (isAdmin && adminMode === true)) && (\n          <Grid container alignItems='center' style={{ minHeight: 92 }} item xs={fullScreen && viewMode === 'grid' ? 12 : 7}>\n            <div style={{ marginBottom: -12 }}>\n              {draft ? (\n                <Status draft={draft} approved={approved} />\n              ) : (\n                <Check value={approved} label={approved ? 'Approved' : 'Not approved'} onClick={handleApprove(!approved)} />\n              )}\n            </div>\n            <div style={{ marginTop: -12 }}>\n              <Check\n                value={deleted}\n                label={deleted ? 'Archived' : 'Not archived'}\n                onClick={handleDelete(!deleted)}\n                style={{ color: deleted ? 'red' : undefined }}\n              />\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      {IsAdmin && <Typography variant='caption'>Rated by: {application?.email}</Typography>}\n    </>\n  );\n}\n","import React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport { defaultApplicationsListProps } from '../ApplicationsList/table';\nimport { useAppHistoryData } from '../ApplicationHistory/selectors';\nimport AppSummary from '../ApplicationsList/AppSummary';\nimport RatingsColumnHistory from '../Applications/RatingsColumnHistory';\nimport ViewModeButton from '../Applications/ViewModeButton';\nimport AdminToggle from '../Applications/AdminToggle';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport FilterButton from '../Applications/FilterButton';\n\nconst name = 'Application History';\n\nconst AppSummaryHistory = props => <AppSummary {...props} RatingButtonsComponent={RatingsColumnHistory} />;\nconst columns = [{ name: 'app', header: 'Application', Cell: AppSummaryHistory }];\n\nexport const ApplicationListHistory = ({ initialValues, ...props }) => {\n  const _id = initialValues?.applications?._id;\n  return (\n    <>\n      <FilterButton Module={FilterPopover} table={name} />\n      <AdminToggle />\n      <ViewModeButton />\n      <GenericTableContainer {...defaultApplicationsListProps} columns={columns} name={name} data={useAppHistoryData(name, _id)} showScroll={true} {...props} />\n    </>\n  );\n};\n","import React from 'react';\nimport { defaultApplicationsProps } from '../Applications/table';\nimport { useSignedIn } from '../../../../hooks';\nimport GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport AdminToggle from '../Applications/AdminToggle';\nimport ViewModeButton from '../Applications/ViewModeButton';\nimport { useAppHistoryData } from './selectors';\nimport { useColumns } from '../Applications/columns';\nimport RatingsColumnHistory from '../Applications/RatingsColumnHistory';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport TableFilterDialogButton from '../Applications/FilterButton';\n\nconst name = 'Applications History';\n\nconst defaultProps: GenericTableContainerProps = {\n  name\n};\n\nexport const customRatingColumn = { name: 'rating', header: 'Rating', width: 300, Cell: RatingsColumnHistory, hoverable: false };\n\nexport const ApplicationHistory = ({ initialValues, ...props }) => {\n  const _id = initialValues?.applications?._id;\n  const signedIn = useSignedIn();\n\n  const columns = useColumns();\n\n  // Ensure we make a copy of columns here so react updates work correctly\n  const Columns = [...(signedIn ? columns : (columns as []).filter((c: any) => c.name !== 'rating'))];\n  const ratingIndex = Columns.findIndex(c => c.name === 'rating');\n  if (ratingIndex > -1) {\n    Columns.splice(ratingIndex, 1, customRatingColumn);\n  }\n\n  return (\n    <>\n      <TableFilterDialogButton Module={FilterPopover} table={name} />\n      <ViewModeButton mode='table' />\n      <AdminToggle />\n      <GenericTableContainer\n        {...defaultApplicationsProps}\n        {...defaultProps}\n        data={useAppHistoryData(name, _id)}\n        columns={[...Columns]}\n        showScroll={true}\n        {...props}\n      />\n    </>\n  );\n};\n","import React from 'react';\nimport GenericTableContainer from '../GenericTableContainer';\nimport { defaultApplicationsListProps } from '../ApplicationsList/table';\nimport { useAppHistoryData } from '../ApplicationHistory/selectors';\nimport AppSummary from '../ApplicationsList/AppSummary';\nimport RatingsColumnHistory from '../Applications/RatingsColumnHistory';\nimport { useIsAdmin } from '../../../../hooks';\n\nconst name = 'App History';\n\nconst RatingsButtons = props => {\n  const isAdmin = useIsAdmin(); // Only force show the approve check box if the user is an admin\n  return <RatingsColumnHistory {...props} isAdmin={isAdmin} />;\n};\n\nconst AppSummaryHistory = props => <AppSummary {...props} RatingButtonsComponent={RatingsButtons} />;\nconst columns = [{ name: 'app', header: 'Application', Cell: AppSummaryHistory }];\n\nexport const ApplicationListHistoryV2 = ({ initialValues, includeDrafts = undefined, ...props }) => {\n  const _id = initialValues?.applications?._id;\n  return (\n    <GenericTableContainer\n      {...defaultApplicationsListProps}\n      columns={columns}\n      name={name}\n      data={useAppHistoryData(name, _id, true, true, includeDrafts)}\n      showScroll={true}\n      {...props}\n    />\n  );\n};\n\nexport const ApplicationListHistoryV2WithDrafts = props => {\n  return <ApplicationListHistoryV2 {...props} includeDrafts={true} />;\n};\n","import * as React from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport Text from '../DialogField/Text';\n\nexport interface TableToolbarProps {\n  name?: string;\n  buttons?: any[] | ((props?: GenericTableContainerProps & any) => any[]);\n  square?: boolean;\n  title?: string;\n  showicon?: boolean;\n  viewportwidth?: any;\n  inputplaceholder?: string;\n  width?: number;\n  search?: boolean;\n  Icon?: any;\n  buttonPosition?: string;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    searchIcon: {\n      color: palette.text.secondary\n    },\n    endIcon: {\n      marginRight: -12,\n      color: palette.text.secondary\n    }\n  })\n);\n\nexport default function TableSearchV2({ value = '', label = undefined, placeholder = undefined, onChange }) {\n  const classes = useStyles();\n\n  const handleClear = React.useCallback(e => onChange({ target: { value: '' } }), [onChange]);\n\n  return (\n    <Text\n      margin='dense'\n      placeholder={placeholder}\n      value={value}\n      onChange={onChange}\n      label={label}\n      InputProps={{\n        style: { background: 'white' },\n        startAdornment: (\n          <InputAdornment position='start'>\n            <Icons.Search className={classes.searchIcon} />\n          </InputAdornment>\n        ),\n        endAdornment: (\n          <InputAdornment position='end'>\n            <IconButton className={classes.endIcon} onClick={handleClear}>\n              <Icons.Close />{' '}\n            </IconButton>{' '}\n          </InputAdornment>\n        )\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { useViewMode } from '../../../layout/store';\nimport { makeStyles, createStyles, Grid, Button } from '@material-ui/core';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryButtonDisabled: {\n      paddingLeft: 8,\n      paddingRight: 8,\n      borderRadius: 7,\n      cursor: 'auto',\n      color: palette.common.white,\n      background: palette.primary.dark,\n      '&:hover': {\n        background: palette.primary.dark\n      }\n    },\n    primaryButton: {\n      paddingLeft: 8,\n      paddingRight: 8,\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.main,\n      '&:hover': {\n        background: palette.primary.dark\n      }\n    }\n  })\n);\n\nexport default function ViewModeButtons({ onExport = undefined }) {\n  const classes = useStyles();\n  const [viewMode, setViewMode] = useViewMode() as any;\n  const handleClick = React.useCallback(mode => () => setViewMode(mode), [setViewMode]);\n  const handleExport = React.useCallback(isTableData => () => onExport && onExport(isTableData), [onExport]);\n\n  return (\n    <Grid container spacing={1}>\n      {onExport && (\n        <>\n          <Grid item>\n            <Button size='small' className={classes.primaryButton} onClick={handleExport(false)}>\n              <Icons.GetApp style={{ marginRight: 4 }} />\n              Export Database\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button size='small' className={classes.primaryButton} onClick={handleExport(true)}>\n              <Icons.GetApp style={{ marginRight: 4 }} />\n              Export Table Data\n            </Button>\n          </Grid>\n        </>\n      )}\n      <Grid item>\n        <Button\n          disableRipple={viewMode === 'grid'}\n          size='small'\n          className={viewMode === 'grid' ? classes.primaryButtonDisabled : classes.primaryButton}\n          onClick={handleClick('grid')}\n        >\n          <Icons.Apps style={{ marginRight: 4 }} />\n          Grid View\n        </Button>\n      </Grid>\n      <Grid item>\n        <Button\n          disableRipple={viewMode === 'table'}\n          size='small'\n          className={viewMode === 'table' ? classes.primaryButtonDisabled : classes.primaryButton}\n          onClick={handleClick('table')}\n        >\n          <Icons.List style={{ marginRight: 4 }} />\n          Table View\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Chip } from '@material-ui/core';\nimport { useFullScreen } from '../../hooks';\nimport useFilterList from '../../database/useFilterList';\nimport TableSearchV2 from '../application/GenericTable/TableSearchV2';\nimport MultiSelectCheck from '../application/DialogField/MultiSelectCheck';\nimport { Platforms, withReplacement } from '../../database/models/Application';\nimport { useTableFilterValues, useTableValues } from '../application/GenericTable/store';\nimport { useHeaderHeightRef } from '../layout/hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport ViewModeButtons from '../application/GenericTable/Applications/ViewModeButtons';\nimport { categories } from '../../constants';\n\nconst padding = 32;\nconst spacing = 1;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    deleteIcon: {\n      color: 'white !important'\n    }\n  })\n);\n\nexport default function SearchHeaderRedux({ title = 'App Library', onExport = undefined }) {\n  const [{ searchtext, filters = {} }, setValues] = useTableValues('Applications');\n  const [, setFilterValues] = useTableFilterValues('Applications');\n\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  const handleChange = React.useCallback(\n    id => (event: any) => {\n      const value = event?.target?.value;\n      if (id === 'searchtext') {\n        setValues(prev => ({ searchtext: value, filters: prev.filters }));\n      } else {\n        setValues(prev => ({ searchtext: prev.searchtext, filters: { ...prev.filters, [id]: value } }));\n      }\n    },\n    [setValues]\n  );\n\n  const items = Object.keys(filters)\n    .filter(k => k !== 'Platforms' && k !== 'SavedFilter')\n    .map(k => ({ key: k, label: filters[k].name, value: filters[k] }));\n\n  const handleDelete = React.useCallback(\n    (key, value) => event => {\n      setValues(prev => {\n        return { searchtext: prev.searchtext, filters: { ...prev.filters, [key]: (prev?.filters[key] ?? []).filter(v => v !== value) } };\n      });\n    },\n    [setValues]\n  );\n\n  const handleReset = React.useCallback(() => setFilterValues({}), [setFilterValues]);\n\n  let showClear = false;\n\n  return (\n    <Grid ref={useHeaderHeightRef()} container className={classes.header}>\n      <Grid item xs={12}>\n        <Grid container justify='space-between' alignItems='flex-end'>\n          <Grid>\n            <Typography variant='h1' className={classes.primaryText}>\n              {title}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <ViewModeButtons onExport={onExport} />\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container style={{ marginTop: 8 }} alignItems='center' spacing={spacing}>\n          <Grid item xs={12} sm style={{ marginTop: -4 }}>\n            <Grid container spacing={spacing}>\n              <Grid item xs>\n                <TableSearchV2 value={searchtext} onChange={handleChange('searchtext')} placeholder='Search by name, feature or platform' />\n              </Grid>\n              <Grid item xs={sm ? 12 : undefined} style={{ minWidth: sm ? undefined : 360 }}>\n                <MultiSelectCheck\n                  value={filters['Platforms']}\n                  onChange={handleChange('Platforms')}\n                  placeholder={filters['Platforms']?.length > 0 ? 'Platforms' : 'All Platforms'}\n                  InputProps={{ style: { background: 'white' } }}\n                  items={Platforms.map(label => ({ value: label, label })) as any}\n                  fullWidth={true}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container justify='space-between' alignItems='center'>\n          <Grid item xs>\n            <Grid container alignItems='center' spacing={1} style={{ marginTop: 8 }}>\n              {items.map((item, i) => {\n                const category = categories[item.key];\n                if (item.value.length > 0) {\n                  showClear = true;\n                }\n                return !Array.isArray(item?.value) ? (\n                  <></>\n                ) : (\n                  item.value.map((label, i2) => (\n                    <Grid item>\n                      <Chip\n                        key={`${label}-${i}-${i2}`}\n                        style={{ background: category?.color, color: 'white', marginRight: 8 }}\n                        variant='outlined'\n                        size='small'\n                        label={withReplacement(label)}\n                        onDelete={handleDelete(item.key, label)}\n                        classes={{\n                          deleteIcon: classes.deleteIcon\n                        }}\n                      />\n                    </Grid>\n                  ))\n                );\n              })}\n              {showClear && (\n                <Grid item>\n                  <DialogButton variant='link' color='textSecondary' underline='always' tooltip='Click to reset all filters' onClick={handleReset}>\n                    Reset all filters\n                  </DialogButton>\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import { tables } from './dbConfig';\nimport { useTableState } from './useTableState';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../store';\n\nexport const useApplications = () => useTableState(tables.applications);\nexport const useApp = id => useSelector((state: AppState) => (state.database[tables.applications] ?? {})[id]);\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { dynamo, tables } from '../../database/dbConfig';\nimport Application from '../../database/models/Application';\nimport { useApplications } from '../../database/useApplications';\nimport { getDayTimeFromTimestamp, isEmpty, onlyUnique } from '../../helpers';\nimport { AppState } from '../../store';\nimport { getAppCompany, getAppName } from '../application/GenericTable/Applications/selectors';\nimport { useTableFilter } from '../application/GenericTable/helpers';\nimport { useAdminMode } from '../layout/store';\n\nconst table = 'Applications';\nconst isMatch = (filters, value) => filters.reduce((t, c) => (t = t && value?.includes(c)), true);\n\nexport default function useAppTableDataTest({ trigger = true } = {}) {\n  const [apps, setApps] = useApplications();\n\n  const handleGetRow = React.useCallback(\n    id => {\n      const getRow = async id => {\n        var params = {\n          TableName: tables.applications,\n          Key: { _id: id }\n        };\n        try {\n          var row = await dynamo.get(params).promise();\n        } catch (err) {\n          console.error('Error querying row id: ' + id);\n          return;\n        }\n        if (row?.Item && row?.Item._id) {\n          setApps(prev => ({\n            ...prev,\n            [row.Item?._id]: row.Item\n          }));\n        }\n      };\n      getRow(id);\n    },\n    [setApps]\n  );\n\n  const handleRefresh = React.useCallback(\n    ({ requestParams = undefined } = {}) => {\n      const getItems = async () => {\n        let scanResults = [];\n        let items;\n        var params = {\n          TableName: tables.applications,\n          ExclusiveStartKey: undefined,\n          ...requestParams\n        };\n        var firstPass = true;\n        do {\n          items = await dynamo.scan(params).promise();\n          items.Items.forEach(i => scanResults.push(i));\n          params.ExclusiveStartKey = items.LastEvaluatedKey;\n          if (firstPass) {\n            firstPass = false; // Show the first results so the user doesn't see an empty screen\n            setApps(prev => ({\n              ...prev,\n              ...scanResults.reduce((f, c: any) => {\n                f[c._id] = c;\n                return f;\n              }, {})\n            }));\n          }\n        } while (typeof items.LastEvaluatedKey != 'undefined');\n        setApps(prev => ({\n          ...prev,\n          ...scanResults.reduce((f, c: any) => {\n            f[c._id] = c;\n            return f;\n          }, {})\n        }));\n      };\n      getItems();\n    },\n    [setApps]\n  );\n\n  // Load data from the database\n  React.useEffect(() => {\n    trigger && handleRefresh();\n  }, [trigger, handleRefresh]);\n\n  const [adminMode] = useAdminMode();\n  var data = apps\n    ? Object.keys(apps)\n        .filter(k => apps[k].draft !== true && apps[k].delete !== true && ((!adminMode && apps[k].approved === true) || adminMode)) // only show approved for public mode, show all for admin\n        .map(k => {\n          const app: Application = apps[k];\n\n          const appSearchable = {\n            name: getAppName(app),\n            app: getAppName(app), // For sorting application column by text\n            updated: app.updated ? getDayTimeFromTimestamp(app.updated) : undefined,\n            company: getAppCompany(app),\n            costs: app.costs?.join(' '),\n            platforms: app.platforms?.join(' '), // for searching\n            features: app.features?.join(' '), // for searching\n            functionalities: app.functionalities?.join(' '),\n            engagements: app.engagements?.join(' '),\n            inputs: app.inputs?.join(' '),\n            outputs: app.outputs?.join(' '),\n            conditions: app.conditions?.join(' '),\n            privacies: app.privacies?.join(' '),\n            uses: app.uses?.join(' '),\n            clinicalFoundations: app.clinicalFoundations,\n            developerTypes: app.developerTypes\n          };\n\n          return {\n            _id: app._id,\n            parent: app.parent,\n            ...appSearchable,\n            getSearchValues: () => {\n              return Object.keys(appSearchable).reduce((f, c) => (f = [f, appSearchable[c]].join(' ')), ''); // Optimize search performance\n            },\n            getValues: () => app,\n            getExportValues: () => ({\n              ...appSearchable,\n              app: appSearchable.name,\n              cost: appSearchable.costs,\n              functionality: appSearchable.functionalities,\n              developerType: appSearchable.developerTypes\n            }),\n            created: app.created,\n            approved: app.approved,\n            groupId: isEmpty(app.groupId) ? app._id : app.groupId\n          };\n        })\n    : [];\n\n  // For public, show only the most recent with a status of approved == true\n  // For admin, show only the most recent approved, or if no approvals then show the most recent\n\n  var groupIds = data.map(r => r.groupId).filter(onlyUnique);\n  var filteredData = groupIds.map(gId => {\n    // For each group id find the most recently created\n    var groupMembers = data.filter(r => r.groupId === gId);\n    var sortedAsc = groupMembers.sort(({ getValues: a }, { getValues: b }) => (b() as any).created - (a() as any).created); // Create a sorted ascending list\n\n    var newest = sortedAsc[0]; // Set the newest record, regardless of approval status\n\n    for (var i = 0; i < sortedAsc.length; i++) {\n      // Now search all records from newest down to find the newest approved entry.  If no approved entry is found then newest will be the first entry above\n      if (sortedAsc[i].approved === true) {\n        newest = sortedAsc[i];\n        break;\n      }\n    }\n    return newest;\n  });\n\n  const { filters = {} } = useSelector((s: AppState) => s.table[table] || {}) as any;\n  const {\n    Platforms = [],\n    Functionalities = [],\n    Cost = [],\n    Features = [],\n    Inputs = [],\n    Outputs = [],\n    Engagements = [],\n    Conditions = [],\n    Privacy = [],\n    Uses = [],\n    ClinicalFoundations = [],\n    DeveloperTypes = []\n  } = filters;\n\n  const customFilter = r =>\n    isMatch(Platforms, r.platforms) &&\n    isMatch(Functionalities, r.functionalities) &&\n    isMatch(Cost, r.costs) &&\n    isMatch(Features, r.features) &&\n    isMatch(Engagements, r.engagements) &&\n    isMatch(Inputs, r.inputs) &&\n    isMatch(Outputs, r.outputs) &&\n    isMatch(Conditions, r.conditions) &&\n    isMatch(Privacy, r.privacies) &&\n    isMatch(Uses, r.uses) &&\n    isMatch(ClinicalFoundations, r.clinicalFoundations) &&\n    isMatch(DeveloperTypes, r.developerTypes);\n\n  var filtered = useTableFilter(filteredData, table, customFilter);\n\n  return { filtered, apps, setApps, handleRefresh, handleGetRow };\n}\n","import * as Tables from '../application/GenericTable';\nimport { useHeaderHeight, useHeight, useViewMode } from '../layout/store';\nimport * as ApplicationHistoryDialog from '../application/GenericDialog/ApplicationHistoryDialog';\nimport * as SuggestEditDialog from '../application/GenericDialog/SuggestEdit';\nimport * as ApplicationDialog from '../application/GenericDialog/ApplicationDialog';\nimport { renderDialogModule } from '../application/GenericDialog/DialogButton';\nimport SearchHeaderRedux from './SearchHeaderRedux';\nimport { useTheme } from '@material-ui/core';\nimport useAppTableDataTest from './useAppTableDataTest';\n\nexport default function AppsV2() {\n  const [viewMode] = useViewMode() as any;\n  const headerHeight = useHeaderHeight();\n  const height = useHeight();\n  const { layout } = useTheme() as any;\n  const { tablefooterheight } = layout;\n  const tableHeight = height - headerHeight + tablefooterheight + 2;\n  const { filtered } = useAppTableDataTest(); // Trigger data query\n\n  return (\n    <>\n      {renderDialogModule(ApplicationHistoryDialog)}\n      {renderDialogModule(SuggestEditDialog)}\n      {renderDialogModule(ApplicationDialog)}\n      {viewMode === 'table' ? (\n        <Tables.Applications data={filtered} HeaderComponent={SearchHeaderRedux} height={tableHeight} showButtons={false} />\n      ) : (\n        <Tables.ApplicationsSummary data={filtered} HeaderComponent={SearchHeaderRedux} height={tableHeight} />\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button } from '@material-ui/core';\nimport { useFullScreen } from '../../hooks';\nimport useFilterList from '../../database/useFilterList';\nimport { useHandleChangeRoute, useHeaderHeightRef } from '../layout/hooks';\nimport { publicUrl } from '../../helpers';\n\nconst padding = 32;\nconst borderRadius = 7;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryButton: {\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    secondaryText: {\n      fontSize: 20,\n\n      color: palette.common.white\n    }\n  })\n);\n\nexport default function RateAnAppHeader({ showArchived = undefined, onToggleArchive = undefined }) {\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <Grid ref={useHeaderHeightRef()} container className={classes.header}>\n      <Grid item xs={12}>\n        <Typography variant='h1' className={classes.primaryText}>\n          My App Ratings\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container style={{ marginTop: 8 }} alignItems='center' spacing={4}>\n          <Grid item xs={12} sm style={{ marginTop: -4 }}>\n            <Typography className={classes.secondaryText}>\n              Rate a new app or update an existing rating by entering the relevant app store link. You will be prompted through 105 different questions about\n              the app and its features, privacy settings, and clinical foundation.\n            </Typography>\n          </Grid>\n          <Grid item xs={sm ? 12 : undefined} style={{ textAlign: 'right' }}>\n            <Grid container spacing={2}>\n              <Grid item>\n                <Button className={classes.primaryButton} onClick={onToggleArchive}>\n                  {showArchived ? 'Hide Archived' : 'Show Archived'}\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button className={classes.primaryButton} onClick={handleChangeRoute(publicUrl('/RateNewApp'))}>\n                  Start App Rating\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { makeStyles, createStyles, Badge, withStyles, Fab } from '@material-ui/core';\nimport { useTableFilterValues } from '../store';\nimport { useDialogState } from '../../GenericDialog/useDialogState';\nimport { evalFunc } from '../../../../helpers';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport { useFilterCount } from '../../../layout/useFilterCount';\n\nconst useStyles = makeStyles(({ spacing }: any) =>\n  createStyles({\n    fab: {\n      position: 'absolute',\n      bottom: spacing(9),\n      right: spacing(3),\n      zIndex: 999999\n    }\n  })\n);\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: -5,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport default function FilterButtonBottom({\n  id: Id = undefined,\n  type = 'Add',\n  table,\n  Module,\n  Icon = Icons.FilterList,\n  tooltip: Tooltip = 'Filter Results',\n  onClick = undefined,\n  onClose = undefined,\n  onChange = undefined,\n  onReset = undefined,\n  mount = true,\n  initialValues = {},\n  ...other\n}) {\n  const classes = useStyles();\n  const filterCount = useFilterCount(table);\n  const [values, setValues] = useTableFilterValues(table);\n\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  return (\n    <>\n      {mount && Module && renderDialogModule({ ...Module, anchorEl, onClose: handleClose, onChange, onReset: handleReset, values, setValues })}\n      <div className={classes.fab}>\n        <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n          <Fab size='large' color='primary' aria-label='view-mode' onClick={handleClick}>\n            <Icon />\n          </Fab>\n        </StyledBadge>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport * as Icons from '@material-ui/icons';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport { useColumns } from './columns';\nimport FilterButtonBottom from '../Applications/FilterButtonBottom';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport { usePendingAppData } from '../Applications/selectors';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nexport const defaultApplicationsProps: GenericTableContainerProps = {\n  name,\n  dialogs: [renderDialogModule(RateNewAppDialog)],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const MyApplicationsPending = ({ showArchived = false, includeDrafts = true, includeApproved = true, email = undefined, ...props }) => {\n  const columns = useColumns();\n  return (\n    <>\n      <FilterButtonBottom Module={FilterPopover} table={name} />\n      <GenericTableContainer\n        {...defaultApplicationsProps}\n        data={usePendingAppData(name, showArchived, email, includeDrafts, includeApproved)}\n        columns={columns}\n        showScroll={true}\n        {...props}\n      />\n    </>\n  );\n};\n","import * as React from 'react';\nimport * as ApplicationHistoryDialogV2WithDrafts from '../../application/GenericDialog/ApplicationHistoryDialogV2WithDrafts';\nimport * as ApplicationDialog from '../../application/GenericDialog/ApplicationDialog';\nimport { renderDialogModule } from '../../application/GenericDialog/DialogButton';\nimport { MyApplicationsPending } from '../../application/GenericTable/MyApplicationsPending/table';\nimport { useSelector } from 'react-redux';\nimport useAppTableDataTest from '../useAppTableDataTest';\n\nexport default function MyAppRatings({ height = undefined, showArchived = false }) {\n  const { handleRefresh } = useAppTableDataTest();\n\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n\n  return (\n    <>\n      {renderDialogModule({ ...ApplicationHistoryDialogV2WithDrafts, onClose: handleRefresh })}\n      {renderDialogModule({ ...ApplicationDialog, onClose: handleRefresh })}\n      <MyApplicationsPending height={height} showArchived={showArchived} email={email} />\n    </>\n  );\n}\n","import * as React from 'react';\nimport RateAnAppHeader from '../RateAnAppHeader';\nimport { useTheme } from '@material-ui/core';\nimport { useHeaderHeight, useHeight } from '../../layout/store';\nimport MyAppRatings from './MyAppRatings';\n\nexport default function MyRatings() {\n  const [showArchived, setShowArchived] = React.useState(false);\n  const headerHeight = useHeaderHeight();\n\n  const height = useHeight();\n  const { layout } = useTheme() as any;\n  const { tablefooterheight } = layout;\n\n  const tableHeight = height - headerHeight + tablefooterheight + 18;\n\n  const handleToggle = React.useCallback(() => {\n    setShowArchived(prev => !prev);\n  }, [setShowArchived]);\n  return (\n    <>\n      <RateAnAppHeader showArchived={showArchived} onToggleArchive={handleToggle} />\n      <MyAppRatings height={tableHeight} showArchived={showArchived} />\n    </>\n  );\n}\n","import * as React from 'react';\nimport { Button, Typography, Grid, Box } from '@material-ui/core';\nimport { googlePlayProxyUrl } from '../../constants';\nimport axios from 'axios';\nimport Text from '../application/DialogField/Text';\nimport AutoCompleteSelect from '../application/DialogField/AutoCompleteSelect';\n\nasync function getAppInfo(appId, type) {\n  const { data } = await axios.get(`${googlePlayProxyUrl}?appId=${appId}&type=${type}`);\n  return data;\n}\n\nexport default function PlayGround() {\n  const [appInfo, setAppInfo] = React.useState({});\n  const [appId, setAppId] = React.useState('com.google.android.apps.translate');\n  const [type, setType] = React.useState('google');\n\n  const handleGetAppInfo = React.useCallback(() => {\n    async function fetchData() {\n      try {\n        const appInfo = await getAppInfo(appId, type);\n        setAppInfo(appInfo);\n      } catch (error) {\n        setAppInfo({ Error: error });\n      }\n    }\n    fetchData();\n  }, [appId, type, setAppInfo]);\n\n  React.useEffect(() => {\n    axios.get('https://itunes.apple.com/lookup?id=363590051').then(results => console.log({ results }));\n    handleGetAppInfo();\n  }, [handleGetAppInfo]);\n\n  return (\n    <div>\n      <Grid container spacing={2} alignItems='center'>\n        <Grid item>\n          <Text style={{ width: 400 }} value={appId} onChange={event => setAppId(event.target.value)} label='Enter Google Play App Id' />\n        </Grid>\n        <Grid item>\n          <AutoCompleteSelect\n            label='Select Store Type'\n            style={{ width: 200 }}\n            onChange={event => setType(event.target.value)}\n            value={type}\n            items={[\n              { label: 'Apple', value: 'apple' },\n              { label: 'Google Play', value: 'google' }\n            ]}\n          />\n        </Grid>\n        <Grid item>\n          <Button variant='contained' color='primary' onClick={handleGetAppInfo}>\n            Get Data\n          </Button>\n        </Grid>\n      </Grid>\n      <Box mt={2}>\n        <Typography variant='h5'>Results: </Typography>\n        <Box m={3}>\n          {JSON.stringify(appInfo)}\n          {JSON.stringify(appInfo)}\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { Features } from '../../../database/models/Application';\nimport { Chip, createStyles, emphasize, Grid, makeStyles, Typography } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    chip: {\n      borderRadius: 10,\n      minWidth: 280,\n      background: '#5FBA63',\n      color: palette.common.white\n    },\n    colorPrimary: {\n      background: palette.primary.dark,\n      color: palette.common.white,\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(palette.primary.dark, 0.08)\n      }\n    },\n\n    colorSecondary: {\n      background: '#5FBA63',\n      color: palette.common.white,\n      '&:hover, &:focus': {\n        backgroundColor: emphasize('#5FBA63', 0.08)\n      }\n    },\n    chipActive: {\n      minWidth: 280,\n      borderRadius: 10,\n      background: palette.primary.primary,\n      color: palette.common.white\n    }\n  })\n);\n\nexport default function MuliFeatureSelectCheck({\n  value = [],\n  onChange = undefined,\n  label = undefined,\n  placeholder = undefined,\n  fullWidth = true,\n  disabled = false,\n  size = 'small' as 'small',\n  items = [],\n  disableCloseOnSelect = true,\n  initialValue = undefined, // prevent passing down\n  InputProps = undefined,\n  ...other\n}) {\n  const classes = useStyles();\n  const handleChange = React.useCallback(\n    (f, isActive = false) => event => {\n      var newValue = value.filter(v => v !== f);\n      if (!isActive) {\n        newValue = newValue.concat(f);\n      }      \n      onChange && onChange({ target: { value: newValue } });\n    },\n    [value, onChange]\n  );\n\n  return (\n    <Grid container justify='flex-start' spacing={2}>\n      {Features.map(f => {\n        const isActive = value.find(v => v === f);\n        const iconStyle = { color: 'white' };\n        const StartIcon = isActive ? Icons.Check : Icons.Add;\n        return (\n          <Grid item>\n            <Chip\n              color={isActive ? 'primary' : 'secondary'}\n              classes={{ colorPrimary: classes.colorPrimary, colorSecondary: classes.colorSecondary }}\n              className={isActive ? classes.chipActive : classes.chip}\n              onClick={handleChange(f, isActive)}\n              icon={<StartIcon style={iconStyle} />}\n              label={<Typography style={{ minWidth: 200 }}>{f}</Typography>}\n            />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button } from '@material-ui/core';\nimport { useFullScreen } from '../../hooks';\nimport useFilterList from '../../database/useFilterList';\nimport TableSearchV2 from '../application/GenericTable/TableSearchV2';\nimport MultiSelectCheck from '../application/DialogField/MultiSelectCheck';\nimport { Platforms } from '../../database/models/Application';\nimport { useChangeRoute } from '../layout/hooks';\nimport { publicUrl } from '../../helpers';\nimport { useTableValues } from '../application/GenericTable/store';\n\nconst padding = 32;\nconst spacing = 1;\nconst borderRadius = 7;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette, spacing, layout }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryButton: {\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    }\n  })\n);\n\nexport default function SearchHeader({ title = 'App Library', state, setState = undefined }) {\n  const [, setValues] = useTableValues('Applications');\n\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  const handleChange = React.useCallback(\n    id => (event: any) => {\n      const value = event?.target?.value;\n      setState(prev => ({ ...prev, [id]: value }));\n    },\n    [setState]\n  );\n\n  // Sets the associated values in the redux store\n  const setTableState = React.useCallback(() => {\n    const { searchtext, ...filters } = state;\n    setValues(prev => ({ searchtext, filters: { ...prev.filters, ...filters } }));\n    // eslint-disable-next-line\n  }, [setValues, JSON.stringify(state)]);\n\n  const changeRoute = useChangeRoute();\n\n  const handleSearch = React.useCallback(() => {\n    setTableState();\n    changeRoute(publicUrl('/Apps'));\n  }, [changeRoute, setTableState]);\n\n  return (\n    <Grid container className={classes.header}>\n      <Grid item xs={12}>\n        <Typography variant='h1' className={classes.primaryText}>\n          {title}\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container style={{ marginTop: 8 }} alignItems='center' spacing={spacing}>\n          <Grid item xs={12} sm style={{ marginTop: -4 }}>\n            <Grid container spacing={spacing}>\n              <Grid item xs>\n                <TableSearchV2 value={state['searchtext']} onChange={handleChange('searchtext')} placeholder='Search by name, feature or platform' />\n              </Grid>\n              <Grid item xs={sm ? 12 : undefined} style={{ minWidth: sm ? undefined : 360 }}>\n                <MultiSelectCheck\n                  value={state['Platforms']}\n                  onChange={handleChange('Platforms')}\n                  placeholder={state['Platforms']?.length > 0 ? 'Platforms' : 'All Platforms'}\n                  InputProps={{ style: { background: 'white' } }}\n                  items={Platforms.map(label => ({ value: label, label })) as any}\n                  fullWidth={true}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={sm ? 12 : undefined} style={{ textAlign: 'right' }}>\n            <Button className={classes.primaryButton} onClick={handleSearch}>\n              Search\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button, Container } from '@material-ui/core';\nimport useComponentSize from '@rehooks/component-size';\nimport { useFullScreen } from '../../hooks';\nimport useFilterList from '../../database/useFilterList';\nimport MultiFeatureSelect from '../application/DialogField/MultiFeatureSelect';\nimport { Features } from '../../database/models/Application';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport { publicUrl } from '../../helpers';\nimport SearchHeader from './SearchHeader';\nimport ArrowButton from '../general/ArrowButton';\n\nconst padding = 32;\nconst spacing = 1;\nconst borderRadius = 7;\nconst minHeight = 200;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette, spacing, layout }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    features: {\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryButton: {\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    secondaryButton: {\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.light,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    secondaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.common.white\n    },\n    searchFilters: {\n      ...getMobilePadding(breakpoints),\n      minHeight,\n      background: palette.primary.dark,\n      color: palette.common.white,\n      borderRadius\n    },\n    rateAnApp: {\n      ...getMobilePadding(breakpoints),\n      minHeight,\n      background: palette.secondary.light,\n      borderRadius\n    },\n    arrowRight: {\n      color: palette.primary.light\n    },\n    primaryTextSmall: {\n      fontWeight: 900,\n      color: palette.primary.dark\n    }\n  })\n);\n\nexport const variableFilters = [\n  {\n    key: 'Cost',\n    availableFilters: ['Totally Free'],\n    stepKey: 'Free'\n  },\n  {\n    key: 'Privacy',\n    availableFilters: ['Has Privacy Policy', 'App Declares Data Use and Purpose'],\n    stepKey: 'YesNoPrivacy'\n  },\n  {\n    key: 'Functionalities',\n    availableFilters: ['Email or Export Your Data'],\n    stepKey: 'YesNoFunctionality'\n  }\n];\n\nexport default function HomeV2() {\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n\n  const [state, setState] = React.useState({ searchtext: '', Platforms: [], Features: [] });\n\n  const handleChange = React.useCallback(\n    id => (event: any) => {\n      const value = event?.target?.value;\n      setState(prev => ({ ...prev, [id]: value }));\n    },\n    [setState]\n  );\n\n  /*\n  const handleClearAll = React.useCallback(\n    (id, value) => () => {\n      setState(prev => ({ ...prev, [id]: value }));\n    },\n    [setState]\n  );\n  */\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const FeatureSection = (\n    <Grid container className={classes.features} spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='h6'>Search by Features</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container spacing={spacing}>\n          <Grid item xs={12}>\n            <Grid container spacing={spacing}>\n              <Grid item xs>\n                <Container maxWidth='xl'>\n                  <MultiFeatureSelect\n                    value={state['Features']}\n                    onChange={handleChange('Features')}\n                    items={Features.map(label => ({ value: label, label })) as any}\n                    fullWidth={true}\n                  />\n                </Container>\n              </Grid>\n            </Grid>\n          </Grid>\n          {/*<Grid item xs={12} style={{ textAlign: 'right' }}>\n            <Button onClick={handleClearAll('Features', [])} className={classes.primaryButton}>\n              Clear All\n            </Button>\n          </Grid>\n  */}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  const Cards = (\n    <Grid container className={classes.features} spacing={3}>\n      <Grid item xs={12} sm={6}>\n        <Grid container style={{ height }} alignItems='center' spacing={spacing} className={classes.searchFilters}>\n          <Grid item xs={12}>\n            <Typography variant='h1' className={classes.secondaryText}>\n              See all 88 Search Filters\n            </Typography>\n          </Grid>\n          <Grid item xs={sm ? 12 : undefined}>\n            <Button className={classes.secondaryButton} onClick={handleChangeRoute(publicUrl('/Apps'))}>\n              Search Filters\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <Grid ref={ref} container alignItems='center' spacing={spacing} className={classes.rateAnApp}>\n          <Grid item xs={12}>\n            <Typography variant='h5' style={{ fontWeight: 900 }}>\n              Interested in rating an app?\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography>\n              Our database is sourced by app reviews from trained app raters. Rating an app is an interactive process. Raters will be prompted through 105\n              different questions about an app and its features, privacy settings, clinical foundations and more.\n            </Typography>\n          </Grid>\n          <Grid item xs={sm ? 12 : undefined} style={{ textAlign: 'right' }}>\n            <ArrowButton label='Rate an App' onClick={handleChangeRoute(publicUrl('/RateAnApp'))} />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  return (\n    <>\n      <SearchHeader title='Explore relevant apps and reviews' state={state} setState={setState} />\n      {FeatureSection}\n      {Cards}\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/appEvaluationModel.69666d6d.webp\";","import * as React from 'react';\nimport { Grid, Typography, useTheme } from '@material-ui/core';\n\nexport default function QuestionSample({ title, color = 'white', background, rows = [] }) {\n  const theme = useTheme();\n\n  return (\n    <Grid container>\n      <Grid item>\n        <Typography style={{ background, borderRadius: 8, padding: '4px 8px', color }}>{title}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <ul style={{ marginLeft: -24, fontSize: 12, fontWeight: 700, color: theme.palette.text.secondary }}>\n          <Grid container spacing={1}>\n            {rows.map((text, i) => (\n              <Grid key={`qs-${i}`} item xs={12}>\n                <li>\n                  <Typography style={{ fontWeight: 700, fontSize: 14 }} color='textSecondary'>\n                    {text}\n                  </Typography>\n                </li>\n              </Grid>\n            ))}\n          </Grid>\n        </ul>\n      </Grid>\n    </Grid>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/0.bab94368.png\";","export default __webpack_public_path__ + \"static/media/1.b1d46bac.png\";","export default __webpack_public_path__ + \"static/media/2.7d08dea4.png\";","export default __webpack_public_path__ + \"static/media/3.10991c2c.png\";","export default __webpack_public_path__ + \"static/media/4.47c636c4.png\";","export default __webpack_public_path__ + \"static/media/5.84f857f2.png\";","export default __webpack_public_path__ + \"static/media/6.7d54fd60.png\";","export default __webpack_public_path__ + \"static/media/7.aa2dec08.png\";","export default __webpack_public_path__ + \"static/media/8.bfd163f2.png\";","export default __webpack_public_path__ + \"static/media/9.01297078.png\";","export default __webpack_public_path__ + \"static/media/10.753ac763.png\";","export default __webpack_public_path__ + \"static/media/11.6d1f2421.png\";","import * as React from 'react';\nimport { Box, Grid, makeStyles, createStyles, Paper, Divider, Typography, useTheme } from '@material-ui/core';\nimport DialogButton from '../application/GenericDialog/DialogButton';\n\nimport i0 from '../../images/questions/0.png';\nimport i1 from '../../images/questions/1.png';\nimport i2 from '../../images/questions/2.png';\nimport i3 from '../../images/questions/3.png';\nimport i4 from '../../images/questions/4.png';\nimport i5 from '../../images/questions/5.png';\nimport i6 from '../../images/questions/6.png';\nimport i7 from '../../images/questions/7.png';\nimport i8 from '../../images/questions/8.png';\nimport i9 from '../../images/questions/9.png';\nimport i10 from '../../images/questions/10.png';\nimport i11 from '../../images/questions/11.png';\nimport { useFullScreen } from '../../hooks';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {},\n    button: {\n      height: 60,\n      width: 240\n    }\n  })\n);\n\nconst images = [i0, i1, i2, i3, i4, i5, i6, i7, i8, i9, i10, i11];\n\nexport default function ObjecttiveQuestions() {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const [index, setIndex] = React.useState(0);\n\n  const handleNext = React.useCallback(() => setIndex(prev => prev + 1), [setIndex]);\n  const handleBack = React.useCallback(() => setIndex(prev => prev - 1), [setIndex]);\n\n  const hidden = !useFullScreen('xs');\n\n  return (\n    <>\n      <Grid container item xs={12} justify='space-between' alignItems='center' spacing={2}>\n        <Grid container item justify='center' xs>\n          <DialogButton\n            disabled={index <= 0 ? true : false}\n            className={classes.button}\n            size='large'\n            variant='outlined'\n            tooltip='Click to View Previous'\n            Icon={null}\n            onClick={handleBack}\n            disabledColor={theme.palette.text.disabled}\n          >\n            Back\n          </DialogButton>\n        </Grid>\n        {hidden && (\n          <Grid item xs>\n            <Typography align='center' color='textSecondary'>\n              {index + 1} of {images.length}\n            </Typography>\n          </Grid>\n        )}\n        <Grid container item justify='center' xs>\n          <DialogButton\n            disabled={index >= images.length - 1 ? true : false}\n            className={classes.button}\n            size='large'\n            variant='outlined'\n            tooltip='Click to View Next'\n            Icon={null}\n            onClick={handleNext}\n            disabledColor={theme.palette.text.disabled}\n          >\n            Next\n          </DialogButton>\n        </Grid>\n      </Grid>\n      <Box mt={2} mb={2}>\n        <Divider />\n      </Box>\n      <Grid container item xs={12} justify='space-between' spacing={2}>\n        <Grid item>\n          <Paper>\n            <img style={{ width: '100%' }} src={images[index]} alt={`slide-${index}`} />\n          </Paper>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { DialogContent } from '@material-ui/core';\nimport ExploreQuestions from '../../../pages/ExploreQuestions';\n\nexport const title = 'Explore Questions';\n\nexport default function ExploreQuestionsDialog({ id = title }) {\n  return (\n    <GenericDialog id={id} title={id} submitLabel={null} cancelLabel='Close' maxWidth='lg'>\n      <DialogContent dividers>\n        <ExploreQuestions />\n      </DialogContent>\n    </GenericDialog>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Box, useTheme } from '@material-ui/core';\nimport { useFullScreen } from '../../../hooks';\nimport appEvaluationModel from '../../../images/appEvaluationModel.webp';\nimport QuestionSample from './QuestionSample';\nimport * as ExploreQuestionsDialog from '../../application/GenericDialog/ExploreQuestions';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport ReactPlayer from 'react-player';\nimport { useWidth } from '../../layout/store';\nconst videoPath = require('../../../content/zoom_1.mp4').default;\nconst videoPath2 = require('../../../content/zoom_0.mp4').default;\n\nconst padding = 32;\nconst width = 300;\nconst headerSpacing = 3;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    whiteHeader: {\n      background: palette.common.white,\n      color: palette.primary.dark,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    greyHeader: {\n      background: palette.secondary.light,\n      color: palette.primary.light,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryText: {\n      fontSize: 32,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    primaryLightText: {\n      fontSize: 32,\n      fontWeight: 900,\n      color: palette.primary.light\n    },\n    primaryLight: {\n      color: palette.primary.light\n    },\n    primaryTextSmall: {\n      fontSize: 22,\n      color: palette.primary.dark\n    },\n    white: {\n      color: palette.common.white\n    }\n  })\n);\n\nexport default function FrameworkQuestionsV2() {\n  const classes = useStyles();\n  var sm = useFullScreen('sm');\n  const theme = useTheme();\n  const vw = useWidth();\n\n  const Framework = (\n    <Grid container className={classes.whiteHeader} spacing={headerSpacing}>\n      <Grid item style={{ width }}>\n        <Typography className={classes.primaryText}>Framework</Typography>\n      </Grid>\n      <Grid item xs>\n        <Typography className={classes.primaryTextSmall}>\n          There are an estimated ten thousand mental health apps available today, offering a range of possibilities from connection with a clinicain to symptom\n          monitoring. Apps can be useful in care, but it's important to be cautious about choosing a suitable app.\n        </Typography>\n      </Grid>\n    </Grid>\n  );\n\n  const m = 4;\n  const HowChoose = (\n    <Box m={m}>\n      <Grid container className={classes.greyHeader} spacing={headerSpacing}>\n        <Grid item style={{ width: width - m * 8 }}>\n          <Typography className={classes.primaryLightText}>How do you choose the right app?</Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography variant='h6' display='inline' color='textPrimary'>\n            So how do you choose an app from the many options? The best way is to start by identifying your priorities: how do you want to engage with the app?\n            Whate features are you looking for? Is there a particular standard of privacy you are seeking? Recognizing that app choice is a personal decision\n            based on many individual factors,{' '}\n          </Typography>\n          <Typography variant='h6' display='inline' color='textPrimary' style={{ fontWeight: 900 }}>\n            the goal of this database is to equip users with the information necessary to make a decision based on the app characteristics that matter most to\n            them.\n          </Typography>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n\n  const AppRegulation = (\n    <Grid container className={classes.whiteHeader} spacing={headerSpacing}>\n      <Grid item style={{ width }}>\n        <Typography className={classes.primaryText}>App Regulation</Typography>\n      </Grid>\n      <Grid item xs>\n        <Typography variant='h6' color='textPrimary'>\n          The United States Food and Drug Administration (FDA) has taken a \"hands-off\" approach towards regulating apps. This lack of oversight means that not\n          all available apps are safe and effective, and some may even pose significant dangers to users.\n        </Typography>\n        <Box mt={4}>\n          <ul style={{ fontSize: 19, fontWeight: 500, color: theme.palette.text.secondary }}>\n            <Grid container spacing={4}>\n              {[\n                'Many claims made by apps have not been evaluated in feasibility or efficacy trials.',\n                'Some apps may even sell personal data without clearly disclosing it to users.',\n                'Apps may offer incorrect or misleading information, including potentially harmful recommendations.  Without stringent regulations, some apps may not securely protect the personal information that they collect.',\n                'Apps continue to emerge and evolve, there are still many unknowns about the efficacy of technology-based interventions.'\n              ].map((text, i) => (\n                <Grid key={`text1-${i}`} item xs={sm ? 12 : 6}>\n                  <li>\n                    <Typography variant='h6' color='textSecondary'>\n                      {text}\n                    </Typography>\n                  </li>\n                </Grid>\n              ))}\n            </Grid>\n          </ul>\n        </Box>\n      </Grid>\n    </Grid>\n  );\n\n  const ReviewApproach = (\n    <Grid container className={classes.whiteHeader} spacing={headerSpacing}>\n      <Grid item style={{ width }}>\n        <Typography className={classes.primaryText}>Our review approach</Typography>\n      </Grid>\n      <Grid item xs>\n        <Typography variant='h6' color='textPrimary'>\n          Each app's entry in the database is informed by 105 objective questions based on the American Psychiatric Association's App Evaluation Model, which\n          introduces Accessibility, Privacy & Security, Clinical Foundation, Engagement Style, and Interoperability as major categories to consider.\n        </Typography>\n        <Box textAlign='center' p={4}>\n          <img\n            style={{\n              height: 400\n            }}\n            src={appEvaluationModel}\n            alt='app-evaluation-model'\n          />\n        </Box>\n        <Box mt={4}>\n          <ol style={{ fontSize: 19, fontWeight: 500, color: theme.palette.text.secondary }}>\n            <Grid container spacing={4}>\n              {[\n                'Accessibility: Is the app accessible for a user?',\n                'Privacy & Security: Does the app uphold user safety, security, and privacy by protecting data?',\n                'Clinical Foundation: Is the app supported by research?',\n                'Engagement Style: Is the app usable and customizable?',\n                'Data Sharing Towards Therapeutic Goal: How easily can the app share data in a clinically meaningful way?'\n              ].map((text, i) => (\n                <Grid key={`text2-${i}`} item xs={sm ? 12 : 6}>\n                  <li style={{ paddingLeft: 4 }}>\n                    <Typography variant='h6' color='textSecondary'>\n                      {text}\n                    </Typography>\n                  </li>\n                </Grid>\n              ))}\n            </Grid>\n          </ol>\n        </Box>\n      </Grid>\n    </Grid>\n  );\n\n  const ObjectiveQuestions = (\n    <Grid container className={classes.whiteHeader} spacing={headerSpacing}>\n      <Grid item style={{ width }}>\n        <Typography className={classes.primaryText}>105 Objective Questions</Typography>\n      </Grid>\n      <Grid item xs>\n        <Typography variant='h6' color='textPrimary'>\n          While the APA model provides a useful model through which to consider health apps and make informed decisions, it may be overwhelming for a single\n          clinician during a short clinical visit to attempt to rigorously analyze the many apps that may be relevant to an individual with a particular\n          condition and preferences. To make this framework functional and actionable for the public use, we adapted the questions for inclusion in a database,\n          ultimately including 105 objective questions.\n        </Typography>\n        <Box mt={4}>\n          <Typography variant='h6' color='textPrimary'>\n            While answering 105 questions about an app is of course not a rapid process, the end product of an easily searchable and updatable database enabling\n            users to immediately sort apps according to the presence or absence of different features relevant to each unique clinical case is appealing. As\n            with the APA model, there is no single score assigned to an app; rather, the database enables customization in consideration of various app aspects.\n            A user of the database will not have to sort through the 105 questions and will instead see an easily interpretable view of app attributes.\n          </Typography>\n        </Box>\n      </Grid>\n    </Grid>\n  );\n\n  const QuestionSamples = (\n    <Box m={4}>\n      <Grid container justify='space-evenly' className={classes.greyHeader} spacing={headerSpacing}>\n        <Grid item xs={12}>\n          <Typography className={classes.primaryLightText}>Question Samples</Typography>\n        </Grid>\n        {[\n          {\n            title: 'Accessibility',\n            background: '#2278CF',\n            rows: ['Who is the app developer?', 'How much does the app cost?', 'Does it work offline and with accessibility features?']\n          },\n          {\n            title: 'Privacy and Security',\n            background: '#EA447B',\n            rows: ['Is there a privacy policy?', 'What security measures are in place?', 'What kind of user data does the app collect and is that data shared?']\n          },\n          {\n            title: 'Inputs and Outputs',\n            background: '#FABF40',\n            rows: [\"What are the app's inputs and outputs?\", 'What information does the app take in, and what is returned to the user?']\n          },\n          {\n            title: 'Clinical Foundation',\n            background: '#31429D',\n            rows: ['Is the app evidence-based?', 'Does it accomplish what it claims to do?', 'Does it work offline and with accessibility features']\n          },\n          {\n            title: 'Engagement Style',\n            background: '#D1169D',\n            rows: ['What features does the app have?', 'How does a user engage with the app?']\n          },\n          {\n            title: 'Interoperability & Sharing',\n            background: '#FD4B4B',\n            rows: ['Is the app able to share data with external parties, like family and providers?']\n          }\n        ].map(({ title, background, rows }, i) => (\n          <Grid key={`text3-${i}`} item style={{ width: 280 }}>\n            <QuestionSample title={title} background={background} rows={rows} />\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n\n  const ExploreQuestions = (\n    <Grid container className={classes.header} spacing={headerSpacing}>\n      <Grid item xs={12}>\n        <Grid container alignItems='center' alignContent='center'>\n          <Grid item xs>\n            <Typography className={classes.primaryText}>Explore the Questions</Typography>\n            <Typography style={{ marginTop: 8 }} variant='h6' className={classes.white}>\n              Want to learn more about the questions that are answered about each app in the database? View all 105 questions in this presentation.\n            </Typography>\n          </Grid>\n          <Grid item style={{ width, textAlign: 'center' }}>\n            <DialogButton variant='primaryButton' tooltip='Click to Open' Module={ExploreQuestionsDialog}>\n              View Presentation\n            </DialogButton>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n\n  const Videos = (\n    <Grid container justify='space-evenly' className={classes.whiteHeader} spacing={headerSpacing}>\n      <Grid item xs={12}>\n        <Typography className={classes.primaryText}>Video Resources</Typography>\n      </Grid>\n      {[\n        {\n          title: 'Instructional Video:',\n          description:\n            'Rating an app is an interactve process. Raters will be prompted through 105 different questions about an app and its features, prvacy settings, clinical foundation, and more.',\n          url: videoPath2\n        },\n        {\n          title: 'Actional App Evaluation Video:',\n          description: 'Objective Standards to Guide Assessment and Implementation of Digital Health Intervations.',\n          url: videoPath\n        }\n      ].map(({ title, description, url }, i) => (\n        <Grid item key={`text4-${i}`}>\n          <Box style={{ width: Math.min(vw - 32, 640) }}>\n            <Box pb={2}>\n              <ReactPlayer url={url} controls={true} width={Math.min(vw - 32, 640)} />\n            </Box>\n            <Typography variant='h6' className={classes.primaryLight}>\n              {title}\n            </Typography>\n            <Typography color='textSecondary'>{description}</Typography>\n          </Box>\n        </Grid>\n      ))}\n    </Grid>\n  );\n\n  return (\n    <Grid container justify='center' style={{ padding: sm ? 8 : 24 }} spacing={sm ? 1 : 4}>\n      {[Framework, HowChoose, AppRegulation, ReviewApproach, ObjectiveQuestions, QuestionSamples, ExploreQuestions, Videos].map((C, i) => (\n        <Grid key={`gi-${i}`} item>\n          {C}\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Link, Typography, Box, Divider, Button, Grid } from '@material-ui/core';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport { publicUrl } from '../../helpers';\nimport { useSignedIn } from '../../hooks';\nimport ReactPlayer from 'react-player';\nimport { useWidth } from '../layout/store';\n\nconst contentPath = require('../../content/zoom_0.mp4').default;\n\nexport default function RateNewAppIntro() {\n  const handleChangeRoute = useHandleChangeRoute();\n  const signedIn = useSignedIn();\n  const width = useWidth();\n\n  return (\n    <Box pt={2}>\n      <Typography variant='h4' align='center'>\n        {`Rate a New App`}\n      </Typography>\n      <Divider />\n      <Box mt={3}>\n        <Typography variant='h6' align='center'>\n          {`Rating an app is an interactive process. Raters will be prompted through 105 different questions about an app and its features, privacy settings, clinical foundation, and more. For more information about how to become an app rater, please contact:`}\n          <Typography variant='h6' align='center' noWrap component='div'>\n            <Link href='mailto:slagan@bidmc.harvard.edu' target='_blank'>\n              slagan@bidmc.harvard.edu\n            </Link>\n          </Typography>\n        </Typography>\n      </Box>\n      <Box mt={3} mb={3}>\n        <Typography align='center'>\n          <Button disabled={!signedIn} size='large' color='primary' variant='contained' onClick={handleChangeRoute(publicUrl('/RateNewApp'))}>\n            Begin Rating\n          </Button>\n        </Typography>\n      </Box>\n      <Divider />\n      <Box pt={2}>\n        <Grid container justify='center'>\n          <Grid item xs={12}>\n            <Typography variant='h6' align='center'>\n              Instructional Video\n            </Typography>\n          </Grid>\n          <Grid item style={{ paddingTop: 16 }} xs={12}>\n            <Grid container justify='center'>\n              <Grid item>\n                <ReactPlayer url={contentPath} controls={true} width={Math.min(width - 32, 640)} />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button } from '@material-ui/core';\nimport { useFullScreen } from '../../../hooks';\nimport useFilterList from '../../../database/useFilterList';\nimport { useHeaderHeightRef } from '../../layout/hooks';\n\nconst padding = 32;\nconst borderRadius = 7;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryButton: {\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    secondaryText: {\n      fontSize: 20,\n\n      color: palette.common.white\n    }\n  })\n);\n\nexport default function RateNewAppHeader({ onSave = undefined, onReset = undefined }) {\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  return (\n    <Grid ref={useHeaderHeightRef()} container className={classes.header}>\n      <Grid item xs={12}>\n        <Typography variant='h1' className={classes.primaryText}>\n          Rate an App\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container style={{ marginTop: 8 }} alignItems='center' spacing={4}>\n          <Grid item xs={12} sm style={{ marginTop: -4 }}>\n            <Typography className={classes.secondaryText}>\n              On the following pages, you will be guided through each of the 105 questions. You will be able to save your progress as a draft.\n            </Typography>\n          </Grid>\n          <Grid item xs={sm ? 12 : undefined} style={{ textAlign: 'right' }}>\n            <Grid container spacing={2}>\n              {onReset && (\n                <Grid item>\n                  <Button className={classes.primaryButton} onClick={onReset}>\n                    Reset Form\n                  </Button>\n                </Grid>\n              )}\n              {onSave && (\n                <Grid item>\n                  <Button className={classes.primaryButton} onClick={onSave}>\n                    Save as Draft\n                  </Button>\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, createStyles } from '@material-ui/styles';\nimport { Grid, Step, MobileStepper, Collapse, Chip, CircularProgress, useTheme, CardActions, Box } from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport merge from 'deepmerge';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport CheckIcon from '@material-ui/icons/CheckCircleOutline';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { isEnabled, useValues, isError, useStepFields } from './helpers';\nimport Fields from './Fields';\nimport OnActivate from './OnActivate';\nimport ErrorGate from './ErrorGate';\nimport RateNewAppHeader from '../../pages/RateNewApp/RateNewAppHeader';\nimport { publicUrl } from '../../../helpers';\nimport { useChangeRoute } from '../../layout/hooks';\n\nconst useStyles = makeStyles(({ spacing, palette, layout }: any) =>\n  createStyles({\n    dialog: {\n      display: 'flex',\n      flexDirection: 'column',\n      outline: 'none',\n      border: `5px solid ${palette.primary}`\n    },\n    capitalize: {\n      textTransform: 'capitalize'\n    },\n    dialogActions: {\n      margin: 0,\n      padding: spacing(1),\n      paddingTop: spacing(0.5),\n      paddingBottom: spacing(0.5)\n    },\n    dialogTitle: {\n      background: palette.primary.main,\n      color: palette.common.white,\n      maxHeight: 22\n    },\n    closeButton: {\n      color: 'inherit'\n    },\n    deleteButton: {\n      color: palette.common.white,\n      background: palette.error.main,\n      '&:hover': {\n        background: palette.error.dark\n      }\n    },\n    mobileStepper: {\n      flexGrow: 1,\n      background: 'white',\n      width: 320\n    },\n    submitProgress: {\n      color: palette.primary.light,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -(layout.progressSize / 2),\n      marginLeft: -(layout.progressSize / 2)\n    },\n    stepSummary: {\n      background: palette.background.default\n    }\n  })\n);\n\nexport interface FieldProps {\n  id: string | number;\n  label: string;\n  type: string;\n  Field?: Element;\n  getValue?: (f: FieldProps, values: any) => any;\n}\n\nexport interface ComponentProps {\n  id: string;\n  title: string;\n  initialValues?: object;\n  cancelLabel: string;\n  deleteLabel: string;\n  submitLabel: string;\n  SubmitIcon?: any;\n  draggable: boolean;\n  onSubmit: any;\n  onDelete: any;\n  validate: any;\n  steps: any[];\n  fullHeight: boolean;\n  values: any;\n  setValues: any;\n  header?: boolean;\n  onChange?: any;\n  showActions?: boolean;\n  FieldActions?: any;\n  elevation?: any;\n}\n\nconst GenericStepper = ({\n  id,\n  title: Title, // Title can be set via the state as well as the input props, state takes priority\n  initialValues: InitialValues = {}, // If initial values are provided they are merged with the initial values from the state\n  draggable = false,\n  cancelLabel = 'Cancel',\n  deleteLabel = 'Delete',\n  submitLabel = 'Finish',\n  SubmitIcon = CheckIcon,\n  maxWidth = 'xs',\n  steps = [] as any[],\n  onSubmit,\n  onDelete,\n  onClose,\n  validate,\n  fullHeight = true,\n  values: externalValues,\n  setValues: externalSetValues,\n  onChange,\n  header = true,\n  showActions = true,\n  elevation = 3,\n  FieldActions = undefined,\n  disableInitialize = undefined,\n  ...other\n}: ComponentProps & any) => {\n  const { layout } = useTheme() as any;\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [state, setState] = useDialogState(id);\n  const { type, open, submitting, loading, showErrors } = state;\n  const setShowErrors = React.useCallback(show => setState(prev => ({ ...prev, showErrors: show })), [setState]);\n  const title = state.title ? state.title : Title;\n  const fields = useStepFields(steps);\n\n  const { values, setValues, hasChanged, errors, mapField, initializeValues } = useValues({\n    open,\n    fields,\n    InitialValues,\n    state,\n    setState,\n    validate,\n    externalValues,\n    externalSetValues,\n    onChange,\n    disableInitialize\n  });\n\n  // Re-initialize values when necessary\n  React.useEffect(() => {\n    open && setActiveStep(0);\n    open && setConfirmDelete(false);\n  }, [open]);\n\n  const handleReset = React.useCallback(() => {\n    setActiveStep(0);\n    setConfirmDelete(false);\n    initializeValues();\n  }, [setActiveStep, setConfirmDelete, initializeValues]);\n\n  const classes = useStyles({});\n\n  const activeSteps = steps.filter(s => isEnabled(typeof s.enabled === 'function' ? s.enabled(values) : s.enabled));\n  const currentStep = (activeSteps && activeSteps[activeStep]) || {};\n  const stepValidate = currentStep.validate;\n\n  const activeErrorCount = currentStep.fields ? currentStep.fields.filter(f => isError(f, values, errors)).length : 0;\n\n  const values_s = JSON.stringify(values);\n  const handleSubmit = React.useCallback(() => {\n    if (activeErrorCount > 0) {\n      setShowErrors(true);\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), handleReset, false);\n    }\n  }, [activeErrorCount, setShowErrors, onSubmit, values_s, handleReset]);\n\n  const changeRoute = useChangeRoute();\n\n  const onSaveSuccess = React.useCallback(() => {\n    handleReset();\n    changeRoute(publicUrl('/MyRatings'));\n    alert('Draft saved!');\n  }, [changeRoute, handleReset]);\n\n  const handleSaveDraft = React.useCallback(() => {\n    if (activeErrorCount > 0) {\n      alert('Error saving, please fix errors and try again.');\n      setShowErrors(true);\n    } else {\n      onSubmit && onSubmit(JSON.parse(values_s), onSaveSuccess, true);\n    }\n  }, [activeErrorCount, setShowErrors, onSubmit, values_s, onSaveSuccess]);\n\n  const handleDelete = React.useCallback(() => {\n    onDelete && onDelete(JSON.parse(values_s));\n  }, [onDelete, values_s]);\n\n  const handleConfirmDelete = React.useCallback(() => setConfirmDelete(prev => !prev), [setConfirmDelete]);\n\n  const handleNext = React.useCallback(() => {\n    if (activeErrorCount > 0) {\n      setShowErrors(true);\n    } else {\n      const next = (newValues = undefined) => {\n        newValues && setValues(prev => merge(prev, newValues));\n        showErrors && setShowErrors(false);\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n      };\n      stepValidate ? stepValidate(JSON.parse(values_s), next) : next();\n    }\n  }, [setShowErrors, setValues, showErrors, stepValidate, setActiveStep, activeErrorCount, values_s]);\n\n  const handleBack = React.useCallback(() => setActiveStep(prevActiveStep => prevActiveStep - 1), [setActiveStep]);\n\n  const inProgress = loading || submitting;\n  const disabled = inProgress || errors['loading'];\n\n  return (\n    <>\n      <RateNewAppHeader onSave={handleSaveDraft} onReset={handleReset} />\n\n      {title !== null && (\n        <>\n          {!confirmDelete && (\n            <CardActions className={classes.stepSummary}>\n              <Grid container style={{ paddingLeft: 12, paddingRight: 12 }} alignItems='center'>\n                <Grid item zeroMinWidth xs>\n                  <Typography noWrap color='textPrimary' variant='body1'>\n                    {currentStep.label ? currentStep.label : currentStep.id}\n                  </Typography>\n                </Grid>\n                {activeSteps.length > 1 && (\n                  <Grid item>\n                    <Chip color='primary' label={`${activeStep + 1} of ${activeSteps.length}`} />\n                  </Grid>\n                )}\n              </Grid>\n            </CardActions>\n          )}\n          <Divider />\n        </>\n      )}\n      <Box mt={5} mb={5}>\n        <ErrorGate error={errors['loading']}>\n          {inProgress && <CircularProgress size={layout.progressSize} className={classes.submitProgress} />}\n          <Collapse in={!confirmDelete}>\n            {activeSteps.map(({ Template, fields = [], label, onActivate }, i) => {\n              const FieldsComponent = Template ?? Fields;\n              return (\n                <Collapse key={i} in={activeStep === i}>\n                  <Step key={label}>\n                    <OnActivate key={label} index={i} activeIndex={activeStep} onActivate={onActivate} values={values} setValues={setValues}>\n                      <Grid container alignItems='center' spacing={1}>\n                        <FieldsComponent fields={fields} mapField={mapField} values={values} state={state} setState={setState} setValues={setValues} />\n                        {FieldActions ? (\n                          <Grid item xs={12}>\n                            <FieldActions handleNext={handleNext} handleBack={handleBack} handleSubmit={handleSubmit} activeStep={activeStep} />\n                          </Grid>\n                        ) : (\n                          <></>\n                        )}\n                      </Grid>\n                    </OnActivate>\n                  </Step>\n                </Collapse>\n              );\n            })}\n          </Collapse>\n          {confirmDelete && (\n            <Grid container spacing={2} justify='center' alignItems='center'>\n              <Grid item>\n                <Button onClick={handleConfirmDelete} color='secondary'>\n                  Cancel\n                </Button>\n              </Grid>\n              <Grid item>\n                <Button onClick={handleDelete} className={classes.deleteButton}>\n                  <DeleteIcon style={{ marginRight: 4 }} />\n                  Confirm {deleteLabel}\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n        </ErrorGate>\n      </Box>\n      <Grid container justify='center'>\n        <Grid item>\n          <MobileStepper\n            variant='dots'\n            steps={activeSteps.length}\n            position='static'\n            activeStep={activeStep}\n            className={classes.mobileStepper}\n            nextButton={\n              activeStep === activeSteps.length - 1 ? (\n                <Button color='primary' size='small' variant='contained' disabled={!hasChanged || disabled} onClick={handleSubmit}>\n                  {submitLabel}\n                  <SubmitIcon style={{ marginLeft: 4 }} />\n                </Button>\n              ) : (\n                <>\n                  <Button color='primary' size='small' variant='contained' onClick={handleNext} disabled={disabled}>\n                    Next\n                    <KeyboardArrowRight />\n                  </Button>\n                </>\n              )\n            }\n            backButton={\n              activeStep === 0 && type === 'Edit' && onDelete !== undefined ? (\n                <Button className={classes.deleteButton} size='small' variant='contained' onClick={handleConfirmDelete} disabled={disabled}>\n                  <DeleteIcon style={{ marginRight: 4 }} />\n                  {deleteLabel}\n                </Button>\n              ) : (\n                <Button size='small' onClick={handleBack} disabled={activeStep === 0 || disabled}>\n                  <KeyboardArrowLeft />\n                  Back\n                </Button>\n              )\n            }\n          />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default GenericStepper;\n","import React from 'react';\nimport { useDialogState } from '../useDialogState';\nimport Application from '../../../../database/models/Application';\nimport { tables } from '../../../../database/dbConfig';\nimport { useProcessData } from '../../../../database/useProcessData';\nimport { uuid, publicUrl } from '../../../../helpers';\nimport GenericStepper from '../GenericStepper';\nimport steps from './steps';\nimport { useChangeRoute } from '../../../layout/hooks';\nimport { useSelector } from 'react-redux';\nimport { Box } from '@material-ui/core';\nimport { useAppData } from '../../GenericTable/Applications/selectors';\n\nexport const title = 'Rate an App V2';\n\nexport interface ComponentProps {\n  id?: string;\n  onClose?: () => any;\n}\n\nexport default function RateNewAppCardV2({ id = title, onClose }: ComponentProps) {\n  const [{ type }, setDialogState] = useDialogState(id);\n  const data = useAppData('');\n  const [_steps, setSteps] = React.useState(steps(type, data));\n  React.useEffect(() => {\n    setSteps(steps(type, data));\n    // eslint-disable-next-line\n  }, [type, JSON.stringify(data)]);\n\n  const processData = useProcessData();\n  const changeRoute = useChangeRoute();\n\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n  const uid = useSelector((s: any) => s.layout.user?.username);\n\n  const handleProcessData = (values, Action, handleReset = undefined, draft = undefined) => {\n    const application: Application = values[tables.applications];\n    const timestamp = new Date().getTime();\n\n    if (Action === 'c') {\n      application._id = uuid(); // If creating a new, generate the id client side so it can be linked to the rating\n      application.groupId = uuid(); // Also create a group id so we can keep track of the history more easily\n      application.created = timestamp;\n    }\n\n    application.updated = timestamp;\n\n    setDialogState(prev => ({ ...prev, loading: true }));\n\n    processData({\n      Model: tables.applications,\n      Action,\n      Data: { ...application, email, uid, draft },\n      onError: () => setDialogState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n      onSuccess: () => {\n        handleReset && handleReset();\n        changeRoute(publicUrl('/MyRatings'));\n        handleClose();\n      }\n    });\n  };\n\n  const handleSubmit = (values, handleReset, draft) => {\n    handleProcessData(values, type === 'Edit' ? 'u' : 'c', handleReset, draft);\n  };\n  const handleDelete = values => handleProcessData(values, 'd');\n\n  const handleClose = React.useCallback(() => {\n    setDialogState(prev => ({ ...prev, open: false, submitting: false, errors: {} }));\n    onClose && onClose();\n  }, [setDialogState, onClose]);\n\n  return (\n    <Box mb={1}>\n      <GenericStepper id={id} title={title} onSubmit={handleSubmit} onDelete={handleDelete} steps={_steps} onClose={onClose} open={true} />;\n    </Box>\n  );\n}\n","import * as React from 'react';\nimport RateNewAppCardV2, { title } from '../../application/GenericDialog/RateNewApp/RateNewAppCardV2';\nimport { useDialogState } from '../../application/GenericDialog/useDialogState';\n\nexport function RateExistingApp() {\n  const [, setState] = useDialogState(title);\n\n  const handleReset = React.useCallback(() => {\n    setState({\n      type: 'Add',\n      open: false\n    });\n    setState({\n      type: 'Add',\n      open: true\n    });\n  }, [setState]);\n\n  return <RateNewAppCardV2 onClose={handleReset} />;\n}\n\nexport default function RateNewAppV2(props) {\n  const [, setState] = useDialogState(title);\n  React.useEffect(() => {\n    setState({\n      type: 'Add',\n      open: true\n    });\n  }, [setState]);\n\n  return <RateExistingApp {...props} />;\n}\n","import * as React from 'react';\nimport { createStyles, Grid, IconButton, Link, makeStyles, Paper, Typography } from '@material-ui/core';\nimport { useWidth } from '../layout/store';\nimport Carousel from 'react-elastic-carousel';\nimport * as Icons from '@material-ui/icons';\nimport { grey } from '@material-ui/core/colors';\n\nconst Arrow = ({ type, onClick }) => {\n  const Icon = type === 'PREV' ? Icons.NavigateBefore : Icons.NavigateNext;\n  return (\n    <Grid container style={{ maxWidth: 64 }} spacing={0} justify='center' direction='column'>\n      <Grid item>\n        <IconButton onClick={onClick}>\n          <Icon style={{ color: '#38B6FF' }} fontSize='large' />\n        </IconButton>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    paper: {\n      background: grey[50],\n      margin: 8,\n      padding: 4,\n      paddingBottom: 0,\n      '&:hover': {\n        background: palette.primary.light\n      }\n    },\n    link: {\n      outline: 'none'\n    }\n  })\n);\n\nexport default function ImageCarousel({ images = [] }) {\n  const width = useWidth();\n  var imageWidth = Math.max(225, Math.min(width * 0.2, 225));\n\n  if (width < 400) {\n    imageWidth = width * 0.4;\n  }\n\n  const itemsToShow = Math.floor((width * 0.7) / imageWidth);\n\n  const classes = useStyles();\n  return (images?.length ?? []) <= 0 ? (\n    <Typography color='textSecondary' align='center'>\n      No images available\n    </Typography>\n  ) : (\n    <Carousel focusOnSelect={false} renderPagination={() => <></>} renderArrow={Arrow} itemsToShow={itemsToShow} isRTL={false}>\n      {images.map((ss, i) => (\n        <Link key={i} href={ss} underline='always' target='_blank' variant='body1' color='primary' className={classes.link}>\n          <Paper elevation={4} className={classes.paper}>\n            <img style={{ width: imageWidth, borderRadius: 3 }} src={ss} alt={`slide-${i}`} />\n          </Paper>\n        </Link>\n      ))}\n    </Carousel>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Box, Paper } from '@material-ui/core';\nimport { getDayTimeFromTimestamp, isEmpty } from '../../helpers';\nimport ExpandableCategories from '../application/GenericTable/ApplicationsList/ExpandableCategories';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryLightText: {\n      fontWeight: 700,\n      color: palette.primary.light\n    },\n    bold: {\n      fontWeight: 900,\n      color: palette.common.black\n    }\n  })\n);\n\nexport default function ViewAppRating(props) {\n  const classes = useStyles();\n  const { updated, created, email } = props;\n\n  return (\n    <Paper style={{ padding: 24, paddingTop: 8 }}>\n      <Grid container justify='space-between' alignItems='center' spacing={0}>\n        <Grid item xs>\n          <Grid container spacing={1}>\n            <Grid item>\n              <Typography color='textSecondary' variant='caption'>\n                Last Updated:\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography noWrap className={classes.primaryLightText} variant='caption'>\n                {updated ? getDayTimeFromTimestamp(updated) : created ? getDayTimeFromTimestamp(created) : ''}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <div style={{ textAlign: 'right' }}>\n            <Grid container spacing={1}>\n              <Grid item>\n                <Typography color='textSecondary' variant='caption'>\n                  By:\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography noWrap className={classes.primaryLightText} variant='caption'>\n                  {email}\n                </Typography>\n              </Grid>\n            </Grid>\n          </div>\n        </Grid>\n      </Grid>\n      <Grid container style={{ marginTop: 4 }} justify='space-between' alignItems='center' spacing={2}>\n        <Grid item xs={12}>\n          <Typography variant='body1' className={classes.bold}>\n            Qualitative Review\n          </Typography>\n          <Typography variant='caption'>{`This review represents the view of the app rater and is not an endorsement by MIND.`}</Typography>\n          <Box mt={1}>\n            <Typography variant='body2'>{isEmpty(props.review) ? 'Not available' : props.review}</Typography>\n          </Box>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant='body1' className={classes.bold}>\n            Qualitative Ratings\n          </Typography>\n        </Grid>\n        {/*<Grid item>\n          <ArrowButton size='small' variant='body2' label='Read Review' onClick={() => alert('To be completed')} />\n        </Grid>\n        */}\n      </Grid>\n      <ExpandableCategories {...props} isExpandable={false} titleVariant='body2' />\n    </Paper>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleLink } from '../../hooks';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    container: {\n      cursor: 'pointer'\n    },\n    arrowRight: {\n      color: palette.primary.light,\n      fontSize: 19,\n      marginTop: 1\n    },\n    primaryTextSmall: {\n      fontWeight: 900\n    }\n  })\n);\n\nexport default function ArrowButtonCaption({ size = 'small' as any, variant = 'caption' as any, label, link }) {\n  const classes = useStyles();\n  const handleClick = useHandleLink(link);\n  return (\n    <Grid container className={classes.container} spacing={1} onClick={handleClick}>\n      <Grid item>\n        <Typography variant={variant} className={classes.primaryTextSmall} color='textSecondary'>\n          {label}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Icons.ArrowRightAlt className={classes.arrowRight} />\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles } from '@material-ui/core';\nimport DialogButton, { EditDialogButton } from '../application/GenericDialog/DialogButton';\nimport PlatformButtons from '../application/GenericTable/ApplicationsSummary/PlatformButtons';\nimport { getDayTimeFromTimestamp, isEmpty, publicUrl, uuid } from '../../helpers';\nimport { getAppName, getAppCompany, getAppIcon } from '../application/GenericTable/Applications/selectors';\nimport { tables } from '../../database/dbConfig';\nimport * as SuggestEditDialog from '../application/GenericDialog/SuggestEdit';\nimport ArrowButtonCaption from '../general/ArrowButtonCaption';\nimport { useSignedIn } from '../../hooks';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../store';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryLightText: {\n      fontWeight: 700,\n      color: palette.primary.light\n    }\n  })\n);\n\nconst imageHeight = 144;\n\nexport default function ViewAppHeader({ app = {} as any, type = 'view' }) {\n  const classes = useStyles();\n  const {\n    _id,\n    privacies = [],\n    platforms,\n    androidLink,\n    iosLink,\n    webLink,\n    costs = [],\n    updated,\n    created,\n    feasibilityStudiesLink = undefined,\n    efficacyStudiesLink = undefined,\n    clinicalFoundations = []\n  } = app;\n\n  const initialValues = useSelector((s: AppState) => s.database.applications[_id]);\n  const name = getAppName(app);\n  const company = getAppCompany(app);\n  const icon = getAppIcon(app);\n  const signedIn = useSignedIn();\n\n  const handleChangeRoute = useHandleChangeRoute();\n  const hasSupportingStudies = clinicalFoundations.includes('Supporting Studies');\n\n  return (\n    <Grid container spacing={4}>\n      <Grid item style={{ width: imageHeight + 16 }}>\n        <img style={{ height: imageHeight, borderRadius: 15 }} src={icon} alt='logo' />\n      </Grid>\n      <Grid item xs>\n        <Grid container spacing={4}>\n          <Grid item zeroMinWidth xs>\n            <Grid container style={{ minWidth: 300 }}>\n              <Grid item xs={12}>\n                <Typography className={classes.primaryLightText} variant='h5'>\n                  {name || 'Unknown Name'}\n                </Typography>\n                <Typography color='textSecondary'>{company}</Typography>\n              </Grid>\n              <Grid item xs={12} style={{ marginTop: 8, marginBottom: 8 }}>\n                <PlatformButtons platforms={platforms} androidLink={androidLink} iosLink={iosLink} webLink={webLink} />\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography color='textSecondary' variant='caption'>\n                      Costs:\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography noWrap className={classes.primaryLightText} variant='caption'>\n                      {costs.length === 0 ? (\n                        'Unknown Cost'\n                      ) : costs.length > 2 ? (\n                        <DialogButton variant='link' size='small' Icon={null} tooltip={costs.join(' | ')}>\n                          Multiple Associated Costs\n                        </DialogButton>\n                      ) : (\n                        costs.join(' | ')\n                      )}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography color='textSecondary' variant='caption'>\n                      App Has Privacy Policy:\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography className={classes.primaryLightText} variant='caption'>\n                      {privacies.includes('Has Privacy Policy') ? 'Yes' : 'No'}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item style={{ width: 256 }}>\n        <Grid container spacing={1}>\n          {type !== 'survey' && (\n            <>\n              <Grid item xs={12}>\n                {signedIn ? (\n                  <EditDialogButton\n                    variant='primaryButton2'\n                    size='large'\n                    id='Rate an App V2'\n                    onClick={handleChangeRoute(publicUrl('/RateExistingApp'))}\n                    initialValues={{\n                      [tables.applications]: {\n                        ...initialValues,\n                        _id: uuid(),\n                        parent: initialValues._id,\n                        approved: false,\n                        approverEmail: undefined,\n                        created: new Date().getTime()\n                      }\n                    }}\n                    tooltip='Rate App'\n                    placement='bottom'\n                  >\n                    Submit New App Rating\n                  </EditDialogButton>\n                ) : (\n                  <DialogButton variant='primaryButton2' size='large' onClick={handleChangeRoute(publicUrl('/RateAnApp'))}>\n                    Rate an App\n                  </DialogButton>\n                )}\n              </Grid>\n              <Grid item xs={12} style={{ textAlign: 'right' }}>\n                <DialogButton\n                  Module={SuggestEditDialog}\n                  initialValues={{ [tables.applications]: initialValues }}\n                  variant='arrowButton'\n                  label='Flag/Suggest an Edit'\n                />\n              </Grid>\n            </>\n          )}\n          <Grid item xs={12}>\n            <Grid container>\n              <Grid item xs={12}>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography color='textSecondary' variant='caption'>\n                      Last Rating:\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography noWrap className={classes.primaryLightText} variant='caption'>\n                      {updated ? getDayTimeFromTimestamp(updated) : created ? getDayTimeFromTimestamp(created) : ''}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item>\n                <Grid container spacing={1}>\n                  <Grid item>\n                    <Typography color='textSecondary' variant='caption'>\n                      App Has Supported Studies:\n                    </Typography>\n                  </Grid>\n                  <Grid item>\n                    <Typography className={classes.primaryLightText} variant='caption'>\n                      {hasSupportingStudies ? 'Yes' : 'No'}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              {hasSupportingStudies && !isEmpty(feasibilityStudiesLink) && (\n                <Grid item>\n                  <ArrowButtonCaption label='See Feasability Studies' link={feasibilityStudiesLink} />\n                </Grid>\n              )}\n              {hasSupportingStudies && !isEmpty(efficacyStudiesLink) && (\n                <Grid item>\n                  <ArrowButtonCaption label='See Efficacy Studies' link={efficacyStudiesLink} />\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Divider, Box, Collapse, IconButton } from '@material-ui/core';\nimport { useFullScreen } from '../../hooks';\nimport DialogButton from '../application/GenericDialog/DialogButton';\nimport { useRouteState } from '../layout/store';\nimport { useHandleChangeRoute } from '../layout/hooks';\nimport { publicUrl } from '../../helpers';\nimport ExpandableDescription from '../application/GenericTable/ApplicationsSummary/ExpandableDescription';\nimport ImageCarousel from '../general/ImageCarousel';\nimport { useAppHistoryData } from '../application/GenericTable/ApplicationHistory/selectors';\nimport { Pagination, Alert, AlertTitle } from '@material-ui/lab';\nimport ViewAppRating from './ViewAppRating';\nimport * as Icons from '@material-ui/icons';\nimport ViewAppHeader from './ViewAppHeader';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryText: {\n      fontSize: 18,\n      fontWeight: 700,\n      color: palette.primary.dark\n    },\n    bold: {\n      fontWeight: 900,\n      color: palette.common.black\n    }\n  })\n);\n\nexport default function ViewApp() {\n  const classes = useStyles();\n  var sm = useFullScreen('sm');\n\n  const [state] = useRouteState();\n  const { app = {}, from } = state;\n  const { _id, appleStore, androidStore } = app;\n\n  const fromSurvey = from === 'Survey';\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const appleScreenshots = appleStore?.screenshots ?? [];\n  const androidScreenshots = androidStore?.screenshots ?? [];\n  const images = [...appleScreenshots, ...androidScreenshots];\n\n  const history = useAppHistoryData('N/A', _id);\n\n  const [page, setPage] = React.useState(1);\n\n  const handlePageChange = React.useCallback(\n    (event, page) => {\n      setPage(page);\n    },\n    [setPage]\n  );\n\n  const rating = history[page - 1];\n\n  const [open, setOpen] = React.useState(false);\n  React.useEffect(() => {\n    setTimeout(() => setOpen(true), 1000);\n  }, [setOpen]);\n\n  return (\n    <Grid container justify='center' style={{ padding: sm ? 16 : 32 }} spacing={2}>\n      <Grid item xs={12} style={{ cursor: 'pointer' }} onClick={handleChangeRoute(publicUrl('/Apps'), {})}>\n        <Typography>{`<   Back To Results`}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <ViewAppHeader app={app} />\n      </Grid>\n\n      <Grid item xs={12}>\n        <Divider />\n        <Collapse in={open}>\n          <Box mt={2}>\n            {fromSurvey ? (\n              <Alert\n                severity='success'\n                action={\n                  <IconButton\n                    aria-label='close'\n                    color='inherit'\n                    size='small'\n                    onClick={() => {\n                      setOpen(false);\n                    }}\n                  >\n                    <Icons.Close fontSize='inherit' />\n                  </IconButton>\n                }\n              >\n                Thank you for participating in our survey!\n              </Alert>\n            ) : (\n              <Alert\n                severity='success'\n                action={\n                  <IconButton\n                    aria-label='close'\n                    color='inherit'\n                    size='small'\n                    onClick={() => {\n                      setOpen(false);\n                    }}\n                  >\n                    <Icons.Close fontSize='inherit' />\n                  </IconButton>\n                }\n              >\n                <Grid container spacing={4} justify='space-between'>\n                  <Grid item>\n                    <AlertTitle>\n                      <strong>Are you currently using this App?</strong>\n                    </AlertTitle>\n                    If so, would you like to participate in a survey to help improve this web application?\n                  </Grid>\n                  <Grid item xs>\n                    <DialogButton\n                      onClick={handleChangeRoute(publicUrl('/Survey'), {\n                        app,\n                        mode: 'add',\n                        surveyType: 'Initial',\n                        surveyId: undefined,\n                        followUpSurveyType: undefined\n                      })}\n                      variant='surveyButton'\n                    >\n                      Click Here to Take Survey\n                    </DialogButton>\n                  </Grid>\n                </Grid>\n              </Alert>\n            )}\n          </Box>\n        </Collapse>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <Typography className={classes.bold}>Description from App Store, Not Vetted by MIND:</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ExpandableDescription maxDescription={2000} appleStore={appleStore} androidStore={androidStore} />\n          </Grid>\n          <Grid item xs={12}>\n            <Box mt={4} mb={4}>\n              <ImageCarousel images={images} />\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography className={classes.primaryText} variant='body1'>\n              Ratings and Reviews ({history.length})\n            </Typography>\n            <Typography variant='caption'>{`Explore the app's qualitative ratings & reviews`}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Box mt={2}>\n              {rating && <ViewAppRating {...rating.getValues()} />}\n            </Box>\n          </Grid>\n          {history.length > 1 && (\n            <Grid item xs={12}>\n              <Grid container justify='flex-end'>\n                <Pagination page={page} count={history.length} variant='outlined' shape='rounded' onChange={handlePageChange} />\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button, Box } from '@material-ui/core';\nimport Text from '../application/DialogField/Text';\nimport { emailUser } from '../../../package.json';\nimport { AWS } from '../../database/dbConfig';\n\nfunction sendEmail({ name, title, email, institution, details }) {\n  const emailAddress = emailUser;\n  const sourceEmailAddress = 'appmap@psych.digital';\n\n  const body = `A user is interested in app rating:\n    \n    <p>User Name: ${name}</p>\n    <p>Title: ${title}</p>\n    <p>User Email: ${email}</p>\n    <p>Institution: ${institution}</p>\n    <p>How did you hear about us?: ${details}</p>`;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [emailAddress]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: 'AppMapDB - App Rating Interest'\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      console.log(data.MessageId);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n    });\n}\n\nconst padding = 32;\nconst spacing = 1;\nconst borderRadius = 7;\nconst minHeight = 200;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette, spacing, layout }: any) =>\n  createStyles({\n    root: {\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryButton: {\n      header: {\n        background: palette.primary.light,\n        color: palette.common.white,\n        fontWeight: 900,\n        ...getMobilePadding(breakpoints)\n      },\n\n      borderRadius,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryText: {\n      fontSize: 32,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    container: {\n      ...getMobilePadding(breakpoints),\n      minHeight,\n      borderRadius\n    },\n    infoContainer: {\n      ...getMobilePadding(breakpoints),\n      minHeight,\n      background: palette.primary.light,\n      color: palette.common.white,\n      borderRadius\n    },\n    primaryLabel: {\n      color: palette.primary.dark\n    }\n  })\n);\n\nconst fields = {\n  name: { label: 'Full Name', placeholder: 'Full Name' },\n  title: { label: 'Title', placeholder: 'Title' },\n  email: { label: 'Email', placeholder: 'Email address' },\n  institution: { label: 'Institution:', placeholder: 'Institution name' },\n  details: { label: 'How did you hear about us?', placeholder: 'Enter information', multiline: true, rows: 3 }\n};\n\nexport default function RanAnApp() {\n  const classes = useStyles();\n\n  const [state, setState] = React.useState({});\n  const state_str = JSON.stringify(state);\n\n  const handleSend = React.useCallback(() => {\n    sendEmail(JSON.parse(state_str));\n    alert('We have received your request!  Thank you.');\n  }, [state_str]);\n\n  const handleChange = React.useCallback(\n    key => event => {\n      const { value } = event?.target;\n      setState(prev => ({ ...prev, [key]: value }));\n    },\n    [setState]\n  );\n\n  return (\n    <Grid container className={classes.root}>\n      <Grid item xs={12} sm={5} md={7} lg={8}>\n        <Grid container alignItems='center' spacing={spacing} className={classes.container}>\n          <Grid item xs={12}>\n            <Typography variant='h1' className={classes.primaryText}>\n              Rate An App\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography color='textSecondary'>\n              Our database is sourced by app reviews from trained app raters. Rating an app is an interactive process based on the principles of the American\n              Psychiatric Association's App Evaluation Model. Raters will be prompted through 105 different questions about an app and its features, privacy\n              settings, clinical foundations and more.\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Box mt={2}>\n              <Typography variant='h1' className={classes.primaryText}>\n                Our Review Approach\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography color='textSecondary'>\n              We welcome app raters from all backgrounds. The training program is an interactive, self-paced online process lasting about three hours, after\n              which trainees contribute their ratins to the database. Raters are integral members of the database community.\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={12} sm={7} md={5} lg={4}>\n        <Grid container alignItems='center' spacing={0} className={classes.infoContainer}>\n          <Grid item xs={12}>\n            <Typography variant='h5'>Interested in rating an app?</Typography>\n            <Typography variant='body2'>Fill out the following for and we'll get in touch with you.</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Grid container style={{ marginTop: 8, marginBottom: 8 }} alignItems='center' spacing={1}>\n              {Object.keys(fields).map(k => {\n                const { label, placeholder = '', multiline = false, rows = undefined } = fields[k];\n                return (\n                  <Grid item xs={12}>\n                    <Typography variant='body2' className={classes.primaryLabel}>\n                      {label}\n                    </Typography>\n                    <Text\n                      value={state[k]}\n                      onChange={handleChange(k)}\n                      placeholder={placeholder}\n                      rows={rows}\n                      multiline={multiline}\n                      margin='dense'\n                      InputProps={{ style: { background: 'white' } }}\n                    />\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Grid>\n          <Grid item xs={12} style={{ textAlign: 'center' }}>\n            <Button onClick={handleSend} className={classes.primaryButton}>\n              Send\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import * as React from 'react';\nimport { triggerResize, isEmpty } from '../../../helpers';\nimport { Tabs, Tab, Typography, createStyles, makeStyles, Container } from '@material-ui/core';\nimport useTabSelector from '../../application/Selector/useTabSelector';\nimport { useLocation } from 'react-router';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { useRouteState } from '../../layout/store';\n\nexport interface ComponentProps {\n  id?: string;\n  tab?: string;\n  tabs?: TabSelectorItem[];\n  orientation?: string;\n  labelColor?: any;\n  rounded?: boolean;\n  wrapped?: boolean;\n  minHeight?: number;\n  onChange?: any;\n  classes?: any;\n}\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    root: ({ rounded }) => ({\n      borderRadius: rounded ? undefined : 0,\n      padding: 0\n    }),\n    tabs: ({ minHeight }: any) => ({\n      minHeight,\n      borderRadius: 'inherit'\n    }),\n    indicator: {\n      background: palette.primary.main,\n      marginBottom: 4,\n      height: 60,\n      zIndex: 0,\n      borderRadius: 12\n    },\n    labelActive: {\n      color: 'white'\n    },\n    label: ({ labelColor }) => ({\n      color: palette.text.primary\n    }),\n    labelIcon: ({ minHeight }: any) => ({\n      zIndex: 1,\n      minHeight\n    }),\n    tabroot: ({ minHeight }: any) => ({\n      padding: 0,\n      zIndex: 1,\n      minWidth: 0,\n      minHeight\n    }),\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column',\n      borderRadius: 'inherit'\n    }\n  })\n);\n\nexport interface TabSelectorItem {\n  id: string;\n  label?: string;\n  icon?: any;\n  route?: any;\n  routeState?: any;\n  Component?: any;\n}\n\nconst TabSelectorTextToolBar = ({ id, tabs = [], labelColor = undefined, orientation, wrapped, minHeight = 64, rounded = true, onChange }: ComponentProps) => {\n  const classes = useStyles({ minHeight, rounded, labelColor });\n\n  const [tabSelector, setTabSelector] = useTabSelector(id);\n  const selected = tabSelector.value;\n\n  const [{ subRoute }] = useRouteState();\n\n  const { pathname } = useLocation();\n\n  const tabId = tabs[0] && tabs[0].id;\n  const tab = tabs.find(t => t.id === selected);\n  const tabRoute = tab?.route;\n  const tabSubRoute = tab?.routeState?.subRoute;\n  const tabToSelect = !(pathname === tabRoute && subRoute === tabSubRoute) && tabs.find(t => t.route === pathname && t?.routeState?.subRoute === subRoute);\n  const handleChangeRoute = useHandleChangeRoute();\n  const selectedId = selected ? selected : tabId;\n\n  React.useEffect(() => {\n    if (tabToSelect === undefined) {\n      setTabSelector({ value: tabToSelect });\n    } else {\n      isEmpty(selected) && setTabSelector({ value: tabId }); // Select the first tab by default when empty\n      tabToSelect && setTabSelector({ value: tabToSelect.id });\n    }\n    triggerResize();\n  }, [setTabSelector, selected, tabId, tabToSelect]);\n\n  React.useEffect(() => {\n    triggerResize(); //User has roated the device, so trigger a resize so the indicator updates correctly\n  }, [orientation]);\n\n  const handleChange = React.useCallback(\n    (event, value) => {\n      setTabSelector({ value });\n      onChange && onChange(value);\n    },\n    [setTabSelector, onChange]\n  );\n\n  const { value = undefined } = tabSelector;\n\n  return (\n    <Container className={classes.root}>\n      <Tabs variant='fullWidth' className={classes.tabs} scrollButtons='off' value={value} onChange={handleChange} classes={{ indicator: classes.indicator }}>\n        {!tabs ? (\n          <></>\n        ) : (\n          tabs.map((t: any) => (\n            <Tab\n              key={t.id}\n              onClick={handleChangeRoute(t.route, t?.routeState)}\n              classes={{\n                root: classes.tabroot,\n                labelIcon: classes.labelIcon,\n                wrapper: classes.wrapper,\n                wrapped: classes.labelIcon\n              }}\n              icon={t.icon && <t.icon style={{ marginBottom: 0 }} />}\n              value={t.id}\n              wrapped={wrapped}\n              label={\n                <Typography\n                  className={selectedId === t.id ? classes.labelActive : classes.label}\n                  variant='h6'\n                  style={{ maxWidth: `calc(100% - ${2}px)` }}\n                  noWrap={!wrapped}\n                >\n                  {t.label ? t.label : t.id}\n                </Typography>\n              }\n            />\n          ))\n        )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default TabSelectorTextToolBar;\n","import { useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport TabSelectorTextToolBar from '../../general/TabSelector/TabSelectorTextToolBar';\n\nconst tabs = [\n  { id: 'Pending Approvals', route: '/Admin', routeState: { subRoute: 'pending' } },\n  { id: 'Surveys', route: '/Admin', routeState: { subRoute: 'surveys' } }\n].filter(t => t);\n\nconst AdminLayoutSelector = ({ subRoute, ...other }) => {\n  const { palette } = useTheme();\n  return <TabSelectorTextToolBar id='AdminLayoutSelector' labelColor={palette.primary.dark} tabs={tabs} {...other} />;\n};\n\nexport default AdminLayoutSelector;\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button } from '@material-ui/core';\nimport { useFullScreen } from '../../hooks';\nimport useFilterList from '../../database/useFilterList';\nimport TableSearchV2 from '../application/GenericTable/TableSearchV2';\nimport MultiSelectCheck from '../application/DialogField/MultiSelectCheck';\nimport { Platforms } from '../../database/models/Application';\nimport { useTableValues } from '../application/GenericTable/store';\nimport { useHeaderHeightRef } from '../layout/hooks';\n\nconst padding = 32;\nconst spacing = 1;\n\nconst getMobilePadding = breakpoints => ({\n  padding,\n  fontWeight: 900,\n  [breakpoints.down('sm')]: {\n    padding: getPadding('sm')\n  },\n  [breakpoints.down('xs')]: {\n    padding: getPadding('xs')\n  }\n});\n\nconst getPadding = (bp, multiplier = 1) => (bp === 'sm' ? padding / 2 : bp === 'xs' ? padding / 3 : padding) * multiplier;\n\nconst useStyles = makeStyles(({ breakpoints, palette, spacing, layout }: any) =>\n  createStyles({\n    header: {\n      background: palette.primary.light,\n      color: palette.common.white,\n      fontWeight: 900,\n      ...getMobilePadding(breakpoints)\n    },\n    primaryText: {\n      fontSize: 30,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    primaryButton: {\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    }\n  })\n);\n\nexport default function SearchHeaderReduxPending({ title = 'Pending Approvals', showArchived = undefined, onToggleArchive = undefined }) {\n  const [{ searchtext, filters = {} }, setValues] = useTableValues('Applications');\n\n  const classes = useStyles();\n  useFilterList();\n\n  var sm = useFullScreen('sm');\n\n  const handleChange = React.useCallback(\n    id => (event: any) => {\n      const value = event?.target?.value;\n      if (id === 'searchtext') {\n        setValues(prev => ({ searchtext: value, filters: prev.filters }));\n      } else {\n        setValues(prev => ({ searchtext: prev.searchtext, filters: { ...prev.filters, [id]: value } }));\n      }\n    },\n    [setValues]\n  );\n\n  return (\n    <Grid ref={useHeaderHeightRef()} container className={classes.header}>\n      <Grid item xs={12}>\n        <Grid container justify='space-between'>\n          <Grid item xs>\n            <Typography variant='h1' className={classes.primaryText}>\n              {title}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Button className={classes.primaryButton} onClick={onToggleArchive}>\n              {showArchived ? 'Hide Archived' : 'Show Archived'}\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container style={{ marginTop: 8 }} alignItems='center' spacing={spacing}>\n          <Grid item xs={12} sm style={{ marginTop: -4 }}>\n            <Grid container spacing={spacing}>\n              <Grid item xs>\n                <TableSearchV2 value={searchtext} onChange={handleChange('searchtext')} placeholder='Search by name, feature or platform' />\n              </Grid>\n              <Grid item xs={sm ? 12 : undefined} style={{ minWidth: sm ? undefined : 360 }}>\n                <MultiSelectCheck\n                  value={filters['Platforms']}\n                  onChange={handleChange('Platforms')}\n                  placeholder={filters['Platforms']?.length > 0 ? 'Platforms' : 'All Platforms'}\n                  InputProps={{ style: { background: 'white' } }}\n                  items={Platforms.map(label => ({ value: label, label })) as any}\n                  fullWidth={true}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport DialogTableContent from '../DialogTableContent';\nimport { useAdminMode } from '../../../layout/store';\nimport { useDialogState } from '../useDialogState';\nimport * as tables from '../../GenericTable';\n\nexport const title = 'App History';\n\nconst Content = props => {\n  return <DialogTableContent Table={tables.ApplicationListHistoryV2} buttonPosition='bottom' title={title} {...props} />;\n};\n\nexport default function ApplicationHistoryDialogV2({ id = title, onClose, ...other }) {\n  const [{ initialValues }] = useDialogState(id);\n  const [adminMode, setAdminMode] = useAdminMode() as any;\n\n  // This hack forces a refresh of the data if the admin may have closed something\n  const handleClose = React.useCallback(() => {\n    if (adminMode) {\n      setAdminMode(false);\n      setAdminMode(true);\n    }\n    onClose && onClose();\n  }, [adminMode, setAdminMode, onClose]);\n  return (\n    <GenericDialog\n      id={id}\n      title={null}\n      maxWidth='xl'\n      cancelLabel='Close'\n      submitLabel={null}\n      Content={Content}\n      ContentProps={{ initialValues }}\n      onClose={handleClose}\n      {...other}\n    />\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { EditDialogButton } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport * as ApplicationHistoryDialogV2 from '../../GenericDialog/ApplicationHistoryDialogV2';\nimport * as ApplicationDialog from '../../GenericDialog/ApplicationDialog';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../../../../store';\nimport { tables } from '../../../../database/dbConfig';\nimport { useSignedIn } from '../../../../hooks';\nimport * as Icons from '@material-ui/icons';\n\nexport default function RatingsColumnPending({ _id }) {\n  const initialValues = useSelector((s: AppState) => s.database.applications[_id]);\n  const signedIn = useSignedIn();\n\n  return (\n    <Grid container alignItems='center' spacing={1}>\n      <Grid item>\n        <EditDialogButton\n          Module={ApplicationDialog}\n          variant='iconbutton'\n          mount={false}\n          Icon={Icons.Pageview}\n          initialValues={{ [tables.applications]: initialValues }}\n          tooltip='View Additional Application Info'\n          placement='bottom'\n        />\n      </Grid>\n      {signedIn && (\n        <Grid item>\n          <EditDialogButton\n            variant='iconbutton'\n            Module={RateNewAppDialog}\n            mount={false}\n            Icon={Icons.Edit}\n            initialValues={{ [tables.applications]: initialValues }}\n            tooltip='Edit'\n            placement='bottom'\n          />\n        </Grid>\n      )}\n      <Grid item>\n        <EditDialogButton\n          variant='iconbutton'\n          Module={ApplicationHistoryDialogV2}\n          mount={false}\n          Icon={Icons.Timeline}\n          initialValues={{ [tables.applications]: initialValues }}\n          tooltip='Open Ratings History'\n          placement='bottom'\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport RatingsColumnPending from './RatingsColumnPending';\nimport { Typography } from '@material-ui/core';\nimport { getDayTimeFromTimestamp } from '../../../../helpers';\nimport AppSummary from '../Applications/AppSummary';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nconst LastUpdated = ({ updated }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {updated ? getDayTimeFromTimestamp(updated) : ''}\n  </Typography>\n);\n\nconst RatedBy = ({ email }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {email}\n  </Typography>\n);\n\nexport const useColumns = ({ email }) => {\n  const columns = [\n    { name: 'app', header: 'Application', minWidth: 300, Cell: AppSummary, hoverable: false, sort: 'textLower' },\n    { name: 'email', header: 'Rated By', width: 240, Cell: RatedBy, hoverable: false, sort: 'textLower' },\n    {\n      name: 'updated',\n      header: 'Last Updated',\n      width: 225,\n      Cell: LastUpdated,\n      hoverable: false,\n      sort: 'decimal'\n    },\n    { name: 'rating', header: 'Rating', width: 180, Cell: RatingsColumnPending, hoverable: false }\n  ];\n\n  return columns;\n};\n","import React from 'react';\nimport GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport * as Icons from '@material-ui/icons';\nimport { renderDialogModule } from '../../GenericDialog/DialogButton';\nimport * as RateNewAppDialog from '../../GenericDialog/RateNewApp/RateNewAppDialog';\nimport { useColumns } from './columns';\nimport FilterButtonBottom from '../Applications/FilterButtonBottom';\nimport * as FilterPopover from '../../GenericPopover/Filter';\nimport { usePendingAppData } from '../Applications/selectors';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nexport const defaultApplicationsProps: GenericTableContainerProps = {\n  name,\n  dialogs: [renderDialogModule(RateNewAppDialog)],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nexport const ApplicationsPending = ({ showArchived = false, email = undefined, ...props }) => {\n  const columns = useColumns({email});\n  return (\n    <>\n      <FilterButtonBottom Module={FilterPopover} table={name} />\n      <GenericTableContainer {...defaultApplicationsProps} data={usePendingAppData(name, showArchived, email)} columns={columns} showScroll={true} {...props} />\n    </>\n  );\n};\n","import * as React from 'react';\nimport * as ApplicationHistoryDialogV2 from '../../application/GenericDialog/ApplicationHistoryDialogV2';\nimport * as ApplicationDialog from '../../application/GenericDialog/ApplicationDialog';\nimport { renderDialogModule } from '../../application/GenericDialog/DialogButton';\nimport { ApplicationsPending } from '../../application/GenericTable/ApplicationsPending/table';\nimport useAppTableDataTest from '../useAppTableDataTest';\n\nexport default function AppsPending({ height = undefined, showArchived = false }) {\n  const { handleRefresh } = useAppTableDataTest();\n\n  return (\n    <>\n      {renderDialogModule({ ...ApplicationHistoryDialogV2, onClose: handleRefresh })}\n      {renderDialogModule({ ...ApplicationDialog, onClose: handleRefresh })}\n      <ApplicationsPending height={height} showArchived={showArchived} />\n    </>\n  );\n}\n","import * as React from 'react';\nimport SearchHeaderReduxPending from '../SearchHeaderReduxPending';\nimport AppsPending from './AppsPending';\n\nexport default function AdminPendingApprovals({ height }) {\n  const [showArchived, setShowArchived] = React.useState(false);\n\n  const handleToggle = React.useCallback(() => {\n    setShowArchived(prev => !prev);\n  }, [setShowArchived]);\n  return (\n    <>\n      <SearchHeaderReduxPending showArchived={showArchived} onToggleArchive={handleToggle} />\n      <AppsPending height={height} showArchived={showArchived} />\n    </>\n  );\n}\n","import { surveyNotificationEmail } from '../../../../package.json';\nimport { AWS } from '../../../database/dbConfig';\nimport { hostAddress } from '../../../helpers';\n\nexport function sendSurveyNotificationEmail({ email, appName }) {\n  const sourceEmailAddress = 'appmap@psych.digital';\n\n  const body = `Notice: ${email} has submitted a survey for ${appName}.`;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [surveyNotificationEmail]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: 'MIND - Survey Completed Notification'\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      console.log(data.MessageId);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n    });\n}\n\nexport function sendSurveyEmail({ email }) {\n  const sourceEmailAddress = 'appmap@psych.digital';\n\n  const body = `Hi,\n    \n    <p>Thank you for agreeing to participate in our study! We look forward to hearing your thoughts about this app.</p>\n    <p>If you have any questions regarding this study, please contact Erica Camacho at ecamach1@bidmc.harvard.edu.</p>\n    <p></p>\n    <p>Best,</p>\n    <p>The Division of Digital Psychiatry</p>`;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: 'MIND - Survey Complete'\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      console.log(data.MessageId);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n    });\n}\n\nexport function sendSurveyFollowUpEmail({ email, appName, surveyId = '', appId, followUpSurveyType }) {\n  const sourceEmailAddress = 'appmap@psych.digital';\n\n  const body = `Hello,    \n    <p>Thank you for participating in our study! We appreciate hearing your thoughts about the application: ${appName}. Would you be willing to participate in a follow up survey?  Please <a href=\"${hostAddress(\n    `/Survey?surveyId=${surveyId}&followUpSurveyType=${followUpSurveyType}&appId=${appId}`\n  )}\">click here to participate in the ${followUpSurveyType} Follow Up Survey!</a></p>\n    <p></p>\n    <p>Best,</p>\n    <p>The Division of Digital Psychiatry</p>`;\n\n  // Create sendEmail params\n  var params = {\n    Destination: {\n      /* required */ CcAddresses: [],\n      ToAddresses: [email]\n    },\n    Message: {\n      /* required */\n      Body: {\n        /* required */\n        Html: {\n          Charset: 'UTF-8',\n          Data: body\n        },\n        Text: {\n          Charset: 'UTF-8',\n          Data: body\n        }\n      },\n      Subject: {\n        Charset: 'UTF-8',\n        Data: `MIND - ${followUpSurveyType} Survey Follow Up`\n      }\n    },\n    Source: sourceEmailAddress /* required */,\n    ReplyToAddresses: [sourceEmailAddress]\n  };\n\n  // Create the promise and SES service object\n  var sendPromise = new AWS.SES({ apiVersion: '2010-12-01' }).sendEmail(params).promise();\n\n  // Handle promise's fulfilled/rejected states\n  sendPromise\n    .then(function (data) {\n      console.log(data.MessageId);\n    })\n    .catch(function (err) {\n      console.error(err, err.stack);\n    });\n}\n","import React from 'react';\nimport * as Icons from '@material-ui/icons';\nimport { Grid, Typography } from '@material-ui/core';\nimport { getDayTimeFromTimestamp, publicUrl, uuid } from '../../../../helpers';\nimport AppSummary from '../Applications/AppSummary';\nimport DialogButton from '../../GenericDialog/DialogButton';\nimport { useHandleChangeRoute } from '../../../layout/hooks';\nimport { getAppName } from '../Applications/selectors';\nimport { sendSurveyFollowUpEmail } from '../../../pages/Survey/sendSurveyEmail';\nimport { tables } from '../../../../database/dbConfig';\nimport useProcessData from '../../../../database/useProcessData';\n\nexport const name = 'Applications';\nconst center = text => <div style={{ textAlign: 'center' }}>{text}</div>;\n\nexport const CenterRadio = ({ checked = false }) => {\n  const Icon = checked ? Icons.RadioButtonChecked : Icons.RadioButtonUnchecked;\n  return center(<Icon color='action' fontSize='small' />);\n};\n\nconst LastUpdated = ({ updated }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {updated ? getDayTimeFromTimestamp(updated) : ''}\n  </Typography>\n);\n\nconst LastReminderSent = ({ lastReminderSent }) => (\n  <Typography variant='body2' color='textSecondary'>\n    {lastReminderSent ? getDayTimeFromTimestamp(lastReminderSent) : ''}\n  </Typography>\n);\n\nconst RatedBy = (props = {}) => (\n  <Typography variant='body2' color='textSecondary'>\n    {props['What is the best email address we can reach you at?']}\n  </Typography>\n);\n\nconst Actions = ({ _id = undefined, parentId = undefined, surveyType = undefined, followUpCompleted = undefined, app = {} as any, ...other } = {}) => {\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const email = other['What is the best email address we can reach you at?'];\n  const appName = getAppName(app);\n\n  const processData = useProcessData();\n\n  const followUpSurveyType = surveyType === 'Initial' ? '2 Week' : surveyType === '2 Week' ? '6 Week' : 'Unknown';\n\n  const handleFollowUp = () => {\n    const reminderId = uuid();\n    sendSurveyFollowUpEmail({ email, appName, surveyId: _id, appId: app._id, followUpSurveyType });\n    processData({ Model: tables.surveyReminders, Data: { _id: reminderId, surveyId: _id, email, appId: app._id, appName, time: new Date().getTime() } });\n    alert('Follow up email sent');\n  };\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item>\n        <DialogButton\n          variant='link'\n          underline='always'\n          onClick={handleChangeRoute(publicUrl('/Survey'), {\n            _id,\n            app,\n            // For view, manually set the follow up survey type since we are viewing the existing record\n            surveyType,\n            mode: 'view'\n          })}\n        >\n          View\n        </DialogButton>\n      </Grid>\n      {surveyType !== '6 Week' && (\n        <Grid item>\n          <DialogButton variant='link' underline='always' onClick={handleFollowUp} disabled={followUpCompleted === 'True'}>\n            {followUpCompleted === 'True' ? `${followUpSurveyType} Follow Up Completed` : `Send ${followUpSurveyType} Reminder`}\n          </DialogButton>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nconst AppSummaryMapped = ({ app, ...other }) => <AppSummary {...app} {...other} />;\n\nexport const useColumns = () => {\n  const columns = [\n    { name: 'app', header: 'Application', minWidth: 300, Cell: AppSummaryMapped, hoverable: false, sort: 'textLower' },\n    { name: 'surveyType', header: 'Survey Type', width: 140, sort: 'text' },\n    { name: 'actions', header: 'Actions', width: 240, Cell: Actions },\n    {\n      name: 'lastReminderSent',\n      header: 'Last Reminder Sent',\n      width: 225,\n      Cell: LastReminderSent,\n      hoverable: false,\n      sort: 'decimal'\n    },\n    { name: 'email', header: 'Submitted By', width: 240, Cell: RatedBy, hoverable: false, sort: 'textLower' },\n    {\n      name: 'updated',\n      header: 'Last Updated',\n      width: 225,\n      Cell: LastUpdated,\n      hoverable: false,\n      sort: 'decimal'\n    }\n  ];\n\n  return columns;\n};\n","import * as React from 'react';\nimport { AppState } from '../../../../store';\nimport Application from '../../../../database/models/Application';\nimport { isEmpty, getDayTimeFromTimestamp, sortDescending } from '../../../../helpers';\nimport { useTableFilter } from '../helpers';\nimport { dynamo, tables } from '../../../../database/dbConfig';\nimport { AndroidStoreProps } from '../../DialogField/AndroidStore';\nimport { AppleStoreProps } from '../../DialogField/AppleStore';\nimport logo from '../../../../images/default_app_icon.png';\nimport { useSelector } from 'react-redux';\nimport { useSurveys } from '../../../../database/useSurveys';\nimport { useSurveyReminders } from '../../../../database/useSurveyReminders';\n\nexport const getAppName = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.name)\n    ? app.name\n    : androidStore && !isEmpty(androidStore.title)\n    ? androidStore.title\n    : appleStore && !isEmpty(appleStore.title)\n    ? appleStore.title\n    : app.name;\n};\n\nexport const getAppCompany = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.company)\n    ? app.company\n    : androidStore && !isEmpty(androidStore.developer)\n    ? androidStore.developer\n    : appleStore && !isEmpty(appleStore.developer)\n    ? appleStore.developer\n    : app.company;\n};\n\nexport const getAppIcon = (app: Application) => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.icon)\n    ? app.icon\n    : androidStore && !isEmpty(androidStore.icon)\n    ? androidStore.icon\n    : appleStore && !isEmpty(appleStore.icon)\n    ? appleStore.icon\n    : logo;\n};\n\nexport const useSurveyData = table => {\n  const surveys = useSelector((s: AppState) => s.database[tables.surveys] ?? {});\n  const surveyReminders = useSelector((s: AppState) => s.database[tables.surveyReminders] ?? {});\n\n  const [, setRows] = useSurveys();\n  const [, setReminderRows] = useSurveyReminders();\n\n  // Load data from the database\n  React.useEffect(() => {\n    const getItems = async () => {\n      let scanResults = [];\n      let items;\n      var params = {\n        TableName: tables.surveys,\n        ExclusiveStartKey: undefined\n      };\n      do {\n        items = await dynamo.scan(params).promise();\n        items.Items.forEach(i => scanResults.push(i));\n        params.ExclusiveStartKey = items.LastEvaluatedKey;\n      } while (typeof items.LastEvaluatedKey != 'undefined');\n      setRows(\n        scanResults.reduce((f, c: any) => {\n          f[c._id] = c;\n          return f;\n        }, {})\n      );\n    };\n    getItems();\n  }, [setRows]);\n\n  // Load data from the database\n  React.useEffect(() => {\n    const getItems = async () => {\n      let scanResults = [];\n      let items;\n      var params = {\n        TableName: tables.surveyReminders,\n        ExclusiveStartKey: undefined\n      };\n      do {\n        items = await dynamo.scan(params).promise();\n        items.Items.forEach(i => scanResults.push(i));\n        params.ExclusiveStartKey = items.LastEvaluatedKey;\n      } while (typeof items.LastEvaluatedKey != 'undefined');\n      setReminderRows(\n        scanResults.reduce((f, c: any) => {\n          f[c._id] = c;\n          return f;\n        }, {})\n      );\n    };\n    getItems();\n  }, [setReminderRows]);\n\n  var data = surveys\n    ? Object.keys(surveys).map(k => {\n        const survey = surveys[k];\n        const { app = {}, surveyType } = survey;\n\n        const surveyReminderKeys = Object.keys(surveyReminders)\n          .filter(k => surveyReminders[k].surveyId === survey._id)\n          .sort((a, b) => sortDescending(surveyReminders[a].time, surveyReminders[b].time)) as any;\n\n        const surveyReminder = !isEmpty(surveyReminderKeys[0]) ? surveyReminders[surveyReminderKeys[0]] : {};\n\n        const lastReminderSent = !isEmpty(surveyReminder?.time) ? surveyReminder?.time : undefined;\n        const searchableProps = {\n          app: getAppName(app),\n          lastReminderSent,\n          updated: app.updated ? getDayTimeFromTimestamp(app.updated) : undefined,\n          company: getAppCompany(app),\n          costs: app.costs?.join(' '),\n          platforms: app.platforms?.join(' '), // for searching\n          features: app.features?.join(' '), // for searching\n          functionalities: app.functionalities?.join(' '),\n          engagements: app.engagements?.join(' '),\n          inputs: app.inputs?.join(' '),\n          outputs: app.outputs?.join(' '),\n          conditions: app.conditions?.join(' '),\n          privacies: app.privacies?.join(' '),\n          uses: app.uses?.join(' '),\n          clinicalFoundations: app.clinicalFoundations,\n          developerTypes: app.developerTypes\n        };\n\n        const followUpCompleted = surveyType === '6 Week' ? 'N/A' : Object.keys(surveys).find(k => surveys[k].parentId === survey._id) ? 'True' : 'False';\n\n        return {\n          _id: survey._id,\n          app,\n          surveyType,\n          followUpCompleted,\n          ...searchableProps,\n          getSearchValues: () => {\n            return Object.keys(searchableProps).reduce((f, c) => (f = [f, searchableProps[c]].join(' ')), ''); // Optimize search performance\n          },\n          getValues: () => ({ ...survey, followUpCompleted, surveyType, lastReminderSent }),\n          email: survey['What is the best email address we can reach you at?'],\n          created: survey.created,\n          updated: survey.updated\n        };\n      })\n    : [];\n\n  return useTableFilter(data, table);\n};\n","import { tables } from './dbConfig';\nimport { useTableState } from './useTableState';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../store';\n\nexport const useSurveys = () => useTableState(tables.surveys);\nexport const useSurvey = id => useSelector((state: AppState) => (state.database[tables.surveys] ?? {})[id]);\n","import { tables } from './dbConfig';\nimport { useTableState } from './useTableState';\nimport { useSelector } from 'react-redux';\nimport { AppState } from '../store';\n\nexport const useSurveyReminders = () => useTableState(tables.surveyReminders);\nexport const useSurveyReminder = id => useSelector((state: AppState) => (state.database[tables.surveyReminders] ?? {})[id]);\n","import * as React from 'react';\nimport { Box, FormControl, FormControlLabel, FormHelperText, Radio as MuiRadio, RadioGroup, Typography } from '@material-ui/core';\nimport { isError } from '../../../helpers';\nimport OutlinedDiv from '../../general/OutlinedDiv/OutlinedDiv';\n\nconst RadioRow = ({\n  items,\n  value = '',\n  label,\n  variant,\n  error,\n  margin = 'dense' as 'dense',\n  onChange,\n  forceErrorMargin,\n  initialValue = undefined,\n  disabled = false,\n  ...other\n}) => (\n  <FormControl component='fieldset' variant={variant} error={isError(error)} fullWidth margin={margin} disabled={disabled}>\n    <Box mb={1}>\n      <Typography variant='body2'>{label}</Typography>\n    </Box>\n    <OutlinedDiv>\n      <RadioGroup row onChange={onChange} value={value} {...other}>\n        {items.map(i => (\n          <FormControlLabel key={i.value} value={i.value} control={<MuiRadio size='small' />} label={<Typography variant='body2'>{i.label}</Typography>} />\n        ))}\n      </RadioGroup>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </OutlinedDiv>\n  </FormControl>\n);\n\nexport default RadioRow;\n","import React from 'react';\nimport { useUserEmail } from '../../layout/hooks';\nimport { isEmpty, uuid } from '../../../helpers';\nimport { useEffect } from 'react';\nimport { useDatabaseRow } from '../../../database/useTableState';\nimport { tables } from '../../../database/dbConfig';\nimport useProcessData from '../../../database/useProcessData';\n\nconst useSurvey = ({ type = 'create', trigger = false, values: Values = undefined } = {}) => {\n  const email = useUserEmail();\n\n  var initialValues = Values ?? {};\n\n  const _id = initialValues?._id;\n\n  const [cachedValues] = useDatabaseRow(tables.surveys, _id);\n\n  if (!isEmpty(_id) && !isEmpty(cachedValues)) {\n    initialValues = { ...initialValues, ...cachedValues }; // Load cached values if present, for faster page loads\n  }\n\n  const [values, setValues] = React.useState(initialValues);\n  const [errors, setErrors] = React.useState({});\n  const [loading, setLoading] = React.useState(false);\n\n  const processData = useProcessData();\n  const getRow = React.useCallback(\n    (_id, onSuccess = undefined) => {\n      setLoading(true);\n      processData({\n        Action: 'r',\n        Model: tables.surveys,\n        Snackbar: null,\n        Data: {\n          _id\n        } as any,\n        onSuccess: result => {\n          setValues(result.Item);\n          setLoading(false);\n          onSuccess && onSuccess(result);\n        },\n        onError: err => {\n          setLoading(false);\n        }\n      });\n    },\n    [processData]\n  );\n\n  const updateRow = React.useCallback(\n    ({ row, onSuccess: OnSuccess, onError: OnError }) => {\n      setLoading(true);\n      processData({\n        Action: 'u',\n        Model: tables.surveys,\n        Snackbar: null,\n        Data: {\n          ...row\n        } as any,\n        onSuccess: result => {\n          setValues(result?.Item);\n          setLoading(false);\n          OnSuccess && OnSuccess(result);\n        },\n        onError: err => {\n          setLoading(false);\n          OnError && OnError(err);\n        }\n      });\n    },\n    [processData]\n  );\n\n  useEffect(() => {\n    trigger === true && type === 'view' && _id && getRow(_id);\n  }, [trigger, _id, type, getRow]);\n\n  const handleSave = React.useCallback(\n    async ({ values: Values = undefined, onSuccess = undefined, onError = undefined, idKey = '_id', validate }) => {\n      const row = { ...(Values ?? values) };\n\n      if (type === 'create') {\n        row[idKey] = uuid();\n        row.created = new Date().getTime();\n        row.createdBy = email;\n      } else {\n        row.updated = new Date().getTime();\n        row.updatedBy = email;\n      }\n\n      setErrors({});\n      const newErrors = validate ? validate(values) : {};\n      if (Object.keys(newErrors).length > 0) {\n        setErrors(newErrors);\n        onError && onError(newErrors);\n      } else {\n        updateRow({\n          row,\n          onSuccess: result => {\n            onSuccess && onSuccess(result);\n          },\n          onError: err => {\n            alert('Error saving survey.');\n            console.error({ err });\n            onError && onError(err);\n          }\n        });\n      }\n    },\n    // eslint-disable-next-line\n    [values, JSON.stringify(values), email, type]\n  );\n\n  const handleDelete = React.useCallback(\n    ({ deleted = true, onSuccess }) => {\n      handleSave({ values: { ...values, deleted }, onSuccess });\n    },\n    // eslint-disable-next-line\n    [handleSave, JSON.stringify(values)]\n  );\n\n  return { values, setValues, setErrors, handleSave, handleDelete, errors, getRow, loading };\n};\n\nexport default useSurvey;\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Box, Divider, Button } from '@material-ui/core';\nimport { useFullScreen } from '../../../hooks';\nimport TextLabel from '../../application/DialogField/TextLabel';\nimport Check from '../../application/DialogField/Check';\nimport MultiSelectCheck from '../../application/DialogField/MultiSelectCheck';\nimport RadioRow from '../../application/DialogField/RadioRow';\nimport { useChangeRoute, useHandleChangeRoute, useUserEmail } from '../../layout/hooks';\nimport useSurvey from './useSurvey';\nimport { useRouteState } from '../../layout/store';\nimport ViewAppHeader from '../ViewAppHeader';\nimport { isEmpty, publicUrl, validateEmail } from '../../../helpers';\nimport { sendSurveyEmail, sendSurveyNotificationEmail } from './sendSurveyEmail';\nimport { getAppName } from '../../application/GenericTable/Applications/selectors';\n\nconst width = 300;\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    whiteHeader: {\n      background: palette.common.white,\n      color: palette.primary.dark,\n      fontWeight: 900\n    },\n    primaryText: {\n      fontSize: 32,\n      fontWeight: 900,\n      color: palette.primary.dark\n    },\n    primaryTextMedium: {\n      fontSize: 18,\n      fontWeight: 700,\n      color: palette.primary.dark\n    }\n  })\n);\n\nconst StepTOS = ({ state, onChange, errors = {}, disabled = false }) => {\n  const classes = useStyles();\n\n  const questions = {\n    TOS: {\n      Field: Check,\n      label: 'I agree to the terms of service'\n    }\n  };\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>Participate in Research:</Typography>\n      <Box mt={1}>\n        {`Thank you for your interest in completing our survey! The surveys will take less than 10 minutes to complete total. You will be asked to complete these surveys three times over the course of six weeks. Once now, once two weeks from now, and once four weeks from the two week mark (i.e. six weeks from now). By completing the following surveys, you are granting consent to use your anonymous survey information.`}\n        <Grid container justify='flex-end'>\n          <Grid item>\n            {Object.keys(questions).map(label => {\n              const { Field = TextLabel, ...other } = questions[label];\n              return (\n                <Box mt={2} key={label}>\n                  <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n                </Box>\n              );\n            })}\n          </Grid>\n        </Grid>\n      </Box>\n    </Box>\n  );\n};\n\nconst step0Questions = {\n  'What is the best email address we can reach you at?': {\n    required: true,\n    email: true\n  },\n  'Sex (assigned at birth)?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Male', label: 'Male' },\n      { value: 'Female', label: 'Female' },\n      { value: 'Intersex', label: 'Intersex' }\n    ]\n  },\n  'Gender Identity?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Male', label: 'Male' },\n      { value: 'Female', label: 'Female' },\n      { value: 'Non-binary', label: 'Non-binary' },\n      { value: 'Transgender female', label: 'Transgender female' },\n      { value: 'Transgender male', label: 'Transgender male' },\n      { value: 'Other', label: 'Other' }\n    ]\n  },\n  'Race?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Black or African American', label: 'Black or African American' },\n      { value: 'American Indian or Alaskan Native', label: 'American Indian or Alaskan Native' },\n      { value: 'Asian', label: 'Asian' },\n      { value: 'Native Hawaiian or other Pacific Islander', label: 'Native Hawaiian or other Pacific Islander' },\n      { value: 'White', label: 'White' },\n      { value: 'Other', label: 'Other' }\n    ]\n  },\n  'Ethnicity?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Hispanic or Latino/a', label: 'Hispanic or Latino/a' },\n      { value: 'Not Hispanic or Latino/a', label: 'Not Hispanic or Latino/a' }\n    ]\n  },\n  'Annual household income?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Less than $25,000', label: 'Less than $25,000' },\n      { value: '$25,000-$59,000', label: '$25,000-$59,000' },\n      { value: '$60,000-$84,000', label: '$60,000-$84,000' },\n      { value: '$85,000-$99,000', label: '$85,000-$99,000' },\n      { value: '$100,000+', label: '$100,000+' }\n    ]\n  },\n  'How much school have you completed?': {\n    Field: RadioRow,\n    required: true,\n    items: [\n      { value: 'Eighth grade or less', label: 'Eighth grade or less' },\n      { value: 'Some high school', label: 'Some high school' },\n      { value: 'High school graduate/GED', label: 'High school graduate/GED' },\n      { value: 'Some college', label: 'Some college' },\n      { value: '4-year college graduate or higher', label: '4-year college graduate or higher' }\n    ]\n  }\n};\n\nconst Step0 = ({ state, onChange, errors = {}, disabled = false }) => {\n  const classes = useStyles();\n  const questions = step0Questions;\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>Demographics:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} disabled={disabled} error={errors[label]} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst yesNoItems = [\n  { value: 'Yes', label: 'Yes' },\n  { value: 'No', label: 'No' }\n];\n\nconst phoneItems = [\n  { value: 'Apple (iPhone)', label: 'Apple (iPhone)' },\n  { value: 'Google', label: 'Google' },\n  { value: 'Samsung', label: 'Samsung' },\n  { value: 'LG', label: 'LG' },\n  { value: 'Motorola', label: 'Motorola' },\n  { value: 'HTC', label: 'HTC' },\n  { value: 'Other', label: 'Other' },\n  { value: `I don't own a smartphone`, label: `I don't own a smartphone` }\n];\n\nconst comfortableItems = [\n  { value: 'I cannot do it on my own', label: 'I cannot do it on my own' },\n  { value: 'I can do it on my own, but with step by step instructions', label: 'I can do it on my own, but with step by step instructions' },\n  { value: 'I can do it mostly on my own, but may have a few questions', label: 'I can do it mostly on my own, but may have a few questions' },\n  { value: 'I can do it on my own with ease', label: 'I can do it on my own with ease' },\n  { value: 'I can do it and teach someone else', label: 'I can do it and teach someone else' }\n];\n\nconst items3 = [\n  { value: 'Strongly disagree', label: 'Strongly disagree' },\n  { value: 'Disagree', label: 'Disagree' },\n  { value: 'Neutral', label: 'Neutral' },\n  { value: 'Agree', label: 'Agree' },\n  { value: 'Strongly agree', label: 'Strongly agree' }\n];\n\nconst items3b = [\n  { value: 'Strongly disagree', label: 'Strongly disagree' },\n  { value: 'Disagree', label: 'Disagree' },\n  { value: 'Neutral', label: 'Neutral' },\n  { value: 'Agree', label: 'Agree' },\n  { value: 'Strongly agree', label: 'Strongly agree' },\n  { value: 'Not applicable', label: 'Not applicable' }\n];\n\nconst items4 = [\n  { value: 'Not at all true', label: 'Not at all true' },\n  { value: 'Hardly true', label: 'Hardly true' },\n  { value: 'Moderately true', label: 'Moderately true' },\n  { value: 'Exactly true', label: 'Exactly true' }\n];\n\nconst step1Questions = {\n  'What is the make of your phone?': {\n    Field: RadioRow,\n    items: phoneItems,\n    required: true\n  },\n  'What is the model of your phone? (eg. 8, XR, Galaxy S8, Pixel 4, etc.)': { required: true },\n  'How comfortable are you connecting your phone to Wi-Fi?': { Field: RadioRow, items: comfortableItems, required: true },\n  'How comfortable are you downloading an app from the app store?': { Field: RadioRow, items: comfortableItems, required: true },\n  'Have you used a smartphone app for your mental health in the past?': {\n    Field: RadioRow,\n    items: yesNoItems,\n    required: true\n  },\n  'If yes, which app?': {}\n};\n\nconst Step1 = ({ state, onChange, errors = {}, disabled = false }) => {\n  const classes = useStyles();\n\n  const questions = step1Questions;\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>Technology Usage:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst step2Questions = {\n  'Do you have health insurance?': { Field: RadioRow, items: yesNoItems, required: true },\n  'Have you been diagnosed with a mental illness?': { Field: RadioRow, items: yesNoItems, required: true }\n};\n\nconst Step2 = ({ state, onChange, errors = {}, disabled = false }) => {\n  const classes = useStyles();\n  const questions = step2Questions;\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>Access to Health:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst step3Questions = {\n  'Which filters were most important to you when choosing a mobile app?': {\n    Field: MultiSelectCheck,\n    required: true,\n    items: [\n      'Cost',\n      'Developer type (e.g. for-profit, non-profit, healthcare company, academic institution)',\n      'Supported Condition (e.g. anxiety, sleep, OCD, mood disorder, substance use, etc.)',\n      'Functionality (e.g. available in Spanish, functions offline, email or export data, etc.)',\n      'Uses (e.g. self-help, reference, hybrid)',\n      'Features (e.g. track mood, journaling, mindfulness, CBT, peer support, chatbot, etc.)',\n      'Engagements (e.g. user generated data, messaging, gamification, network support, etc.)',\n      'Evidence & Clinical Foundations (e.g. patient facing, risk of harm, warning, supporting studies, etc.)',\n      'Privacy (e.g. has privacy policy, delete data, personal health information shared, meets HIPAA, etc.)'\n    ].map(value => ({ value, label: value }))\n  },\n  'Did outside factors impact your app decision (e.g. star ratings, reviews)?': {\n    Field: RadioRow,\n    items: yesNoItems,\n    required: true\n  },\n  'If yes, which specific aspects?': {}\n};\n\nconst Step3 = ({ state, onChange, errors = {}, disabled = false }) => {\n  const questions = step3Questions;\n  const classes = useStyles();\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>App Selection:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst step4Keys = [\n  'I think that I would like to use this app frequently.',\n  'I think that I would need the support of a technical person to be able to use this app.',\n  'I felt very confident using this app.',\n  'I needed to learn a lot of things before I could get going with this app.'\n];\nconst Step4 = ({ state, onChange, errors = {}, disabled = false, isFollowUp = false }) => {\n  const questions = {};\n  step4Keys.forEach(qt => (questions[qt] = { Field: RadioRow, items: isFollowUp ? items3 : items3b }));\n\n  const classes = useStyles();\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>System Usability Scale:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst step5Keys = [\n  'I trust this app to guide me towards my personal goals.',\n  'I believe this app tasks will help me to address my problem.',\n  'This app encourages me to accomplish tasks and make progress.',\n  'I agree that the tasks within this app are important for my goals.',\n  'This app is easy to use and operate.',\n  'This app supports me to overcome challenges.'\n];\n\nconst Step5 = ({ state, onChange, errors = {}, disabled = false, isFollowUp = false }) => {\n  const questions = {};\n  step5Keys.forEach(qt => (questions[qt] = { Field: RadioRow, items: isFollowUp ? items3 : items3b }));\n\n  const classes = useStyles();\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>Digital Working Alliance Inventory:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst step6Keys = [\n  //'I can always manage to solve difficult problems if I try hard enough.',\n  'If someone opposes me, I can find the means and ways to get what I want.',\n  'It is easy for me to stick to my aims and accomplish my goals.',\n  'I am confident that I could deal efficiently with unexpected events.',\n  'Thanks to my resourcefulness, I know how to handle unforeseen situations.',\n  //'I can solve most problems if I invest the necessary effort.',\n  'I can remain calm when facing difficulties because I can rely on my coping abilities',\n  //'When I am confirted with a problem, I can usually find several solutions.',\n  //'If I am in trouble, I can usually think of a solution.',\n  'I can usually handle whatever comes my way.'\n];\n\nconst Step6 = ({ state, onChange, errors = {}, disabled = false }) => {\n  const questions = {};\n  step6Keys.forEach(qt => (questions[qt] = { Field: RadioRow, items: items4 }));\n\n  const classes = useStyles();\n\n  return (\n    <Box mt={2}>\n      <Typography className={classes.primaryTextMedium}>General Self-Efficacy Scale-6:</Typography>\n      {Object.keys(questions).map(label => {\n        const { Field = TextLabel, ...other } = questions[label];\n        return (\n          <Box mt={2} key={label}>\n            <Field label={label} value={state[label]} onChange={onChange(label)} error={errors[label]} disabled={disabled} {...other} />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n\nconst validateStepTOS = values => {\n  const newErrors = {};\n  if (!(values['TOS'] === true || values['TOS'] === 1 || values['TOS'] === '1' || values['TOS'] === 'true')) {\n    newErrors['TOS'] = 'You must agree to continue.';\n  }\n  return newErrors;\n};\n\nconst validateStep0 = values => {\n  const newErrors = {};\n  Object.keys(step0Questions).forEach(key => {\n    if (step0Questions[key].required && isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    } else if (step0Questions[key].email && !validateEmail(values[key])) {\n      newErrors[key] = 'Invalid email';\n    }\n  });\n  return newErrors;\n};\n\nconst validateStep1 = values => {\n  const newErrors = {};\n  Object.keys(step1Questions).forEach(key => {\n    if (step1Questions[key].required && isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n\n  if (values['Have you used a smartphone app for your mental health in the past?'] === 'Yes') {\n    if (isEmpty(values['If yes, which app?'])) {\n      newErrors['If yes, which app?'] = 'Required';\n    }\n  }\n\n  return newErrors;\n};\n\nconst validateStep2 = values => {\n  const newErrors = {};\n  Object.keys(step2Questions).forEach(key => {\n    if (step2Questions[key].required && isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n  return newErrors;\n};\n\nconst validateStep3 = values => {\n  const newErrors = {};\n  Object.keys(step3Questions).forEach(key => {\n    if (step3Questions[key].required && isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n  return newErrors;\n};\n\nconst validateStep4 = values => {\n  const newErrors = {};\n  step4Keys.forEach(key => {\n    if (isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n  return newErrors;\n};\n\nconst validateStep5 = values => {\n  const newErrors = {};\n  step5Keys.forEach(key => {\n    if (isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n  return newErrors;\n};\n\nconst validateStep6 = values => {\n  const newErrors = {};\n  step6Keys.forEach(key => {\n    if (isEmpty(values[key])) {\n      newErrors[key] = 'Required';\n    }\n  });\n  return newErrors;\n};\n\nconst SharedSteps = [Step0, Step1, Step2, Step3, Step4, Step5, Step6];\nconst sharedValidations = [validateStep0, validateStep1, validateStep2, validateStep3, validateStep4, validateStep5, validateStep6];\n\nexport const surveyQuestionKeys = [\n  ...Object.keys(step0Questions),\n  ...Object.keys(step1Questions),\n  ...Object.keys(step2Questions),\n  ...Object.keys(step3Questions),\n  ...step4Keys,\n  ...step5Keys,\n  ...step6Keys\n];\n\nexport default function Survey() {\n  const classes = useStyles();\n  var sm = useFullScreen('sm');\n\n  const { handleSave, getRow } = useSurvey();\n  const email = useUserEmail();\n\n  const [state, setState] = React.useState({\n    step: 0,\n    errors: {},\n    submitting: false,\n    'What is the best email address we can reach you at?': email // if user is logged in, auto fill the email field\n  });\n  const { submitting, errors } = state;\n\n  const surveyEmail = state['What is the best email address we can reach you at?'];\n\n  const [routeState] = useRouteState();\n  const { _id, surveyId, surveyType, app = {}, mode } = routeState;\n\n  const isFollowUp = !isEmpty(surveyId) || surveyType !== 'Initial';\n\n  React.useEffect(() => {\n    if (mode === 'view') {\n      getRow(_id, result => {\n        setState(prev => ({ ...prev, ...result?.Item, step: 0 }));\n      });\n    }\n    // eslint-disable-next-line\n  }, [_id, JSON.stringify(app), mode, getRow, setState]);\n\n  const changeRoute = useChangeRoute();\n\n  const handleChange = React.useCallback(\n    key => event => {\n      const value = event?.target?.value;\n      setState(prev => ({ ...prev, [key]: value, errors: {} }));\n    },\n    [setState]\n  );\n\n  const Steps = isFollowUp ? SharedSteps : [StepTOS, ...SharedSteps];\n  const validations = isFollowUp ? sharedValidations : [validateStepTOS, ...sharedValidations];\n\n  const validate = validations[state.step];\n\n  const handleNext = () => {\n    const newErrors = validate(state);\n    if (Object.keys(newErrors).length > 0) {\n      setState(prev => ({ ...prev, errors: newErrors }));\n    } else {\n      document.getElementById('app-content')?.scrollTo({ top: 0, behavior: 'smooth' });\n      setState(prev => ({ ...prev, step: prev.step + 1 }));\n    }\n  };\n\n  const handleSubmit = () => {\n    const newErrors = validate(state);\n    setState(prev => ({ ...prev, submitting: true }));\n    if (Object.keys(newErrors).length > 0) {\n      setState(prev => ({ ...prev, errors: newErrors, submitting: false }));\n    } else {\n      const created = new Date().getTime();\n      handleSave({\n        values: { ...state, parentId: surveyId, surveyType, created, updated: created, app },\n        onError: errors => {\n          setState(prev => ({ ...prev, submitting: false }));\n          console.error('Error submiting survey', errors);\n        },\n        onSuccess: () => {\n          console.log('Successfully saved survey');\n          sendSurveyEmail({ email: surveyEmail });\n          sendSurveyNotificationEmail({ email: surveyEmail, appName: getAppName(app) });\n          setState(prev => ({ ...prev, submitting: false }));\n          changeRoute(publicUrl('/ViewApp'), { app, from: 'Survey' });\n        }\n      });\n    }\n  };\n\n  const handleBack = () => {\n    document.getElementById('app-content')?.scrollTo({ top: 0, behavior: 'smooth' });\n    setState(prev => ({ ...prev, step: prev.step > 0 ? prev.step - 1 : 0 }));\n  };\n\n  const Step = Steps[state.step];\n\n  const disabled = submitting || mode === 'view';\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  return (\n    <Grid container justify='center' style={{ padding: sm ? 8 : 24 }} spacing={sm ? 1 : 4}>\n      <Grid item>\n        <Grid container className={classes.whiteHeader} spacing={1}>\n          {mode === 'view' && (\n            <Grid item xs={12} style={{ cursor: 'pointer' }} onClick={handleChangeRoute(publicUrl('/Admin'), { subRoute: 'surveys' })}>\n              <Typography>{`<   Back To Surveys`}</Typography>\n            </Grid>\n          )}\n          <Grid item style={{ width }} xs={12}>\n            <Grid container alignItems='flex-end' justify='space-between'>\n              <Grid item>\n                <Typography className={classes.primaryText}>\n                  {isEmpty(surveyType) || surveyType === 'Initial' ? `Survey` : `${surveyType} Follow Up Survey`}\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography className={classes.primaryTextMedium}>{`${state.step + 1} of ${Steps.length}`}</Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n        <Grid item xs={12}>\n          <Box mt={2} mb={2}>\n            <ViewAppHeader app={app} type='survey' />\n          </Box>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n        <Grid item xs={12}>\n          <Step state={state} onChange={handleChange} errors={errors} disabled={disabled} isFollowUp={isFollowUp} />\n        </Grid>\n        <Grid item xs={12}>\n          <Grid container spacing={2} style={{ marginTop: 16 }} justify='flex-end'>\n            {state.step > 0 && (\n              <Grid item>\n                <Button variant='contained' color='primary' onClick={handleBack}>\n                  Back\n                </Button>\n              </Grid>\n            )}\n            <Grid item>\n              {state.step === Steps.length - 1 ? (\n                <Button disabled={disabled} variant='contained' color='primary' onClick={handleSubmit}>\n                  Submit\n                </Button>\n              ) : (\n                <Button variant='contained' color='primary' onClick={handleNext}>\n                  Next\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { AppState } from '../../../../store';\nimport { getDayTimeFromTimestamp, isEmpty, sortDescending } from '../../../../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { AndroidStoreProps } from '../../DialogField/AndroidStore';\nimport { AppleStoreProps } from '../../DialogField/AppleStore';\nimport { useSelector } from 'react-redux';\nimport { useHandleExport } from '../../../../database/hooks';\nimport { surveyQuestionKeys } from '../../../pages/Survey/Survey';\n\nexport const getAppName = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.name)\n    ? app.name\n    : androidStore && !isEmpty(androidStore.title)\n    ? androidStore.title\n    : appleStore && !isEmpty(appleStore.title)\n    ? appleStore.title\n    : app.name;\n};\n\nexport const useSurveyExport = table => {\n  const surveys = useSelector((s: AppState) => s.database[tables.surveys] ?? {});\n  const surveyReminders = useSelector((s: AppState) => s.database[tables.surveyReminders] ?? {});\n\n  const columns = [\n    { name: 'appName' },\n    { name: 'surveyType' },\n    { name: 'followUpCompleted' },\n    { name: 'lastReminderSent' },\n    ...surveyQuestionKeys.map(name => ({ name })),\n    { name: 'created' },\n    { name: 'updated' },\n    { name: '_id' }\n  ];\n\n  var data = surveys\n    ? Object.keys(surveys).map(k => {\n        const survey = surveys[k];\n        const { app = {}, surveyType } = survey;\n\n        const surveyReminderKeys = Object.keys(surveyReminders)\n          .filter(k => surveyReminders[k].surveyId === survey._id)\n          .sort((a, b) => sortDescending(surveyReminders[a].time, surveyReminders[b].time)) as any;\n\n        const surveyReminder = !isEmpty(surveyReminderKeys[0]) ? surveyReminders[surveyReminderKeys[0]] : {};\n        const lastReminderSent = !isEmpty(surveyReminder?.time) ? surveyReminder?.time : undefined;\n        const followUpCompleted = surveyType === '6 Week' ? 'N/A' : Object.keys(surveys).find(k => surveys[k].parentId === survey._id) ? 'True' : 'False';\n\n        return {\n          _id: survey._id,\n          appName: getAppName(app),\n          surveyType,\n          followUpCompleted,\n          lastReminderSent: lastReminderSent ? getDayTimeFromTimestamp(lastReminderSent) : '',\n          ...survey,\n          created: survey?.created ? getDayTimeFromTimestamp(survey.created) : '',\n          updated: survey?.updated ? getDayTimeFromTimestamp(survey.updated) : ''\n        };\n      })\n    : [];\n\n  const handleExport = useHandleExport(data, columns);\n  return React.useCallback(() => handleExport(true), [handleExport]);\n};\n","import GenericTableContainer, { GenericTableContainerProps } from '../GenericTableContainer';\nimport { useColumns } from './columns';\nimport { useSurveyData } from './selectors';\nimport { Box } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport { makeStyles, createStyles, Grid, Button } from '@material-ui/core';\nimport { useSurveyExport } from './useSurveyExport';\n\nexport const name = 'Surveys';\n\nexport const defaultApplicationsProps: GenericTableContainerProps = {\n  name,\n  dialogs: [],\n  toolbar: false,\n  footer: true,\n  search: false\n};\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryButtonDisabled: {\n      paddingLeft: 8,\n      paddingRight: 8,\n      borderRadius: 7,\n      cursor: 'auto',\n      color: palette.common.white,\n      background: palette.primary.dark,\n      '&:hover': {\n        background: palette.primary.dark\n      }\n    },\n    primaryButton: {\n      paddingLeft: 8,\n      paddingRight: 8,\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.main,\n      '&:hover': {\n        background: palette.primary.dark\n      }\n    }\n  })\n);\n\nexport const Surveys = ({ height: Height, ...other }) => {\n  const columns = useColumns();\n  const data = useSurveyData(name);\n  const classes = useStyles();\n\n  const handleExport = useSurveyExport(name);\n\n  const height = Height - 48;\n  return (\n    <>\n      <Box p={1}>\n        <Grid container spacing={1} justify='flex-end'>\n          <Grid item>\n            <Button size='small' className={classes.primaryButton} onClick={handleExport}>\n              <Icons.GetApp style={{ marginRight: 4 }} />\n              Export Surveys\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n      <GenericTableContainer {...defaultApplicationsProps} data={data} columns={columns} showScroll={true} height={height} {...other} />\n    </>\n  );\n};\n","import { Box, Divider, useTheme } from '@material-ui/core';\nimport { useHeaderHeight, useHeight, useRouteState } from '../../layout/store';\nimport AdminLayoutSelector from './AdminLayoutSelector';\nimport AdminPendingApprovals from './AdminPendingApprovals';\nimport { Surveys } from '../../application/GenericTable/Surveys/table';\n\nexport default function Admin() {\n  const headerHeight = useHeaderHeight();\n  const [{ subRoute = 'pending' }] = useRouteState();\n\n  const height = useHeight();\n  const { layout, palette } = useTheme() as any;\n  const { tablefooterheight } = layout;\n\n  const selectorHeight = 104;\n\n  const tableHeight = height - headerHeight - selectorHeight + tablefooterheight + 18;\n\n  return (\n    <Box pt={3} bgcolor={palette.primary.light}>\n      <AdminLayoutSelector subRoute={subRoute} />\n      <Divider style={{ marginTop: 16 }} />\n      {subRoute === 'surveys' ? <Surveys height={tableHeight + headerHeight} /> : <AdminPendingApprovals height={tableHeight} />}\n    </Box>\n  );\n}\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Plus = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>,\n  'Plus'\n);\n\nexport default Plus;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Search = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>,\n  'Search'\n);\n\nexport default Search;\n","import { useUserEmail } from '../../components/layout/hooks';\n\nexport interface Post {\n  _id: string;\n  authorName?: string;\n  category: string;\n  content?: string;\n  cover?: string;\n  publishedAt: number;\n  readTime: string;\n  shortDescription: string;\n  adminOnly: boolean;\n  enableComments: boolean;\n  title: string;\n  createdBy?: string;\n  updatedBy?: string;\n  created?: number;\n  updated?: number;\n  deleted?: boolean;\n}\n\nexport const useDefaultValues = props => {\n  const email = useUserEmail();\n  return {\n    title: '',\n    shortDescription: '',\n    category: categories[0],\n    content: '',\n    readTime: '5 min',\n    adminOnly: false,\n    enableComments: true,\n    authorName: email,\n    publishedAt: new Date().getTime(),\n    created: new Date().getTime(),\n    ...props\n  };\n};\n\nexport const categories = ['News', 'Forum'];\n\nexport const readTimes = ['1 min', '2 min', '3 min', '4 min', '5 min', '6 min', '7 min', '8 min', '9 min', '10 min', '15 min', '> 15 min'];\n","import * as React from 'react';\nimport { dynamo } from './dbConfig';\n\nexport default function useTable({ TableName, idKey = 'id' }) {\n  const [state, setState] = React.useState({ data: [], loading: false, success: false });\n\n  const handleRequest = React.useCallback(\n    ({ FilterExpression = undefined, ExpressionAttributeNames = undefined, ExpressionAttributeValues = undefined } = {}) => {\n      const getRows = async () => {\n        let scanResults = [];\n        let items;\n        var params = {\n          TableName,\n          ExclusiveStartKey: undefined,\n          FilterExpression,\n          ExpressionAttributeNames,\n          ExpressionAttributeValues\n        };\n        do {\n          items = await dynamo.scan(params).promise();\n          items.Items.forEach(i => scanResults.push(i));\n          params.ExclusiveStartKey = items.LastEvaluatedKey;\n        } while (typeof items.LastEvaluatedKey != 'undefined');\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          success: true,\n          data: scanResults.reduce((f, c: any) => {\n            f[c[idKey]] = c;\n            return f;\n          }, {})\n        }));\n      };\n      setState(prev => ({ ...prev, data: [], loading: true, success: false }));\n      getRows();\n    },\n    [idKey, TableName, setState]\n  );\n\n  return { state, setState, handleRequest };\n}\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport useTable from './useTable';\n\nconst Model = tables.comments;\n\nexport default function useComments({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: Model, idKey: '_id' });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows,\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useCommentsByPostId = ({ postId }) => {\n  return useComments({\n    requestParams: {\n      FilterExpression: '#postId = :postId',\n      ExpressionAttributeNames: {\n        '#postId': 'postId'\n      },\n      ExpressionAttributeValues: {\n        ':postId': postId\n      }\n    }\n  });\n};\n\nexport const useCommentsByParentId = ({ parentId }) => {\n  return useComments({\n    requestParams: {\n      FilterExpression: '#parentId = :parentId',\n      ExpressionAttributeNames: {\n        '#parentId': 'parentId'\n      },\n      ExpressionAttributeValues: {\n        ':parentId': parentId\n      }\n    }\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Box, CardMedia, Chip, createStyles, Grid, Link, makeStyles, Typography } from '@material-ui/core';\nimport { useChangeRoute } from '../../layout/hooks';\nimport { bool, isEmpty, formatWithDefault, publicUrl } from '../../../helpers';\nimport { grey } from '@material-ui/core/colors';\nimport { useCommentsByPostId } from '../../../database/useComments';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    archived: {\n      color: palette.error.main,\n      borderColor: palette.error.main\n    },\n    adminOnly: {\n      color: palette.primary.main,\n      borderColor: palette.primary.main\n    }\n  })\n);\n\nconst BlogPostCard = ({\n  _id,\n  authorName,\n  category,\n  adminOnly = undefined,\n  cover = '/images/covers/cover_default.jpg', // set default cover\n  publishedAt,\n  readTime,\n  shortDescription,\n  title,\n  deleted = undefined,\n  ...other\n}) => {\n  const classes = useStyles({});\n  const changeRoute = useChangeRoute();\n\n  const handleClick = React.useCallback(() => {\n    changeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'view', _id })); // Keep previous category for back button\n  }, [changeRoute, _id]);\n\n  const { data: comments } = useCommentsByPostId({ postId: _id });\n  const filtered = comments.filter(e => !e.deleted);\n\n  return (\n    <div {...other}>\n      <div\n        style={{\n          paddingTop: 'calc(100% * 4 / 4)',\n          position: 'relative'\n        }}\n      >\n        {cover ? (\n          <CardMedia\n            onClick={handleClick}\n            image={cover}\n            style={{\n              height: '100%',\n              position: 'absolute',\n              top: 0,\n              width: '100%'\n            }}\n          />\n        ) : (\n          <div\n            onClick={handleClick}\n            style={{\n              padding: 24,\n              height: '100%',\n              position: 'absolute',\n              top: 0,\n              width: '100%',\n              background: grey[100]\n            }}\n          >\n            <Typography color='textSecondary' align='center' variant='h6' noWrap>\n              {title}\n            </Typography>\n          </div>\n        )}\n      </div>\n      <Box mt={2}>\n        <Grid container spacing={1}>\n          <Grid item>\n            <Chip label={category} variant='outlined' />\n          </Grid>\n          {bool(adminOnly) && (\n            <Grid item>\n              <Chip label='Admin Only' variant='outlined' className={classes.adminOnly} />\n            </Grid>\n          )}\n          {bool(deleted) && (\n            <Grid item>\n              <Chip label='Archived' variant='outlined' className={classes.archived} />\n            </Grid>\n          )}\n        </Grid>\n        <Box\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            marginTop: 16,\n            marginBottom: 16\n          }}\n        >\n          <Grid container>\n            {!isEmpty(authorName) && (\n              <Grid item xs={12}>\n                <Typography color='textPrimary' variant='subtitle2'>\n                  {authorName}\n                </Typography>\n              </Grid>\n            )}\n            <Grid item>\n              <Grid container spacing={1}>\n                {[\n                  `${formatWithDefault(publishedAt, 'dd MMM', 'Unknown Date')}`,\n                  `·`,\n                  `${readTime} read`,\n                  filtered.length > 0 && `·`,\n                  filtered.length > 0 && `${filtered.length} comments`\n                ]\n                  .filter(t => t)\n                  .map(t => (\n                    <Grid item>\n                      <Typography color='textSecondary' variant='caption'>\n                        {t}\n                      </Typography>\n                    </Grid>\n                  ))}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n        <Link color='textPrimary' onClick={handleClick} variant='h5'>\n          {title}\n        </Link>\n        <Typography\n          color='textSecondary'\n          style={{\n            height: 72,\n            marginTop: 8,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            WebkitBoxOrient: 'vertical',\n            WebkitLineClamp: 2\n          }}\n          variant='body1'\n        >\n          {shortDescription}\n        </Typography>\n      </Box>\n    </div>\n  );\n};\n\nBlogPostCard.propTypes = {\n  authorName: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n  cover: PropTypes.string.isRequired,\n  publishedAt: PropTypes.number.isRequired,\n  readTime: PropTypes.string.isRequired,\n  shortDescription: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired\n};\n\nexport default BlogPostCard;\n","import { Button, createStyles, Grid, makeStyles, Toolbar, Typography } from '@material-ui/core';\nimport { useUserEmail } from '../../layout/hooks';\n\nconst spacing = 3;\n\nconst useStyles = makeStyles(({ palette }) =>\n  createStyles({\n    primaryHeaderText: {\n      fontWeight: 900,\n      color: palette.primary.dark,\n      fontSize: 30\n    }\n  })\n);\n\nconst BlogToolbar = ({ title = undefined, subtitle = undefined, showGreeting = false, buttons = [] }) => {\n  const email = useUserEmail();\n  const classes = useStyles();\n\n  const SubTitle = showGreeting ? (\n    <Typography variant='body2'>{email ? `Hello, ${email}` : 'Hello'}</Typography>\n  ) : subtitle ? (\n    <Typography variant='body2'>{subtitle}</Typography>\n  ) : (\n    <></>\n  );\n\n  const showToolbar = title || showGreeting || subtitle || (buttons && buttons.length > 0);\n\n  return (\n    <>      \n      {showToolbar && (\n        <Toolbar disableGutters style={{ marginTop: 16, paddingBottom: 16 }}>\n          <Grid alignItems='center' container justify='space-between' spacing={spacing}>\n            <Grid item>\n              {title && (\n                <Typography color='textPrimary' variant='h4' className={classes.primaryHeaderText}>\n                  {title}\n                </Typography>\n              )}\n              {SubTitle}\n            </Grid>\n            <Grid item>\n              <Grid container spacing={spacing}>\n                {buttons.map(\n                  ({ label, color = 'primary', size = 'large', startIcon = undefined, variant = 'outlined', onClick = undefined, ...other }: any) => (\n                    <Grid item key={label}>\n                      <Button color={color} size={size} startIcon={startIcon} onClick={onClick} variant='outlined' {...other}>\n                        {label}\n                      </Button>\n                    </Grid>\n                  )\n                )}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      )}\n    </>\n  );\n};\n\nexport default BlogToolbar;\n","import { isEmpty, sortAscending, sortDescending } from '../../../helpers';\nimport { escapeRegex, isMatch } from '../../application/GenericTable/helpers';\nimport { format } from 'date-fns';\n\nexport const sortPosts = (rows, direction) =>\n  direction === 'desc' ? rows.sort((a, b) => sortDescending(a.publishedAt, b.publishedAt)) : rows.sort((a, b) => sortAscending(a.publishedAt, b.publishedAt));\n\nexport const searchPosts = (rows, search) => {\n  if (isEmpty(search)) {\n    return rows;\n  } else {\n    return rows.filter(post => {\n      // content - leave this out for now\n      const searchObj = {\n        authorName: post.authorName,\n        category: post.category,\n        publishedAt: `${format(post.publishedAt, 'dd MMM')}`,\n        readTime: `${post.readTime} read`,\n        shortDescription: post.shortDescription,\n        title: post.title\n      };\n      return isMatch(searchObj, escapeRegex(search));\n    });\n  }\n};\n\nexport const sortComments = (rows, direction) =>\n  direction === 'desc' ? rows.sort((a, b) => sortDescending(a.createdAt, b.createdAt)) : rows.sort((a, b) => sortAscending(a.createdAt, b.createdAt));\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst SortAscending = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z\" />\n  </svg>,\n  'SortAscending'\n);\n\nexport default SortAscending;\n","import React from 'react';\nimport SortAscendingIcon from '../icons/SortAscending';\nimport SortDescendingIcon from '../icons/SortDescending';\n\nconst sortOptions = {\n  desc: { label: 'Newest', SortOptionIcon: SortDescendingIcon },\n  asc: { label: 'Older', SortOptionIcon: SortAscendingIcon }\n};\n\nconst useSortOptions = () => {\n  const [sortOption, setSortOption] = React.useState<string>(Object.keys(sortOptions)[0]);\n  const handleToggleSortDirection = (): void => {\n    setSortOption(prev => (prev === 'desc' ? 'asc' : 'desc'));\n  };\n\n  const { label, SortOptionIcon } = sortOptions[sortOption];\n\n  return { sortOption, sortLabel: label, SortOptionIcon, handleToggleSortDirection };\n};\n\nexport default useSortOptions;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst SortDescending = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z\" />\n  </svg>,\n  'SortDescending'\n);\n\nexport default SortDescending;\n","import React from 'react';\nimport { Box, Button, Container, createStyles, Grid, IconButton, InputAdornment, makeStyles, TextField, Typography } from '@material-ui/core';\nimport PlusIcon from '../../icons/Plus';\nimport SearchIcon from '../../icons/Search';\nimport { useDefaultValues } from '../../../database/models/Post';\nimport BlogPostCard from '../../application/Blog/BlogPostCard';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport BlogToolbar from './BlogToolbar';\nimport * as Icons from '@material-ui/icons';\nimport { searchPosts, sortPosts } from './helpers';\nimport { useIsAdmin } from '../../../hooks';\nimport { usePosts } from '../../../database/usePosts';\nimport { bool, publicUrl } from '../../../helpers';\nimport useSortOptions from '../../hooks/useSortOptions';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    archiveBanner: {\n      padding: 16,\n      margin: 24,\n      borderRadius: 12,\n      color: theme.palette.common.white,\n      background: theme.palette.error.main\n    }\n  })\n);\n\nconst BlogPostList = ({ category = 'News' }) => {\n  const classes = useStyles({});\n  const { posts, handleRefresh } = usePosts();\n\n  const { sortOption, handleToggleSortDirection, sortLabel, SortOptionIcon } = useSortOptions();\n\n  const [search, setSearch] = React.useState('');\n  const [showArchived, setShowArchived] = React.useState(false);\n  const isAdmin = useIsAdmin();\n\n  const handleSearch = React.useCallback(event => setSearch(event?.target?.value), [setSearch]);\n  const handleClearSearch = React.useCallback(() => setSearch(''), [setSearch]);\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const handleToggleShowArchived = (): void => {\n    setShowArchived(prev => !prev);\n  };\n\n  const values = useDefaultValues({ category });\n\n  const ArchiveIcon = !showArchived ? Icons.VisibilityOff : Icons.Visibility;\n\n  const filtered = sortPosts(\n    searchPosts(\n      Object.keys(posts)\n        .filter(\n          k => (isAdmin || (!isAdmin && !bool(posts[k]?.adminOnly))) && posts[k].category === category && (showArchived ? posts[k].deleted : !posts[k].deleted)\n        )\n        .map(k => posts[k]),\n      search\n    ),\n    sortOption\n  );\n\n  return (\n    <Container maxWidth='lg'>\n      <BlogToolbar\n        title={category}\n        subtitle='Keep up to date with the latest news and community resources.'\n        buttons={\n          isAdmin\n            ? [\n                {\n                  label: 'Add new post',\n                  onClick: handleChangeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'create', values })),\n                  startIcon: <PlusIcon fontSize='small' />\n                }\n              ]\n            : []\n        }\n      />\n\n      <Box py={0}>\n        <Grid container justify='space-between' alignItems='center'>\n          <Grid item>\n            <Box style={{ width: 500 }}>\n              <TextField\n                onChange={handleSearch}\n                value={search}\n                fullWidth\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position='start'>\n                      <SearchIcon fontSize='small' />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position='start'>\n                      <IconButton style={{ padding: 8, marginRight: -16 }} onClick={handleClearSearch}>\n                        <Icons.Clear fontSize='small' />\n                      </IconButton>\n                    </InputAdornment>\n                  )\n                }}\n                size='small'\n                placeholder='Search posts'\n                variant='outlined'\n              />\n            </Box>\n          </Grid>\n          <Grid item>\n            <Grid container spacing={2}>\n              {isAdmin && (\n                <Grid item>\n                  <Button color='primary' onClick={handleToggleShowArchived} size='small' startIcon={<ArchiveIcon fontSize='small' />} variant='text'>\n                    {showArchived ? 'Hide Archived' : 'Show Archived'}\n                  </Button>\n                </Grid>\n              )}\n              <Grid item>\n                <Button color='primary' onClick={handleToggleSortDirection} size='small' startIcon={<SortOptionIcon fontSize='small' />} variant='text'>\n                  {sortLabel}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Box mt={6}>\n          <Grid container spacing={6}>\n            {showArchived && (\n              <Grid item xs={12} className={classes.archiveBanner}>\n                <Typography variant='h6' style={{ color: 'white' }}>\n                  {`Viewing Archived Posts`}\n                </Typography>\n              </Grid>\n            )}\n            {filtered.length === 0 ? (\n              <Box m={3}>\n                <Typography variant='h6' color='textSecondary' align='center'>\n                  {`There are no ${showArchived ? 'archived posts' : 'posts'} to view at this time.`}\n                </Typography>\n              </Box>\n            ) : (\n              filtered.map(post => (\n                <Grid item key={post._id} lg={4} md={6} xs={12}>\n                  <BlogPostCard {...post} />\n                </Grid>\n              ))\n            )}\n          </Grid>\n        </Box>\n      </Box>\n    </Container>\n  );\n};\n\nexport default BlogPostList;\n","import React from 'react';\nimport { dynamo, tables } from './dbConfig';\nimport { useTableState } from './useTableState';\n\nexport const usePosts = () => {\n  const [posts = [], setPosts] = useTableState(tables.posts);\n\n  const handleRefresh = React.useCallback(() => {\n    const getItems = async () => {\n      let scanResults = [];\n      let items;\n      var params = {\n        TableName: tables.posts,\n        ExclusiveStartKey: undefined\n      };\n      do {\n        items = await dynamo.scan(params).promise();\n        items.Items.forEach(i => scanResults.push(i));\n        params.ExclusiveStartKey = items.LastEvaluatedKey;\n      } while (typeof items.LastEvaluatedKey != 'undefined');\n      setPosts(\n        scanResults.reduce((f, c: any) => {\n          f[c._id] = c;\n          return f;\n        }, {})\n      );\n    };\n    getItems();\n  }, [setPosts]);\n\n  return { posts, setPosts, handleRefresh };\n};\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst PencilAlt = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z\" />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>,\n  'PencilAlt'\n);\n\nexport default PencilAlt;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport { uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\n\nexport const title = 'Comment';\nconst Model = tables.comments;\n\nexport default function CommentDialog({ id = title, onClose }) {\n  const userId = useUserId();\n\n  const [{ type }, setState] = useDialogState(id);\n  const handleClose = React.useCallback(() => {\n    setState(prev => ({ ...prev, open: false, loading: false }));\n    onClose && onClose();\n  }, [onClose, setState]);\n\n  const processData = useProcessData();\n\n  const handleSubmit = React.useCallback(\n    values => {\n      setState(prev => ({ ...prev, loading: true }));\n\n      const Data =\n        type === 'Add'\n          ? { ...values, _id: uuid(), createdBy: userId, createdAt: new Date().getTime() }\n          : { ...values, updatedBy: userId, updatedAt: new Date().getTime() };\n\n      processData({\n        Model,\n        Action: 'u',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => handleClose()\n      });\n    },\n    [setState, processData, userId, type, handleClose]\n  );\n\n  const handleDelete = React.useCallback(values => handleSubmit({ ...values, deleted: true }), [handleSubmit]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onSubmit={handleSubmit}\n      submitLabel={type === 'Add' ? 'Add' : 'Save'}\n      onClose={onClose}\n      onDelete={type === 'Edit' && handleDelete}\n      fields={[\n        {\n          id: '_id',\n          hidden: true\n        },\n        {\n          id: 'postId',\n          hidden: true\n        },\n        {\n          id: 'authorName',\n          label: 'Author Name',\n          required: true\n        },\n        {\n          id: 'content',\n          label: 'Comment',\n          autoFocus: true,\n          multiline: true,\n          rows: 4\n        }\n      ]}\n    />\n  );\n}\n","import { formatDistanceToNow } from 'date-fns';\nimport { Box, Grid, Paper, Typography } from '@material-ui/core';\nimport DialogButton, { EditDialogButton } from '../GenericDialog/DialogButton';\nimport * as CommentDialog from '../GenericDialog/Comment';\nimport { useIsAdmin } from '../../../hooks';\nimport { useUserEmail, useUserId } from '../../layout/hooks';\nimport { isEmpty } from '../../../helpers';\nimport { sortComments } from '../../pages/Blog/helpers';\nimport { useCommentsByParentId } from '../../../database/useComments';\n\nconst BlogPostComment = ({ mountDialog = true, sortOption, onRefresh = undefined, level = 0, ...props }) => {\n  const { _id, parentId, authorName, content, createdAt, createdBy } = props;\n\n  const isAdmin = useIsAdmin();\n  const userId = useUserId();\n  const signedIn = useIsAdmin();\n\n  const canEdit = isAdmin || (!isEmpty(userId) && userId === createdBy); // Admin and owner can edit\n  const userEmail = useUserEmail();\n\n  const { data: comments, handleRefresh } = useCommentsByParentId({ parentId: _id });\n\n  const filtered = sortComments(\n    comments.filter(e => !e.deleted),\n    sortOption\n  );\n\n  return (\n    <>\n      <Box\n        style={{\n          display: 'flex',\n          paddingBottom: 24,\n          paddingLeft: Math.min(level * 32, 128)\n        }}\n      >\n        <Paper\n          style={{\n            marginLeft: 24,\n            paddingLeft: 12,\n            paddingRight: 12,\n            paddingTop: 12,\n            paddingBottom: 12,\n            width: '100%'\n          }}\n          variant='outlined'\n        >\n          <Grid container justify='space-between' spacing={1}>\n            <Grid item xs>\n              <Grid container spacing={1}>\n                <Grid item xs={12}>\n                  <Typography color='textPrimary' variant='subtitle2'>\n                    {authorName}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Typography color='textPrimary' variant='body2'>\n                    {content}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <Grid container justify='flex-end' alignContent='flex-end' alignItems='flex-end' spacing={1}>\n                <Grid item xs={12} style={{ textAlign: 'right' }}>\n                  <Typography align='right' color='textSecondary' variant='caption'>\n                    {isEmpty(parentId) ? 'Commented ' : 'Replied '}\n                    {formatDistanceToNow(createdAt, { addSuffix: true })}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Grid container spacing={2} justify='flex-end'>\n                    {canEdit && (\n                      <Grid item>\n                        <EditDialogButton Module={CommentDialog} mount={mountDialog} initialValues={props} tooltip='' variant='link' onClose={onRefresh}>\n                          Edit\n                        </EditDialogButton>\n                      </Grid>\n                    )}\n                    {signedIn && (\n                      <Grid item>\n                        <DialogButton\n                          Module={CommentDialog}\n                          onClose={onRefresh}\n                          tooltip=''\n                          initialValues={{ authorName: isEmpty(userEmail) ? 'Anonymous' : userEmail, postId: props.postId, parentId: props._id }}\n                          variant='link'\n                          mount={canEdit ? false : mountDialog}\n                        >\n                          Reply\n                        </DialogButton>\n                      </Grid>\n                    )}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Box>\n      {filtered.map(comment => (\n        <BlogPostComment key={comment.id} {...comment} sortOption={sortOption} onRefresh={handleRefresh} mountDialog={false} level={level + 1} />\n      ))}\n    </>\n  );\n};\n\nexport default BlogPostComment;\n","import React from 'react';\nimport { useChangeRoute, useUserEmail } from '../../layout/hooks';\nimport { categories, useDefaultValues } from '../../../database/models/Post';\nimport { isEmpty, publicUrl, uuid } from '../../../helpers';\nimport { useEffect } from 'react';\nimport { useDatabaseRow } from '../../../database/useTableState';\nimport { tables } from '../../../database/dbConfig';\nimport useProcessData from '../../../database/useProcessData';\nimport Decimal from 'decimal.js-light';\n\nconst validate = values => {\n  const newErrors = {};\n  ['title', 'shortDescription', 'category', 'readTime', 'publishedAt'].forEach(k => {\n    if (isEmpty(values[k])) {\n      newErrors[k] = 'Required';\n    }\n  });\n\n  if (!isEmpty(values['cover'])) {\n    //size = (n * (3/4)) - y\n    //size is the size of file in bytes\n    //n is the length of the Base64 String\n    //y will be 2 if Base64 ends with '==' and 1 if Base64 ends with '='.\n    var n = values['cover'].length;\n    var y = values['cover'].endsWith('==') ? 2 : 1;\n    const sizeKB = new Decimal(n)\n      .times(new Decimal(3 / 4))\n      .minus(y)\n      .dividedBy(1000)\n      .toInteger();\n    var isValid = sizeKB.lessThanOrEqualTo(350); // <= 350 kb - Dynamo has a size limit of 400kb per database row\n\n    if (!isValid) {\n      newErrors['cover'] = `Image size of ${sizeKB.toString()} kB exceeds maxium size of 300 kB.  Please select a new image.`;\n    }\n  }\n\n  return newErrors;\n};\n\nconst useValues = ({ type = 'create', trigger = false, values: Values = undefined, category: Category = undefined }) => {\n  const changeRoute = useChangeRoute();\n  const email = useUserEmail();\n\n  var initialValues = useDefaultValues(\n    Values ?? {\n      category: Category ?? categories[0]\n    }\n  );\n\n  const _id = initialValues?._id;\n\n  const [cachedValues] = useDatabaseRow(tables.posts, _id);\n\n  if (!isEmpty(_id) && !isEmpty(cachedValues)) {\n    initialValues = { ...initialValues, ...cachedValues }; // Load cached values if present, for faster page loads\n  }\n\n  const [values, setValues] = React.useState(initialValues);\n  const [errors, setErrors] = React.useState({});\n  const [loading, setLoading] = React.useState(false);\n\n  const processData = useProcessData();\n  const getPost = React.useCallback(\n    _id => {\n      setLoading(true);\n      processData({\n        Action: 'r',\n        Model: tables.posts,\n        Snackbar: null,\n        Data: {\n          _id\n        } as any,\n        onSuccess: result => {\n          setValues(result.Item);\n          setLoading(false);\n        },\n        onError: err => {\n          setLoading(false);\n        }\n      });\n    },\n    [processData]\n  );\n\n  const updatePost = React.useCallback(\n    ({ post, onSuccess: OnSuccess, onError: OnError }) => {\n      setLoading(true);\n      processData({\n        Action: 'u',\n        Model: tables.posts,\n        Snackbar: null,\n        Data: {\n          ...post\n        } as any,\n        onSuccess: result => {\n          setValues(result?.Item);\n          setLoading(false);\n          OnSuccess && OnSuccess(result);\n        },\n        onError: err => {\n          setLoading(false);\n          OnError && OnError(err);\n        }\n      });\n    },\n    [processData]\n  );\n\n  useEffect(() => {\n    trigger === true && type === 'view' && _id && getPost(_id);\n  }, [trigger, _id, type, getPost]);\n\n  const handleSave = React.useCallback(\n    async ({ values: Values = undefined, onSuccess = undefined, onError = undefined, idKey = '_id' }) => {\n      const post = { ...(Values ?? values) };\n\n      if (type === 'create') {\n        post[idKey] = uuid();\n        post.created = new Date().getTime();\n        post.createdBy = email;\n      } else {\n        post.updated = new Date().getTime();\n        post.updatedBy = email;\n      }\n\n      setErrors({});\n      const newErrors = validate(values);\n      if (Object.keys(newErrors).length > 0) {\n        setErrors(newErrors);\n        onError && onError(newErrors);\n      } else {\n        updatePost({\n          post,\n          onSuccess: result => {\n            changeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'list' }));\n            onSuccess && onSuccess(result);\n          },\n          onError: err => {\n            alert('Error publishing content.');\n            console.error({ err });\n            onError && onError(err);\n          }\n        });\n      }\n    },\n    // eslint-disable-next-line\n    [values, JSON.stringify(values), changeRoute, email, type]\n  );\n\n  const handleDelete = React.useCallback(\n    ({ deleted = true, onSuccess }) => {\n      handleSave({ values: { ...values, deleted }, onSuccess });\n    },\n    // eslint-disable-next-line\n    [handleSave, JSON.stringify(values)]\n  );\n\n  return { values, setValues, setErrors, handleSave, handleDelete, errors, getPost, loading };\n};\n\nexport default useValues;\n","import React from 'react';\nimport { format } from 'date-fns';\nimport { Box, Button, Chip, Container, createStyles, Divider, Grid, makeStyles, Typography } from '@material-ui/core';\nimport PencilAltIcon from '../../icons/PencilAlt';\nimport BlogPostComment from '../../application/Blog/BlogPostComment';\nimport { useChangeRoute, useUserEmail } from '../../layout/hooks';\nimport { useRouteState } from '../../layout/store';\nimport BlogToolbar from './BlogToolbar';\nimport marked from 'marked';\nimport DOMPurify from 'dompurify';\nimport { bool, isEmpty, isEmptyObject, publicUrl } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport useValues from './useValues';\nimport { useIsAdmin, useSignedIn } from '../../../hooks';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport * as CommentDialog from '../../application/GenericDialog/Comment';\nimport { useCommentsByPostId } from '../../../database/useComments';\nimport { sortComments } from './helpers';\nimport useSortOptions from '../../hooks/useSortOptions';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    deleteButton: {\n      color: theme.palette.error.main,\n      borderColor: theme.palette.error.main,\n      '&:hover': {\n        borderColor: theme.palette.error.main\n      }\n    },\n    wrapper: {\n      color: theme.palette.text.primary,\n      fontFamily: theme.typography.fontFamily,\n      '& h2': {\n        fontSize: theme.typography.h2.fontSize,\n        fontWeight: theme.typography.fontWeightBold,\n        lineHeight: theme.typography.h2.lineHeight,\n        marginBottom: theme.spacing(3)\n      },\n      '& h3': {\n        fontSize: theme.typography.h3.fontSize,\n        fontWeight: theme.typography.fontWeightBold,\n        lineHeight: theme.typography.h3.lineHeight,\n        marginBottom: theme.spacing(3)\n      },\n      '& p': {\n        fontSize: theme.typography.body1.fontSize,\n        lineHeight: theme.typography.body1.lineHeight,\n        marginBottom: theme.spacing(2)\n      },\n      '& li': {\n        fontSize: theme.typography.body1.fontSize,\n        lineHeight: theme.typography.body1.lineHeight,\n        marginBottom: theme.spacing(1)\n      }\n    }\n  })\n);\n\nconst BlogPostDetails = () => {\n  const classes = useStyles();\n  const isAdmin = useIsAdmin();\n  const changeRoute = useChangeRoute();\n\n  const userEmail = useUserEmail();\n\n  const [{ _id }] = useRouteState();\n  const { values = {}, handleDelete } = useValues({ type: 'view', values: { _id } });\n\n  const { enableComments } = values;\n\n  const signedIn = useSignedIn();\n\n  const handleBack = React.useCallback(() => {\n    changeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'list' }));\n  }, [changeRoute]);\n\n  const handleEdit = React.useCallback(() => {\n    changeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'edit', values }));\n    // eslint-disable-next-line\n  }, [changeRoute, JSON.stringify(values)]);\n\n  const purifiedContent = DOMPurify.sanitize(marked(isEmpty(values?.content) ? '' : values?.content)) ?? '';\n\n  const { data: comments, handleRefresh } = useCommentsByPostId({ postId: _id });\n\n  const { sortOption, handleToggleSortDirection, sortLabel, SortOptionIcon } = useSortOptions();\n\n  const commentCount = comments.filter(e => !e.deleted).length;\n\n  const filtered = sortComments(\n    comments.filter(e => !e.deleted && isEmpty(e.parentId)),\n    sortOption\n  );\n\n  return !values ? null : (\n    <>\n      <Container maxWidth='lg'>\n        <BlogToolbar\n          title='Post Details'\n          subtitle='View additional information'\n          showGreeting={false}\n          buttons={[\n            {\n              label: 'Back',\n              startIcon: <Icons.ArrowBack fontSize='small' />,\n              onClick: handleBack\n            },\n            isAdmin &&\n              values?.deleted && {\n                label: 'Restore this post',\n                startIcon: <Icons.RestoreFromTrash fontSize='small' />,\n                onClick: () => {\n                  handleDelete({ deleted: false, onSuccess: handleBack });\n                }\n              },\n            isAdmin &&\n              !values?.deleted && {\n                label: 'Archive this post',\n                startIcon: <Icons.Delete fontSize='small' />,\n                onClick: () => {\n                  handleDelete({ onSuccess: handleBack });\n                },\n                className: classes.deleteButton\n              },\n            isAdmin && {\n              label: 'Edit this post',\n              startIcon: <PencilAltIcon fontSize='small' />,\n              onClick: handleEdit\n            }\n          ].filter(b => b)}\n        />\n        <Divider />\n        <Box py={3}>\n          <Container maxWidth='md'>\n            <Box\n              style={{\n                display: 'flex',\n                justifyContent: 'center'\n              }}\n            >\n              <Chip label={values.category} variant='outlined' />\n            </Box>\n            <Typography\n              align='center'\n              color='textPrimary'\n              style={{\n                fontWeight: 'bold',\n                marginTop: 24\n              }}\n              variant='h2'\n            >\n              {values.title}\n            </Typography>\n            {!isEmpty(values.shortDescription) && (\n              <Typography align='center' color='textSecondary' style={{ marginTop: 24 }} variant='subtitle1'>\n                {values.shortDescription}\n              </Typography>\n            )}\n            <Box\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                marginTop: 24\n              }}\n            >\n              <Box\n                style={{\n                  alignItems: 'center',\n                  display: 'flex',\n                  marginTop: 16\n                }}\n              >\n                <Grid container>\n                  {!isEmpty(values.authorName) && (\n                    <Grid item xs={12}>\n                      <Typography align='center' color='textPrimary' variant='subtitle2'>\n                        {values.authorName}\n                      </Typography>\n                    </Grid>\n                  )}\n                  <Grid item xs={12}>\n                    <Typography align='center' color='textSecondary' variant='body2'>\n                      {`${!isEmptyObject(values?.publishedAt) ? format(values?.publishedAt, 'dd MMM') : ''} · ${values.readTime} read`}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Box>\n          </Container>\n        </Box>\n        {values.cover && (\n          <Box mt={0}>\n            <Container maxWidth='xl'>\n              <Grid container justify='center'>\n                <Grid item>\n                  <img alt='cover' src={values.cover} style={{ maxHeight: 350 }} />\n                </Grid>\n              </Grid>\n            </Container>\n          </Box>\n        )}\n        <Box py={3}>\n          <Container maxWidth='md'>\n            <div className={classes.wrapper}>\n              <article dangerouslySetInnerHTML={{ __html: purifiedContent }}></article>\n            </div>\n          </Container>\n        </Box>\n        {bool(enableComments) && (\n          <div>\n            <Container maxWidth='lg'>\n              <Grid container justify='space-between' spacing={2}>\n                <Grid item>\n                  <Typography color='textPrimary' variant='h6'>\n                    {`Comments (${commentCount})`}\n                  </Typography>\n                </Grid>\n\n                <Grid item>\n                  <Grid container spacing={1}>\n                    <Grid item>\n                      <Button color='primary' onClick={handleToggleSortDirection} size='small' startIcon={<SortOptionIcon fontSize='small' />} variant='text'>\n                        {sortLabel}\n                      </Button>\n                    </Grid>\n                    {signedIn && (\n                      <Grid item>\n                        <DialogButton\n                          Module={CommentDialog}\n                          onClose={handleRefresh}\n                          initialValues={{ authorName: isEmpty(userEmail) ? 'Anonymous' : userEmail, postId: _id }}\n                          variant='default'\n                        >\n                          Add Comment\n                        </DialogButton>\n                      </Grid>\n                    )}\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Box mt={3}>\n                {filtered.length === 0 ? (\n                  <Typography color='textSecondary'>There are no comments</Typography>\n                ) : (\n                  filtered.map((comment, i) => (\n                    <BlogPostComment key={comment.id} {...comment} sortOption={sortOption} onRefresh={handleRefresh} mountDialog={i === 0} />\n                  ))\n                )}\n              </Box>\n            </Container>\n          </div>\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default BlogPostDetails;\n","import { makeStyles } from '@material-ui/core';\nimport { createStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport Quill from 'react-quill';\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    root: {\n      '& .ql-toolbar': {\n        border: 'none',\n        borderBottom: `1px solid ${theme.palette.divider}`,\n        '& .ql-picker-label:hover': {\n          color: theme.palette.secondary.main\n        },\n        '& .ql-picker-label.ql-active': {\n          color: theme.palette.secondary.main\n        },\n        '& .ql-picker-item:hover': {\n          color: theme.palette.secondary.main\n        },\n        '& .ql-picker-item.ql-selected': {\n          color: theme.palette.secondary.main\n        },\n        '& button:hover': {\n          color: theme.palette.secondary.main,\n          '& .ql-stroke': {\n            stroke: theme.palette.secondary.main\n          }\n        },\n        '& button:focus': {\n          color: theme.palette.secondary.main,\n          '& .ql-stroke': {\n            stroke: theme.palette.secondary.main\n          }\n        },\n        '& button.ql-active': {\n          '& .ql-stroke': {\n            stroke: theme.palette.secondary.main\n          }\n        },\n        '& .ql-stroke': {\n          stroke: theme.palette.text.primary\n        },\n        '& .ql-picker': {\n          color: theme.palette.text.primary\n        },\n        '& .ql-picker-options': {\n          padding: theme.spacing(2),\n          backgroundColor: theme.palette.background.default,\n          border: 'none',\n          boxShadow: theme.shadows[10],\n          borderRadius: theme.shape.borderRadius\n        }\n      },\n      '& .ql-container': {\n        border: 'none',\n        '& .ql-editor': {\n          fontFamily: theme.typography.fontFamily,\n          fontSize: 16,\n          color: theme.palette.text.primary,\n          '&.ql-blank::before': {\n            color: theme.palette.text.secondary\n          }\n        }\n      }\n    }\n  })\n);\n\nconst QuillEditor = ({ className = undefined, ...other }) => {\n  const classes = useStyles({});\n  return <Quill className={clsx(classes.root, className)} {...other} />;\n};\n\nexport default QuillEditor;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Duplicate = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path d=\"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z\" />\n    <path d=\"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z\" />\n  </svg>,\n  'Duplicate'\n);\n\nexport default Duplicate;\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst X = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>,\n  'X'\n);\n\nexport default X;\n","import type { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDropzone } from 'react-dropzone';\nimport type { DropzoneOptions } from 'react-dropzone';\nimport { Box, Button, createStyles, IconButton, Link, List, ListItem, ListItemIcon, ListItemText, makeStyles, Tooltip, Typography } from '@material-ui/core';\nimport DuplicateIcon from '../icons/Duplicate';\nimport XIcon from '../icons/X';\nimport { bytesToSize } from '../../helpers';\n\ninterface FileDropzoneProps extends DropzoneOptions {\n  files?: any[];\n  onRemove?: (file: any) => void;\n  onRemoveAll?: () => void;\n  onUpload?: () => void;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    container: ({ isDragActive }: any) => ({\n      alignItems: 'center',\n      border: 1,\n      borderRadius: 1,\n      borderColor: 'divider',\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      outline: 'none',\n      padding: 6 * 8,\n      ...(isDragActive && {\n        backgroundColor: 'action.active',\n        opacity: 0.5\n      }),\n      '&:hover': {\n        backgroundColor: 'action.hover',\n        cursor: 'pointer',\n        opacity: 0.5\n      }\n    }),\n    img: {\n      '& img': {\n        width: 100\n      }\n    },\n    listItem: {\n      border: 1,\n      borderColor: 'divider',\n      borderRadius: 1,\n      '& + &': {\n        marginTop: 8\n      }\n    }\n  })\n);\n\nconst FileDropzone: FC<FileDropzoneProps> = props => {\n  const {\n    accept,\n    disabled,\n    files,\n    getFilesFromEvent,\n    maxFiles,\n    maxSize,\n    minSize,\n    noClick,\n    noDrag,\n    noDragEventsBubbling,\n    noKeyboard,\n    onDrop,\n    onDropAccepted,\n    onDropRejected,\n    onFileDialogCancel,\n    onRemove,\n    onRemoveAll,\n    onUpload,\n    preventDropOnDocument,\n    ...other\n  } = props;\n\n  // We did not add the remaining props to avoid component complexity\n  // but you can simply add it if you need to.\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    accept,\n    maxFiles,\n    maxSize,\n    minSize,\n    onDrop\n  });\n\n  const classes = useStyles({ isDragActive });\n\n  return (\n    <div {...other}>\n      <Box className={classes.container} {...getRootProps()}>\n        <input {...getInputProps()} />\n        <Box className={classes.img}>\n          <img alt='Select file' src='/images/undraw_add_file2_gvbb.svg' />\n        </Box>\n        <Box p={2}>\n          <Typography color='textPrimary' variant='h6'>\n            {`Select file${maxFiles && maxFiles === 1 ? '' : 's'}`}\n          </Typography>\n          <Box style={{ marginTop: 16 }}>\n            <Typography color='textPrimary' variant='body1'>\n              {`Drop file${maxFiles && maxFiles === 1 ? '' : 's'}`}\n              {' or '}\n              <Link color='primary' underline='always'>\n                browse\n              </Link>{' '}\n              thorough your machine\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n      {files.length > 0 && (\n        <Box mt={2}>\n          <List>\n            {files.map(file => (\n              <ListItem key={file.path} className={classes.listItem}>\n                <ListItemIcon>\n                  <DuplicateIcon fontSize='small' />\n                </ListItemIcon>\n                <ListItemText\n                  primary={file.name}\n                  primaryTypographyProps={{\n                    color: 'textPrimary',\n                    variant: 'subtitle2'\n                  }}\n                  secondary={bytesToSize(file.size)}\n                />\n                <Tooltip title='Remove'>\n                  <IconButton edge='end' onClick={() => onRemove && onRemove(file)}>\n                    <XIcon fontSize='small' />\n                  </IconButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n          </List>\n          <Box\n            style={{\n              display: 'flex',\n              justifyContent: 'flex-end',\n              marginTop: 16\n            }}\n          >\n            <Button color='primary' onClick={onRemoveAll} size='small' type='button' variant='text'>\n              Remove All\n            </Button>\n            <Button color='primary' onClick={onUpload} size='small' style={{ marginLeft: 16 }} type='button' variant='contained'>\n              Upload\n            </Button>\n          </Box>\n        </Box>\n      )}\n    </div>\n  );\n};\n\nFileDropzone.propTypes = {\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  disabled: PropTypes.bool,\n  files: PropTypes.array,\n  getFilesFromEvent: PropTypes.func,\n  maxFiles: PropTypes.number,\n  maxSize: PropTypes.number,\n  minSize: PropTypes.number,\n  noClick: PropTypes.bool,\n  noDrag: PropTypes.bool,\n  noDragEventsBubbling: PropTypes.bool,\n  noKeyboard: PropTypes.bool,\n  onDrop: PropTypes.func,\n  onDropAccepted: PropTypes.func,\n  onDropRejected: PropTypes.func,\n  onFileDialogCancel: PropTypes.func,\n  onRemove: PropTypes.func,\n  onRemoveAll: PropTypes.func,\n  onUpload: PropTypes.func,\n  preventDropOnDocument: PropTypes.bool\n};\n\nFileDropzone.defaultProps = {\n  files: []\n};\n\nexport default FileDropzone;\n","import * as React from 'react';\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { isError } from '../../../helpers';\n\nconst DateTimePicker = ({ onChange, value, error, getTime = false, forceErrorMargin = false, ...other }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDateTimePicker\n        fullWidth={true}\n        margin='dense'\n        inputVariant='outlined'\n        KeyboardButtonProps={{\n          'aria-label': 'change date'\n        }}\n        value={value}\n        onChange={React.useCallback(\n          value => {\n            onChange({ target: { value: getTime && value ? value.getTime() : value } });\n          },\n          [getTime, onChange]\n        )}\n        error={isError(error)}\n        helperText={forceErrorMargin ? error || ' ' : error && error} // Forces a constant helper text margin\n        {...other}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateTimePicker;\n","import * as React from 'react';\nimport { createStyles, Grid, makeStyles, Typography } from '@material-ui/core';\nimport { isEmpty } from '../../../helpers';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    notSelected: {\n      borderRadius: 15,\n      width: '100%',\n      border: '5px solid',\n      borderColor: palette.common.white\n    },\n    selected: {\n      borderRadius: 15,\n      width: '100%',\n      border: '5px solid',\n      borderColor: palette.primary.light\n    }\n  })\n);\n\nconst ImageList = ({ value = '', label = undefined, error = undefined, items = [], onChange = undefined }) => {\n  const classes = useStyles({});\n  const handleSelect = React.useCallback(\n    value => () => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <Grid container justify='center' spacing={4} alignItems='center'>\n      {!isEmpty(label) && (\n        <Grid item xs={12}>\n          <Typography variant='h6'>{label}</Typography>\n        </Grid>\n      )}\n      {items.map(item => (\n        <Grid item xs={12} sm={5} md={4} lg={2}>\n          <img alt={item?.label} onClick={handleSelect(item?.value)} src={item?.value} className={item.value === value ? classes.selected : classes.notSelected} />\n        </Grid>\n      ))}\n      {!isEmpty(error) && (\n        <Grid item xs={12}>\n          <Typography align='right' color='error'>\n            {error}\n          </Typography>\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n\nexport default ImageList;\n","import React from 'react';\nimport ImageList from '../../DialogField/ImageList';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\n\nexport const title = 'Stock Image Selector';\n\nconst handleValidation = () => {\n  var errors = {};\n  return errors;\n};\n\nexport default function StockImageSelectorDialog({ id = title, onChange = undefined }) {\n  const [, setState] = useDialogState(id);\n  const handleSelect = React.useCallback(\n    values => {\n      setState(prev => ({ ...prev, open: false }));\n      onChange && onChange(values?.image);\n    },\n    [setState, onChange]\n  );\n\n  return (\n    <GenericDialog\n      id={id}\n      title={id}\n      onSubmit={handleSelect}\n      validate={handleValidation}\n      submitLabel={'Select Image'}\n      maxWidth='xl'\n      fields={[\n        {\n          id: 'image',\n          label: 'Select desired image:',\n          required: true,\n          Field: ImageList,\n          items: [\n            { label: 'Cover Default', value: '/images/covers/cover_default.jpg' },\n            { label: 'Cover 1', value: '/images/covers/cover_1.jpg' },\n            { label: 'Cover 2', value: '/images/covers/cover_2.jpg' },\n            { label: 'Cover 3', value: '/images/covers/cover_3.jpg' },\n            { label: 'Cover 4', value: '/images/covers/cover_4.jpg' },\n            { label: 'Cover 5', value: '/images/covers/cover_5.jpg' },\n            { label: 'Cover 6', value: '/images/covers/cover_6.jpg' },\n            { label: 'Cover 7', value: '/images/covers/cover_7.jpg' },            \n            { label: 'Cover 9', value: '/images/covers/cover_9.jpg' },\n            { label: 'Cover 10', value: '/images/covers/cover_10.jpg' },\n            { label: 'Cover 11', value: '/images/covers/cover_11.jpg' },\n            { label: 'Cover 12', value: '/images/covers/cover_12.jpg' },\n            { label: 'Cover 13', value: '/images/covers/cover_13.jpg' }\n          ]\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { Grid, Typography } from '@material-ui/core';\nimport AvatarEditor from 'react-avatar-editor';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport * as Icons from '@material-ui/icons';\nimport { isEmpty } from '../../../helpers';\n\nconst Image = ({ value = '', onChange = undefined }) => {\n  const [scale, setScale] = React.useState(1) as any;\n  const editorRef = React.useRef() as any;\n\n  const handleSave = () => {\n    onChange && onChange(editorRef?.current?.getImage().toDataURL());\n  };\n\n  return (\n    <Grid container justify='center'>\n      <Grid item>\n        <Typography align='center'>\n          <AvatarEditor\n            ref={editorRef}\n            image={value}\n            width={350}\n            height={350}\n            border={50}\n            color={[255, 255, 255, 0.7]} // RGBA\n            scale={scale}\n            rotate={0}\n          />\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Slider value={scale} min={0.1} max={4} step={0.01} aria-labelledby='Zoom' onChange={(e, scale) => setScale(scale)} />\n      </Grid>\n      <Grid item xs={12}>\n        <div style={{ textAlign: 'right' }}>\n          <DialogButton disabled={isEmpty(editorRef?.current)} Icon={Icons.Save} color='primary' onClick={handleSave}>\n            Update Image\n          </DialogButton>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport { Box, Button, Card, CardContent, Grid, TextField, Typography, useTheme } from '@material-ui/core';\nimport QuillEditor from '../QuillEditor';\nimport FilesDropzone from '../FilesDropzone';\nimport { categories, readTimes } from '../../../database/models/Post';\nimport Check from '../DialogField/Check';\nimport DateTimePicker from '../DialogField/DateTimePicker';\nimport Text from '../DialogField/Text';\nimport { isEmpty } from '../../../helpers';\nimport * as StockImageSelectorDialog from '../GenericDialog/StockImageSelector';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport Image from '../DialogField/Image';\n\nconst toBase64 = (file: File): Promise<ArrayBuffer | string> =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst BlogPostCreateForm = ({ values = {} as any, setValues, errors = {} }) => {\n  const { title = '', authorName, category, content = '', cover, shortDescription = '', readTime } = values;\n\n  const handleDropCover = async ([file]: File[]) => {\n    const cover = (await toBase64(file)) as string;\n    setValues(prev => ({ ...prev, cover }));\n  };\n\n  const [resizing, setResizing] = React.useState(false);\n\n  const changeValue = id => value => setValues(prev => ({ ...prev, [id]: value }));\n  const handleRemoveCover = () => setValues(prev => ({ ...prev, cover: undefined }));\n  const handleChange = id => event => setValues(prev => ({ ...prev, [id]: event?.target?.value }));\n  const handleSelectCover = cover => {    \n    setValues(prev => ({ ...prev, cover }));\n    setResizing(false);\n  };\n  const handleResizeCover = () => setResizing(prev => !prev);\n  \n  const theme = useTheme();\n\n  return (\n    <div>\n      <Grid container spacing={3}>\n        <Grid item lg={8} md={6} xl={9} xs={12}>\n          <Card variant='outlined'>\n            <CardContent>\n              <Text label='Post title' margin='normal' name='title' value={title} error={errors['title']} onChange={handleChange('title')} />\n              <Box mt={3}>\n                <Text\n                  margin='normal'\n                  multiline\n                  label='Short description'\n                  rows={6}\n                  value={shortDescription}\n                  onChange={handleChange('shortDescription')}\n                  error={errors['shortDescription']}\n                />\n              </Box>\n              <Typography\n                color='textSecondary'\n                style={{\n                  marginBottom: 16,\n                  marginTop: 24\n                }}\n                variant='subtitle2'\n              >\n                Cover\n              </Typography>\n              {cover ? (\n                <div style={{ textAlign: 'center' }}>\n                  {resizing ? <Image value={cover} onChange={handleSelectCover} /> : <img src={cover} alt='cover' style={{ width: 350 }} />}\n                  {!isEmpty(errors['cover']) && (\n                    <Box mt={2}>\n                      <Typography align='right' color='error'>\n                        {errors['cover']}\n                      </Typography>\n                    </Box>\n                  )}\n                  <Box\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      marginTop: 16\n                    }}\n                  >\n                    <Button color='primary' onClick={handleResizeCover} variant='text'>\n                      {resizing ? 'Cancel Resize Image' : 'Resize Cover Image'}\n                    </Button>\n                    <Button color='primary' onClick={handleRemoveCover} variant='text'>\n                      Remove Cover Image\n                    </Button>\n                  </Box>\n                </div>\n              ) : (\n                <>\n                  <FilesDropzone accept='image/*' maxFiles={1} onDrop={handleDropCover} />\n                  <Box\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      marginTop: 16\n                    }}\n                  >\n                    <DialogButton variant='default' Module={StockImageSelectorDialog} onChange={handleSelectCover}>\n                      Select From Stock Images\n                    </DialogButton>\n                  </Box>\n                </>\n              )}\n              <Box style={{ marginTop: 24 }}>\n                <Typography color='textSecondary' style={{ marginBottom: 16 }} variant='subtitle2'>\n                  Content\n                </Typography>\n                <QuillEditor\n                  placeholder='Write something'\n                  style={{\n                    height: 400,\n                    borderRadius: 5,\n                    border: `1px solid ${theme.palette.divider}`\n                  }}\n                  onChange={changeValue('content')}\n                  value={content}\n                />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item lg={4} md={6} xl={3} xs={12}>\n          <Card variant='outlined'>\n            <CardContent>\n              <Box mt={2}>\n                <TextField\n                  value={category}\n                  onChange={handleChange('category')}\n                  fullWidth\n                  label='Category'\n                  name='category'\n                  select\n                  SelectProps={{ native: true }}\n                  variant='outlined'\n                >\n                  {categories.map(category => (\n                    <option key={category} value={category}>\n                      {category}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n              <Box mt={2}>\n                <TextField fullWidth multiline label='Author Name' variant='outlined' value={authorName} onChange={handleChange('authorName')} />\n              </Box>\n              <Box mt={2}>\n                <TextField\n                  value={readTime}\n                  onChange={handleChange('readTime')}\n                  fullWidth\n                  label='Read Time'\n                  name='readTime'\n                  select\n                  SelectProps={{ native: true }}\n                  variant='outlined'\n                >\n                  {readTimes.map(rt => (\n                    <option key={rt} value={rt}>\n                      {rt}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n              <DateTimePicker\n                id='publishedAt'\n                label='Date Published'\n                color='primary'\n                onChange={handleChange('publishedAt')}\n                value={values['publishedAt']}\n                error={errors['publishedAt']}\n                margin='normal'\n                getTime={true}\n              />\n              <Box mt={0}>\n                <Check\n                  id='adminOnly'\n                  label='Admin Only'\n                  color='primary'\n                  onChange={handleChange('adminOnly')}\n                  value={values['adminOnly']}\n                  error={errors['adminOnly']}\n                />\n                <Check\n                  id='enableComments'\n                  label='Enable Comments'\n                  color='primary'\n                  onChange={handleChange('enableComments')}\n                  value={values['enableComments']}\n                  error={errors['enableComments']}\n                />\n                <Check id='deleted' label='Archived' color='primary' onChange={handleChange('deleted')} value={values['deleted']} error={errors['deleted']} />\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default BlogPostCreateForm;\n","import React from 'react';\nimport { Box, Container, Divider } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport BlogPostCreateForm from '../../application/Blog/BlogPostCreateForm';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport BlogToolbar from './BlogToolbar';\nimport useValues from './useValues';\nimport { useRouteState } from '../../layout/store';\nimport { publicUrl } from '../../../helpers';\n\nconst BlogPostCreate = () => {\n  const handleChangeRoute = useHandleChangeRoute();\n  const [{ category }] = useRouteState(); // Get initial category\n  const { values, setValues, errors, handleSave } = useValues({ type: 'create', category });\n\n  return (\n    <Container maxWidth='lg'>\n      <BlogToolbar\n        title='Create Post'\n        showGreeting={true}\n        buttons={[\n          {\n            label: 'Cancel',\n            onClick: handleChangeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'list' })),\n            color: 'secondary'\n          },\n          {\n            label: 'Publish Changes',\n            startIcon: <Icons.Save />,\n            onClick: handleSave,\n            variant: 'contained'\n          }\n        ]}\n      />\n\n      <Divider />\n      <Box style={{ paddingTop: 48, paddingBottom: 48 }}>\n        <BlogPostCreateForm values={values} setValues={setValues} errors={errors} />\n      </Box>\n    </Container>\n  );\n};\n\nexport default BlogPostCreate;\n","import React from 'react';\nimport { Box, Container, Divider } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport BlogPostCreateForm from '../../application/Blog/BlogPostCreateForm';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport BlogToolbar from './BlogToolbar';\nimport useValues from './useValues';\nimport { publicUrl } from '../../../helpers';\n\nconst BlogPostEdit = ({ values: Values }) => {\n  const handleChangeRoute = useHandleChangeRoute();\n  const { values, setValues, errors, handleSave } = useValues({ type: 'edit', values: Values });\n\n  return (\n    <Container maxWidth='lg'>\n      <BlogToolbar\n        title='Edit Post'\n        showGreeting={true}\n        buttons={[\n          {\n            label: 'Cancel',\n            onClick: handleChangeRoute(publicUrl('/connect'), prev => ({ ...prev, subRoute: 'list' })),\n            color: 'secondary'\n          },\n          {\n            label: 'Publish Changes',\n            startIcon: <Icons.Save />,\n            onClick: handleSave,\n            variant: 'contained'\n          }\n        ]}\n      />\n      <Divider />\n      <Box style={{ paddingTop: 48, paddingBottom: 48 }}>\n        <BlogPostCreateForm values={values} setValues={setValues} errors={errors} />\n      </Box>\n    </Container>\n  );\n};\n\nexport default BlogPostEdit;\n","import * as React from 'react';\nimport { tables } from './dbConfig';\nimport { isEmpty } from '../helpers';\nimport useProcessData from './useProcessData';\n\nexport default function useTableRow({\n  Model = tables.events,\n  id: Id = undefined,\n  state: externalState = undefined,\n  setState: setExternalState = undefined,\n  active = true,\n  onSuccess: OnSuccess = undefined\n}) {\n  const [internalState, setInternalState] = React.useState();\n  const state = externalState ? externalState : internalState;\n  const setState = setExternalState ? setExternalState : setInternalState;\n  const { open } = state ?? { open: undefined };\n  const processData = useProcessData();\n  const row = state?.response?.Item;\n  const row_str = JSON.stringify(row) ?? '{}'; // Default to empty object string if undefined\n\n  const handleRefresh = React.useCallback(\n    ({ id: _Id = undefined, onSuccess } = {}) => {\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'r',\n          Data: { id },\n          onError: response => setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response })),\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, processData, OnSuccess, setState]\n  );\n\n  React.useEffect(() => {\n    if (open !== undefined) {\n      active && open && handleRefresh(); // For use with dialogs, so we only request data on open\n    } else {\n      active && handleRefresh();\n    }\n  }, [handleRefresh, open, active]);\n\n  const setRow = React.useCallback(\n    ({ id: _Id = undefined, values, prev = undefined, onSuccess = undefined, onError = undefined }) => {\n      // If an id is provided via the function call, use that over Id\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        const prevValues = prev === undefined ? JSON.parse(row_str) : prev; // If user provides previous value, use that, otherwise use the values stored in local state\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...prevValues, id, ...values },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            onError && onError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, setState, processData, row_str, OnSuccess]\n  );\n\n  // Provide previous value via function parameter to prevent multiple re-renders in useEffect hooks\n  const setRowPrev = React.useCallback(\n    ({ id: _Id = undefined, values, prev = undefined, onSuccess = undefined, onError = undefined }) => {\n      // If an id is provided via the function call, use that over Id\n      const id = _Id ? _Id : Id;\n      if (!isEmpty(id)) {\n        setState(prev => ({ ...prev, loading: true, error: undefined, response: undefined }));\n        processData({\n          Model,\n          Action: 'u',\n          Data: { ...prev, id, ...values },\n          onError: response => {\n            setState(prev => ({ ...prev, loading: false, error: 'Error reading values', response }));\n            onError && onError(response);\n          },\n          onSuccess: response => {\n            setState(prev => ({ ...prev, loading: false, error: undefined, response }));\n            onSuccess && onSuccess(response);\n            OnSuccess && OnSuccess(response);\n          }\n        });\n      }\n    },\n    [Id, Model, setState, processData, OnSuccess]\n  );\n\n  // Reads the row from the database first, and then merges the new values into the existing data before saving back to the database\n  const readSetRow = React.useCallback(\n    ({ id = undefined, values, ...other }) => {\n      handleRefresh({ id, onSuccess: response => setRowPrev({ id: id, values, prev: response?.Item, ...other }) });\n    },\n    [setRowPrev, handleRefresh]\n  );\n\n  return { row, setRow, readSetRow, handleRefresh, loading: state?.loading };\n}\n","import * as React from 'react';\nimport { Switch as MuiSwitch, FormControlLabel } from '@material-ui/core';\nimport { bool } from '../../../helpers';\n\nexport default function Switch({ value = undefined, forceErrorMargin = false, error = undefined, getFieldState = undefined, label = '', onChange = undefined, ...other }) {\n  const handleChange = React.useCallback(\n    (event, value) => {\n      onChange && onChange({ target: { value } });\n    },\n    [onChange]\n  );\n\n  return (\n    <FormControlLabel control={<MuiSwitch color='primary' onChange={handleChange} checked={bool(value)} {...other} />} label={label} labelPlacement='start' />\n  );\n}\n","import React from 'react';\nimport { FormControl, InputLabel, Select, FormHelperText } from '@material-ui/core';\nimport { isError, setIfEmpty } from '../../helpers';\n\nexport interface ComponentProps {\n  label?: string;\n  value?: any;\n  margin?: any;\n  forceErrorMargin?: boolean;\n  children?: any;\n}\n\nconst OutlinedSelect = ({\n  label,\n  variant = 'outlined',\n  value,\n  error,\n  required,\n  margin = 'dense',\n  forceErrorMargin = true,\n  getFieldState = undefined,\n  children,\n  ...other\n}: ComponentProps & any) => {\n  const inputLabel = React.useRef<HTMLLabelElement>(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current!.offsetWidth);\n  }, [inputLabel]);\n\n  return (\n    <FormControl variant={variant} required={required} error={isError(error)} fullWidth margin={margin}>\n      <InputLabel ref={inputLabel} shrink={true}>\n        {label}\n      </InputLabel>\n      <Select notched={true} labelWidth={labelWidth} value={setIfEmpty(value)} {...other}>\n        {children}\n      </Select>\n      {(forceErrorMargin || error) && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default OutlinedSelect;\n","import * as React from 'react';\nimport { MenuItem } from '@material-ui/core';\nimport OutlinedSelect from '../../general/OutlinedSelect';\n\n// If using multi select, the value must be the item so the === operator works for determining selected items.\nconst Select = ({ items = [], multiple = false, variant = 'outlined', forceErrorMargin = false, ...other }) => (\n  <OutlinedSelect variant={variant} multiple={multiple} forceErrorMargin={forceErrorMargin} {...other}>\n    {items.map((item, i) => (\n      <MenuItem key={i} value={multiple ? item : item.value}>\n        {item.label}\n      </MenuItem>\n    ))}\n  </OutlinedSelect>\n);\n\nexport default Select;\n","import * as React from 'react';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { isError } from '../../../helpers';\n\nconst DatePicker = ({ onChange, value, error, forceErrorMargin = false, ...other }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        fullWidth={true}\n        margin='dense'\n        inputVariant='outlined'\n        format='MM/dd/yyyy'\n        KeyboardButtonProps={{\n          'aria-label': 'change date'\n        }}\n        value={value}\n        onChange={React.useCallback(\n          (e, value) => {\n            onChange({ target: { value } });\n          },\n          [onChange]\n        )}\n        error={isError(error)}\n        helperText={forceErrorMargin ? error || ' ' : error && error} // Forces a constant helper text margin\n        {...other}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DatePicker;\n","import * as React from 'react';\nimport { TextField, InputAdornment, IconButton, Tooltip } from '@material-ui/core';\nimport { isEmpty, isError } from '../../../helpers';\nimport * as Icons from '@material-ui/icons';\nimport { useHandleLink } from '../../../hooks';\n\nconst TextLink = ({\n  value = '',\n  margin = 'dense',\n  variant = 'outlined',\n  forceErrorMargin = false,\n  error = undefined,\n  initialValue = undefined,\n  InputProps = undefined,\n  disabled = undefined,\n  ...other\n}) => {\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const handleLink = useHandleLink(value);\n\n  return (\n    <TextField\n      value={value}\n      error={isError(error)}\n      helperText={forceErrorMargin ? error || ' ' : error} // Forces a constant helper text margin\n      margin={margin as any}\n      variant={variant as any}\n      fullWidth\n      InputLabelProps={{\n        shrink: true\n      }}\n      InputProps={{\n        endAdornment: (\n          <Tooltip title='Click to open'>\n            <InputAdornment position='end'>\n              <IconButton disabled={isEmpty(value)} aria-label='open-link' onClick={handleLink} onMouseDown={handleMouseDown} edge='end'>\n                <Icons.Link />\n              </IconButton>\n            </InputAdornment>\n          </Tooltip>\n        ),\n        ...InputProps\n      }}\n      disabled={disabled}\n      {...other}\n    />\n  );\n};\n\nexport default TextLink;\n","import React from 'react';\nimport moment from 'moment';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport { isEmpty, uuid } from '../../../../helpers';\nimport { useUserId } from '../../../layout/hooks';\nimport Switch from '../../DialogField/Switch';\nimport DateTimePicker from '../../DialogField/DateTimePicker';\nimport { useTheme } from '@material-ui/core';\nimport Select from '../../DialogField/Select';\nimport DatePicker from '../../DialogField/DatePicker';\nimport TextLink from '../../DialogField/TextLink';\n\nexport const title = 'Add Event';\nconst Model = tables.events;\n\nconst frequencyItems = [\n  { label: 'Single Event', value: 'Once' },\n  { label: 'Create Event Every Day', value: 'Daily' },\n  { label: 'Create Event Every Week', value: 'Weekly' },\n  { label: 'Create Event Every Other Week (Bi-Weekly)', value: 'BiWeekly' },\n  { label: 'Create Event Every Month', value: 'Monthly' }\n];\n\nexport default function EventDialog({ id = title, onClose }) {\n  const userId = useUserId(); \n\n  const [, setState] = useDialogState(id);\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState]\n  );\n\n  const processData = useProcessData();\n  const { palette } = useTheme();\n  const color = palette.primary.light;\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const Data = { ...values, color };\n      setState(prev => ({ ...prev, loading: true }));\n\n      const { frequency } = values;\n\n      const onSuccess = ({ data }) => {\n        // Determine if additionl children events need to be created\n        const { start, end, frequencyEnd } = data;\n        var nextStart;\n        var nextEnd;\n        if (frequency === 'Daily') {\n          // Create an event for each day within the timespan\n          nextStart = moment(start).add(1, 'days');\n          nextEnd = moment(end).add(1, 'days');\n        } else if (frequency === 'Weekly') {\n          // Create an event for each week within the timespan\n          nextStart = moment(start).add(1, 'weeks');\n          nextEnd = moment(end).add(1, 'weeks');\n        } else if (frequency === 'BiWeekly') {\n          // Create an event for each week within the timespan\n          nextStart = moment(start).add(2, 'weeks');\n          nextEnd = moment(end).add(2, 'weeks');\n        } else if (frequency === 'Monthly') {\n          // Create an event for each day within the timespan\n          nextStart = moment(start).add(1, 'months');\n          nextEnd = moment(end).add(1, 'months');\n        } else {\n          return OnSuccess(Data);\n        }\n\n        if (nextStart.toDate() <= moment(frequencyEnd).add(1, 'days').toDate()) {\n          const nextData = { ...data, id: uuid(), start: nextStart.toDate().toISOString(), end: nextEnd.toDate().toISOString(), parentId: Data.id };\n          console.log({ status: 'Creating child event', nextData });\n          processData({\n            Model,\n            Action: 'c',\n            Data: nextData,\n            onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n            onSuccess: () => onSuccess({ data: nextData })\n          });\n        } else {\n          console.log('Done creating child events');\n          OnSuccess(Data);\n        }\n      };\n\n      processData({\n        Model,\n        Action: 'c',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => onSuccess({ data: Data })\n      });\n    },\n    [setState, processData, color]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Success' });\n  }, [handleClose]);\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSuccess, OnError: onError }), [submitData, onSuccess, onError]);\n\n  return (\n    <GenericDialog\n      initialValues={{\n        id: uuid(),\n        userId\n      }}\n      id={id}\n      title={id}\n      onSubmit={handleSubmit}\n      submitLabel='Add'\n      onClose={onClose}\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true\n        },\n        {\n          id: 'description',\n          label: 'Description',\n          multiline: true,\n          rows: 4\n        },        \n        {\n          id: 'link',\n          label: 'Link',\n          Field: TextLink,\n        },\n        {\n          id: 'allDay',\n          label: 'All day',\n          Field: Switch\n        },\n        {\n          id: 'start',\n          label: 'Start',\n          Field: DateTimePicker\n        },\n        {\n          id: 'end',\n          label: 'End',\n          Field: DateTimePicker\n        },\n        {\n          id: 'frequency',\n          label: 'Event Frequency',\n          Field: Select,\n          items: frequencyItems,\n          disableClearable: true,\n          required: true,\n          fullWidth: true\n        },\n        {\n          id: 'frequencyEnd',\n          label: 'Until',\n          Field: DatePicker,\n          hidden: ({ frequency }) => isEmpty(frequency) || frequency === 'Once',\n          fullWidth: true,\n          validate: values => {\n            const { frequency, frequencyEnd, end } = values;\n\n            const fe = moment(frequencyEnd);\n            const e = moment(end);\n            var isInvalid = fe < e;\n\n            var error = isInvalid ? 'Must be after event end date' : undefined;\n            if (!error) {\n              if (frequency === 'Daily') {\n                const dailyMax = e.add(2, 'months').toDate();\n                var dailyError = fe.toDate() > dailyMax;\n                if (dailyError) {\n                  error = 'Timespan must be 2 months or less';\n                }\n              } else if (frequency === 'Weekly') {\n                const weeklyMinEnd = moment(e).add(1, 'weeks').subtract(1, 'days').toDate();\n                const weeklyMax = moment(e).add(6, 'months').toDate();\n                if (weeklyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 1 week from the event end date';\n                } else {\n                  var weeklyError = fe.toDate() > weeklyMax;\n                  if (weeklyError) {\n                    error = 'Timespan must be 6 months or less';\n                  }\n                }\n              } else if (frequency === 'BiWeekly') {\n                const biWeeklyMinEnd = moment(e).add(2, 'weeks').subtract(1, 'days').toDate();\n                const biWeeklyMax = moment(e).add(6, 'months').toDate();\n                if (biWeeklyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 2 weeks from the event end date';\n                } else {\n                  var biWeeklyError = fe.toDate() > biWeeklyMax;\n                  if (biWeeklyError) {\n                    error = 'Timespan must be 6 months or less';\n                  }\n                }\n              } else if (frequency === 'Monthly') {\n                const monthlyMinEnd = moment(e).add(1, 'months').subtract(1, 'days').toDate();\n                const monthlyMax = moment(e).add(12, 'months').toDate();\n                if (monthlyMinEnd > fe.toDate()) {\n                  error = 'Timespan must be at least 1 month from the event end date';\n                } else {\n                  var monthlyError = fe.toDate() > monthlyMax;\n                  if (monthlyError) {\n                    error = 'Timespan must be 12 months or less';\n                  }\n                }\n              } else {\n                error = 'Unknown Frequency';\n              }\n            }\n            return error;\n          }\n        }\n      ]}\n    />\n  );\n}\n","import React from 'react';\nimport type { FC } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Grid, makeStyles } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\nimport DialogButton from '../GenericDialog/DialogButton';\nimport * as EventDialog from '../GenericDialog/Event';\nimport { useUserId } from '../../layout/hooks';\nimport { uuid } from '../../../helpers';\nimport moment from 'moment';\n\ninterface HeaderProps {\n  className?: string;\n  onAddClick?: () => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  action: {\n    marginBottom: theme.spacing(1),\n    '& + &': {\n      marginLeft: theme.spacing(1)\n    }\n  }\n}));\n\nconst Header: FC<HeaderProps> = ({ className, onAddClick, ...rest }) => {\n  const classes = useStyles();\n\n  const userId = useUserId(); // Only instructors can currently create events, so grab the user id\n\n  const initialValues = {\n    id: uuid(),\n    userId,\n    start: moment().toDate(),\n    end: moment().add(30, 'minutes').toDate(),\n    frequency: 'Once',\n    frequencyEnd: moment().add(1, 'months').toDate()\n  };\n\n  return (\n    <Grid className={clsx(classes.root, className)} container justify='space-between' spacing={3} {...rest}>\n      <Grid item xs style={{ textAlign: 'right' }}>\n        <DialogButton Module={EventDialog} initialValues={initialValues} variant='outlined' size='large' mount={false} fullWidth Icon={Icons.Add}>\n          New Event\n        </DialogButton>\n      </Grid>\n    </Grid>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string,\n  onAddClick: PropTypes.func\n};\n\nHeader.defaultProps = {\n  onAddClick: () => {}\n};\n\nexport default Header;\n","import React from 'react';\nimport type { ElementType, FC, ReactNode } from 'react';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { Button, ButtonGroup, Grid, Hidden, IconButton, Tooltip, Typography, makeStyles } from '@material-ui/core';\nimport ViewConfigIcon from '@material-ui/icons/ViewComfyOutlined';\nimport ViewWeekIcon from '@material-ui/icons/ViewWeekOutlined';\nimport ViewDayIcon from '@material-ui/icons/ViewDayOutlined';\nimport ViewAgendaIcon from '@material-ui/icons/ViewAgendaOutlined';\nimport { View } from '../../../database/models/Event';\n\ninterface ToolbarProps {\n  children?: ReactNode;\n  className?: string;\n  date: Date;\n  onDateNext?: () => void;\n  onDatePrev?: () => void;\n  onDateToday?: () => void;\n  onAddClick?: () => void;\n  onViewChange?: (view: View) => void;\n  view: View;\n}\n\ninterface ViewOption {\n  label: string;\n  value: View;\n  icon: ElementType;\n}\n\nconst viewOptions: ViewOption[] = [\n  {\n    label: 'Month',\n    value: 'dayGridMonth',\n    icon: ViewConfigIcon\n  },\n  {\n    label: 'Week',\n    value: 'timeGridWeek',\n    icon: ViewWeekIcon\n  },\n  {\n    label: 'Day',\n    value: 'timeGridDay',\n    icon: ViewDayIcon\n  },\n  {\n    label: 'Agenda',\n    value: 'listWeek',\n    icon: ViewAgendaIcon\n  }\n];\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Toolbar: FC<ToolbarProps> = ({ className, date, onDateNext, onDatePrev, onDateToday, onAddClick, onViewChange, view, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid className={clsx(classes.root, className)} alignItems='center' container justify='space-between' spacing={3} {...rest}>\n      <Grid item>\n        <ButtonGroup size='small'>\n          <Button onClick={onDatePrev}>Prev</Button>\n          <Button onClick={onDateToday}>Today</Button>\n          <Button onClick={onDateNext}>Next</Button>\n        </ButtonGroup>\n      </Grid>\n      <Hidden smDown>\n        <Grid item>\n          <Typography variant='h3' color='textPrimary'>\n            {moment(date).format('MMMM YYYY')}\n          </Typography>\n        </Grid>\n        <Grid item>\n          {viewOptions.map(viewOption => {\n            const Icon = viewOption.icon;\n\n            return (\n              <Tooltip key={viewOption.value} title={viewOption.label}>\n                <IconButton color={viewOption.value === view ? 'secondary' : 'default'} onClick={() => onViewChange(viewOption.value)}>\n                  <Icon />\n                </IconButton>\n              </Tooltip>\n            );\n          })}\n        </Grid>\n      </Hidden>\n    </Grid>\n  );\n};\n\nToolbar.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  date: PropTypes.instanceOf(Date).isRequired,\n  onDateNext: PropTypes.func,\n  onDatePrev: PropTypes.func,\n  onDateToday: PropTypes.func,\n  onAddClick: PropTypes.func,\n  onViewChange: PropTypes.func,\n  view: PropTypes.oneOf(['dayGridMonth', 'timeGridWeek', 'timeGridDay', 'listWeek'])\n};\n\nToolbar.defaultProps = {\n  onDateNext: () => {},\n  onDatePrev: () => {},\n  onDateToday: () => {},\n  onAddClick: () => {},\n  onViewChange: () => {}\n};\n\nexport default Toolbar;\n","import React from 'react';\nimport GenericDialog from '../GenericDialog';\nimport { useDialogState } from '../useDialogState';\nimport useProcessData from '../../../../database/useProcessData';\nimport { tables } from '../../../../database/dbConfig';\nimport Switch from '../../DialogField/Switch';\nimport DateTimePicker from '../../DialogField/DateTimePicker';\nimport useTableRow from '../../../../database/useTableRow';\nimport Label from '../../DialogField/Label';\nimport { Divider } from '@material-ui/core';\nimport TextLink from '../../DialogField/TextLink';\n\nexport const title = 'Edit Event';\nconst Model = tables.events;\n\nexport default function EditEventDialog({ id = title, disabled = false, onClose }) {\n  const [{ eventId, open }, setState] = useDialogState(id);\n\n  const { row: initialValues } = useTableRow({ id: eventId, Model: tables.events, active: open });\n\n  const handleClose = React.useCallback(\n    (props = undefined) => {\n      setState(prev => ({ ...prev, open: false, loading: false }));\n      onClose && onClose();\n    },\n    [onClose, setState]\n  );\n\n  const processData = useProcessData();\n\n  const submitData = React.useCallback(\n    ({ values, OnSuccess }) => {\n      const Data = values;\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action: 'u',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => OnSuccess(Data)\n      });\n    },\n    [setState, processData]\n  );\n\n  const onError = React.useCallback(() => {\n    handleClose({ open: true, variant: 'error', message: 'Error' });\n  }, [handleClose]);\n\n  const onSuccess = React.useCallback(() => {\n    handleClose({ open: true, variant: 'success', message: 'Success' });\n  }, [handleClose]);\n\n  const handleDelete = React.useCallback(\n    values => {\n      const Data = { ...values, deleted: true };\n      setState(prev => ({ ...prev, loading: true }));\n      processData({\n        Model,\n        Action: 'u',\n        Data,\n        onError: () => setState(prev => ({ ...prev, loading: false, error: 'Error submitting values' })),\n        onSuccess: () => onSuccess()\n      });\n    },\n    [setState, processData, onSuccess]\n  );\n\n  const handleSubmit = React.useCallback(values => submitData({ values, OnSuccess: onSuccess, OnError: onError }), [submitData, onSuccess, onError]);\n\n  return (\n    <GenericDialog\n      id={id}\n      title={disabled ? 'View Event' : id}\n      onSubmit={handleSubmit}\n      initialValues={initialValues}\n      onClose={onClose}\n      onDelete={!disabled ? handleDelete : undefined}\n      submitLabel={disabled ? null : 'Save'}\n      cancelLabel='Close'\n      fields={[\n        {\n          id: 'id',\n          hidden: true\n        },\n        {\n          Field: Label,\n          label: 'Event Information'\n        },\n        {\n          Field: Divider\n        },\n        {\n          id: 'title',\n          label: 'Title',\n          required: true,\n          disabled\n        },\n        {\n          id: 'description',\n          label: 'Description',\n          disabled,\n          multiline: true,\n          rows: 4\n        },\n        {\n          id: 'link',\n          label: 'Link',\n          Field: TextLink,\n          disabled\n        },\n        {\n          id: 'allDay',\n          label: 'All day',\n          Field: Switch,\n          disabled\n        },\n        {\n          id: 'start',\n          label: 'Start',\n          Field: DateTimePicker,\n          disabled\n        },\n        {\n          id: 'end',\n          label: 'End',\n          Field: DateTimePicker,\n          disabled\n        },\n      ]}\n    />\n  );\n}\n","import '@fullcalendar/core/main.css';\nimport '@fullcalendar/daygrid/main.css';\nimport '@fullcalendar/timegrid/main.css';\nimport '@fullcalendar/list/main.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport moment from 'moment';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport { Container, Paper, useTheme, useMediaQuery, makeStyles } from '@material-ui/core';\nimport Header from './Header';\nimport Toolbar from './Toolbar';\nimport * as EditEventDialog from '../GenericDialog/EditEvent';\nimport { renderDialogModule } from '../GenericDialog/DialogButton';\nimport { useDialogState } from '../GenericDialog/useDialogState';\nimport * as EventDialog from '../GenericDialog/Event';\nimport { uuid } from '../../../helpers';\nimport { useUserId } from '../../layout/hooks';\nimport { View } from '../../../database/models/Event';\n\nconst useStyles = makeStyles((theme: any) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  calendar: {\n    marginTop: theme.spacing(3),\n    padding: theme.spacing(2),\n    '& .fc-unthemed .fc-head': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-body': {\n      backgroundColor: theme.palette.background.default\n    },\n    '& .fc-unthemed .fc-row': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-axis': {\n      ...theme.typography.body2\n    },\n    '& .fc-unthemed .fc-divider': {\n      backgroundColor: theme.palette.background.dark,\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed th': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed td': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed td.fc-today': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-highlight': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-event': {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      borderWidth: 2,\n      opacity: 0.9,\n      '& .fc-time': {\n        ...theme.typography.h6,\n        color: 'inherit'\n      },\n      '& .fc-title': {\n        ...theme.typography.body1,\n        color: 'inherit'\n      }\n    },\n    '& .fc-unthemed .fc-day-top': {\n      ...theme.typography.body2\n    },\n    '& .fc-unthemed .fc-day-header': {\n      ...theme.typography.subtitle2,\n      fontWeight: theme.typography.fontWeightMedium,\n      color: theme.palette.text.secondary,\n      padding: theme.spacing(1),\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-list-view': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-list-empty': {\n      ...theme.typography.subtitle1\n    },\n    '& .fc-unthemed .fc-list-heading td': {\n      backgroundColor: theme.palette.background.dark,\n      borderColor: theme.palette.divider\n    },\n    '& .fc-unthemed .fc-list-heading-main': {\n      ...theme.typography.h6\n    },\n    '& .fc-unthemed .fc-list-heading-alt': {\n      ...theme.typography.h6\n    },\n    '& .fc-unthemed .fc-list-item:hover td': {\n      backgroundColor: theme.palette.background.dark\n    },\n    '& .fc-unthemed .fc-list-item-title': {\n      ...theme.typography.body1\n    },\n    '& .fc-unthemed .fc-list-item-time': {\n      ...theme.typography.body2\n    }\n  }\n}));\n\nconst CalendarView = ({ events, readSetRow, handleRefresh, create = false, edit = false }) => {\n  const classes = useStyles();\n  const calendarRef = useRef<FullCalendar | null>(null);\n  const theme = useTheme();\n  const mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const [date, setDate] = useState<Date>(moment().toDate());\n  const [view, setView] = useState<View>(mobileDevice ? 'listWeek' : 'dayGridMonth');\n\n  const [, setDialogState] = useDialogState('Add Event');\n  const [, setEditDialogState] = useDialogState('Edit Event');\n\n  const handleDateToday = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.today();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleViewChange = (newView: View): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  };\n\n  const handleDatePrev = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.prev();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleDateNext = (): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.next();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const userId = useUserId();\n\n  const handleRangeSelect = (arg: any): void => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.unselect();\n    }\n\n    setDialogState({\n      open: true,\n      initialValues: {\n        id: uuid(),\n        userId,\n        allDay: false,\n        color: '',\n        description: '',\n        end: moment(arg.start).add(1, 'hours').toDate(), //new Date(arg.end),\n        start: new Date(arg.start),\n        frequency: 'Once',\n        frequencyEnd: moment(arg.start).add(1, 'months').toDate(),\n        title: '',\n        submit: null\n      }\n    });\n  };\n\n  const handleEventSelect = (arg: any): void => {\n    setEditDialogState({\n      open: true,\n      type: 'Edit',\n      eventId: arg.event.id\n    });\n  };\n\n  const handleEventResize = async ({ event }: any): Promise<void> => {\n    readSetRow({\n      id: event.id,\n      values: {\n        allDay: event.allDay,\n        start: event.start.toISOString(),\n        end: event.end.toISOString()\n      },\n      onSuccess: handleRefresh\n    });\n  };\n\n  const handleEventDrop = async ({ event }: any): Promise<void> => {\n    readSetRow({\n      id: event.id,\n      values: {\n        allDay: event.allDay,\n        start: event.start.toISOString(),\n        end: event.end.toISOString()\n      },\n      onSuccess: handleRefresh\n    });\n  };\n\n  useEffect(() => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      const newView = mobileDevice ? 'listWeek' : 'dayGridMonth';\n\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  }, [mobileDevice]);\n\n  return (\n    <Container maxWidth={false}>\n      {create && renderDialogModule({ ...EventDialog, onClose: handleRefresh })}\n      {renderDialogModule({ ...EditEventDialog, disabled: !edit, onClose: handleRefresh })}\n      {create && <Header />}\n      <Toolbar date={date} onDateNext={handleDateNext} onDatePrev={handleDatePrev} onDateToday={handleDateToday} onViewChange={handleViewChange} view={view} />\n      <Paper className={classes.calendar}>\n        <FullCalendar\n          allDayMaintainDuration\n          defaultDate={date}\n          defaultView={view}\n          droppable\n          editable\n          eventClick={handleEventSelect}\n          eventDrop={handleEventDrop}\n          eventLimit\n          eventResizableFromStart\n          eventResize={handleEventResize}\n          events={events.filter(e => !e.deleted)}\n          header={false}\n          height={800}\n          ref={calendarRef}\n          rerenderDelay={10}\n          select={handleRangeSelect}\n          selectable\n          weekends\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin, timelinePlugin]}\n        />\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CalendarView;\n","import * as React from 'react';\nimport useTable from '../../../database/useTable';\nimport { tables } from '../../../database/dbConfig';\n\nconst Model = tables.events;\n\nexport default function useEvents({ requestParams = undefined } = {}) {\n  const { state, handleRequest } = useTable({ TableName: Model });\n  const { data, loading, success } = state as any;\n\n  const handleRefresh = React.useCallback(() => {\n    handleRequest(requestParams);\n    // eslint-disable-next-line\n  }, [JSON.stringify(requestParams), handleRequest]);\n\n  React.useEffect(() => {\n    handleRefresh();\n  }, [handleRefresh]);\n\n  const rows = Object.keys(data).map(k => ({ ...data[k] }));\n\n  return {\n    data: rows,\n    handleRefresh,\n    loading,\n    success\n  };\n}\n\nexport const useEventsByUserId = ({ userId }) => {\n  return useEvents({\n    requestParams: {\n      FilterExpression: '#userId = :userId',\n      ExpressionAttributeNames: {\n        '#userId': 'userId'\n      },\n      ExpressionAttributeValues: {\n        ':userId': userId\n      }\n    }\n  });\n};\n","import * as React from 'react';\nimport { tables } from '../../../database/dbConfig';\nimport useTableRow from '../../../database/useTableRow';\nimport { useIsAdmin } from '../../../hooks';\nimport CalendarView from '../../application/Calendar';\nimport useEvents from './useEvents';\n\nexport default function CommunityCalendar() {\n  const { data: events, handleRefresh } = useEvents();\n  const { readSetRow } = useTableRow({ Model: tables.events });\n  const isAdmin = useIsAdmin();\n  return <CalendarView create={isAdmin} edit={isAdmin} events={events.filter(e => !e.deleted)} readSetRow={readSetRow} handleRefresh={handleRefresh} />;\n}\n","import React from 'react';\nimport { Box, Container } from '@material-ui/core';\nimport BlogToolbar from './BlogToolbar';\nimport CommunityCalendar from '../Calendar/CommunityCalendar';\n\nconst BlogCalendar = () => {\n  return (\n    <Container maxWidth='lg'>\n      <BlogToolbar />\n      <Box py={3}>\n        <CommunityCalendar />\n      </Box>\n    </Container>\n  );\n};\n\nexport default BlogCalendar;\n","import * as React from 'react';\nimport TabSelectorTextToolBar from '../../general/TabSelector/TabSelectorTextToolBar';\n\nconst tabs = [\n  { id: 'News', route: '/connect', routeState: { subRoute: 'list', cateogory: 'News' } },\n  { id: 'Forum', route: '/connect', routeState: { subRoute: 'list', category: 'Forum' } },\n  { id: 'Calendar', route: '/connect', routeState: { subRoute: 'calendar' } }\n].filter(t => t);\n\nconst BlogLayoutSelector = props => {\n  return <TabSelectorTextToolBar id='BlogLayoutSelector' tabs={tabs} {...props} />;\n};\n\nexport default BlogLayoutSelector;\n","import * as React from 'react';\nimport BlogPostList from '../../pages/Blog/BlogPostList';\nimport BlogPostDetails from '../../pages/Blog/BlogPostDetails';\nimport BlogPostCreate from '../../pages/Blog/BlogPostCreate';\nimport { useRouteState } from '../../layout/store';\nimport BlogPostEdit from '../../pages/Blog/BlogPostEdit';\nimport { Box, Divider } from '@material-ui/core';\nimport BlogCalendar from '../../pages/Blog/BlogCalendar';\nimport BlogLayoutSelector from './BlogLayoutSelector';\n\nconst components = {\n  create: BlogPostCreate,\n  edit: BlogPostEdit,\n  view: BlogPostDetails,\n  list: BlogPostList,\n  calendar: BlogCalendar\n};\n\nconst BlogLayout = () => {\n  const [{ subRoute = 'list', category = 'News', ...other } = {}] = useRouteState();\n  const BlogComponent = components[subRoute];\n\n  return (\n    <Box pt={3}>\n      <BlogLayoutSelector category={category} />\n      <Divider style={{ marginTop: 16 }} />\n      <BlogComponent category={category} {...other} />\n    </Box>\n  );\n};\n\nexport default BlogLayout;\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Divider, Box, Collapse, IconButton } from '@material-ui/core';\nimport { useFullScreen } from '../../../hooks';\nimport DialogButton from '../../application/GenericDialog/DialogButton';\nimport { useRouteState } from '../../layout/store';\nimport { useHandleChangeRoute } from '../../layout/hooks';\nimport { publicUrl } from '../../../helpers';\nimport ExpandableDescription from '../../application/GenericTable/ApplicationsSummary/ExpandableDescription';\nimport ImageCarousel from '../../general/ImageCarousel';\nimport { useAppHistoryData } from '../../application/GenericTable/ApplicationHistory/selectors';\nimport { Pagination, Alert, AlertTitle } from '@material-ui/lab';\nimport * as Icons from '@material-ui/icons';\nimport ViewAppHeader from '../ViewAppHeader';\nimport ViewAppRating from '../ViewAppRating';\nimport { tables } from '../../../database/dbConfig';\nimport { AppState } from '../../../store';\nimport { useSelector } from 'react-redux';\nimport useAppTableDataTest from '../useAppTableDataTest';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    primaryText: {\n      fontSize: 18,\n      fontWeight: 700,\n      color: palette.primary.dark\n    },\n    bold: {\n      fontWeight: 900,\n      color: palette.common.black\n    }\n  })\n);\n\nexport default function SurveyFollowUp() {\n  const classes = useStyles();\n  var sm = useFullScreen('sm');\n\n  const [state] = useRouteState();\n\n  const { surveyId, followUpSurveyType, appId, from } = state;\n\n  const { handleGetRow } = useAppTableDataTest({ trigger: false });\n  React.useEffect(() => {\n    handleGetRow(appId);\n  }, [handleGetRow, appId]);\n\n  const app = useSelector((s: AppState) => s.database[tables.applications][appId]);\n\n  const { _id, appleStore, androidStore } = app ?? {};\n\n  const fromSurvey = from === 'Survey';\n\n  const handleChangeRoute = useHandleChangeRoute();\n\n  const appleScreenshots = appleStore?.screenshots ?? [];\n  const androidScreenshots = androidStore?.screenshots ?? [];\n  const images = [...appleScreenshots, ...androidScreenshots];\n\n  const history = useAppHistoryData('N/A', _id);\n\n  const [page, setPage] = React.useState(1);\n\n  const handlePageChange = React.useCallback(\n    (event, page) => {\n      setPage(page);\n    },\n    [setPage]\n  );\n\n  const rating = history[page - 1];\n\n  const [open, setOpen] = React.useState(false);\n  React.useEffect(() => {\n    setTimeout(() => setOpen(true), 1000);\n  }, [setOpen]);\n\n  return (\n    <Grid container justify='center' style={{ padding: sm ? 16 : 32 }} spacing={2}>\n      <Grid item xs={12} style={{ cursor: 'pointer' }} onClick={handleChangeRoute(publicUrl('/Apps'), {})}>\n        <Typography>{`<   Back To Applications`}</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <ViewAppHeader app={app} />\n      </Grid>\n      <Grid item xs={12}>\n        <Divider />\n        <Collapse in={open}>\n          <Box mt={2}>\n            {fromSurvey ? (\n              <Alert\n                severity='success'\n                action={\n                  <IconButton\n                    aria-label='close'\n                    color='inherit'\n                    size='small'\n                    onClick={() => {\n                      setOpen(false);\n                    }}\n                  >\n                    <Icons.Close fontSize='inherit' />\n                  </IconButton>\n                }\n              >\n                Thank you for participating in our survey!\n              </Alert>\n            ) : (\n              <Alert\n                severity='success'\n                action={\n                  <IconButton\n                    aria-label='close'\n                    color='inherit'\n                    size='small'\n                    onClick={() => {\n                      setOpen(false);\n                    }}\n                  >\n                    <Icons.Close fontSize='inherit' />\n                  </IconButton>\n                }\n              >\n                <Grid container spacing={4} justify='space-between'>\n                  <Grid item>\n                    <AlertTitle>\n                      <strong>Thank you for participating in our previous survey!</strong>\n                    </AlertTitle>\n                    Would you like to participate in our follow up survey to help improve this web application?\n                  </Grid>\n                  <Grid item xs>\n                    <DialogButton\n                      onClick={handleChangeRoute(publicUrl('/Survey'), { app, surveyId, surveyType: followUpSurveyType, mode: 'add' })}\n                      variant='surveyButton'\n                    >\n                      Click Here to Take Follow Up Survey\n                    </DialogButton>\n                  </Grid>\n                </Grid>\n              </Alert>\n            )}\n          </Box>\n        </Collapse>\n      </Grid>\n      <Grid item xs={12}>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <Typography className={classes.bold}>Description from App Store, Not Vetted by MIND:</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <ExpandableDescription maxDescription={2000} appleStore={appleStore} androidStore={androidStore} />\n          </Grid>\n          <Grid item xs={12}>\n            <Box mt={4} mb={4}>\n              <ImageCarousel images={images} />\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography className={classes.primaryText} variant='body1'>\n              Ratings and Reviews ({history.length})\n            </Typography>\n            <Typography variant='caption'>{`Explore the app's qualitative ratings & reviews`}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Box mt={2}>{rating && <ViewAppRating {...rating.getValues()} />}</Box>\n          </Grid>\n          {history.length > 1 && (\n            <Grid item xs={12}>\n              <Grid container justify='flex-end'>\n                <Pagination page={page} count={history.length} variant='outlined' shape='rounded' onChange={handlePageChange} />\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import { Route, Switch } from 'react-router';\nimport RatingProcess from '../pages/RatingProcess';\nimport AppsV2 from '../pages/AppsV2';\nimport MyRatings from '../pages/MyRatings/MyRatings';\nimport { publicUrl } from '../../helpers';\nimport PlayGround from './PlayGround';\nimport HomeV2 from '../pages/HomeV2';\nimport FrameworkQuestionsV2 from '../pages/FrameWorkQuestionsV2/FrameworkQuestionsV2';\nimport RateNewAppIntro from '../pages/RateNewAppIntro';\nimport RateNewAppV2, { RateExistingApp } from '../pages/RateNewApp/RateNewAppV2';\nimport ViewApp from '../pages/ViewApp';\nimport RateAnApp from '../pages/RateAnApp';\nimport Admin from '../pages/Admin/Admin';\nimport BlogLayout from '../application/Blog/BlogLayout';\nimport Survey from '../pages/Survey/Survey';\nimport SurveyFollowUp from '../pages/Survey/SurveyFollowUp';\n\nconst Routes = () => (\n  <Switch>\n    <Route exact path={'/'} component={HomeV2} />\n    <Route exact path={publicUrl('/')} component={HomeV2} />\n    <Route exact path={publicUrl('/Admin')} component={Admin} />\n    <Route exact path={publicUrl('/MyRatings')} component={MyRatings} />\n    <Route exact path={publicUrl('/Home')} component={HomeV2} />\n    <Route exact path={publicUrl('/FrameworkQuestions')} component={FrameworkQuestionsV2} />\n    <Route exact path={publicUrl('/Apps')} component={AppsV2} />\n    <Route exact path={publicUrl('/Rating')} component={RatingProcess} />\n    <Route exact path={publicUrl('/RateNewApp')} component={RateNewAppV2} />\n    <Route exact path={publicUrl('/RateExistingApp')} component={RateExistingApp} />\n    <Route exact path={publicUrl('/RateAnApp')} component={RateAnApp} />\n    <Route exact path={publicUrl('/RateNewAppIntro')} component={RateNewAppIntro} />\n    <Route exact path={publicUrl('/ViewApp')} component={ViewApp} />\n    <Route exact path={publicUrl('/connect')} component={BlogLayout} />\n    <Route exact path={publicUrl('/Survey')} component={Survey} />\n    <Route exact path={publicUrl('/SurveyFollowUp')} component={SurveyFollowUp} />\n    <Route exact path={publicUrl('/PlayGround')} component={PlayGround} />\n  </Switch>\n);\n\nexport default Routes;\n","import React from 'react';\nimport { isDev, isEmpty } from '../../helpers';\nimport LogRocket from 'logrocket';\nimport { useUserEmail, useUserId } from './hooks';\nimport pkg from '../../../package.json';\n\nconst useLogRocketUser = () => {\n  const email = useUserEmail();\n  const userId = useUserId();\n\n  React.useEffect(() => {\n    if (pkg.enableLogRocket && !isDev() && !isEmpty(userId) && !isEmpty(email)) {\n      console.log(`Setting logrocket identity ${userId}:${email}`);\n      LogRocket.identify(userId, {\n        email\n      });\n    }\n  }, [email, userId]);\n};\n\nexport default useLogRocketUser;\n","import * as React from 'react';\nimport Routes from './routes';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AppState } from '../../store';\nimport { connect } from 'react-redux';\nimport LayoutV2 from './LayoutV2';\nimport useLogRocketUser from './useLogRocketUser';\n\nexport interface AppRouterProps {\n  history?: any;\n}\n\nfunction AppRouter(props: AppRouterProps) {\n  const { history } = props;\n  useLogRocketUser(); \n  return (\n    <ConnectedRouter history={history}>\n      <LayoutV2>\n        <Routes />\n      </LayoutV2>\n    </ConnectedRouter>\n  );\n}\n\nconst mapStateToProps = (state: AppState, ownProp: AppRouterProps): AppRouterProps => {\n  var history = ownProp.history;\n  const location = state && state.router && state.router.location; //location from redux store (previously persisted location)\n  history.location = location ? location : history.location; //if a previous location exists, then set it, otherwise use the passed in/default value\n  return { history };\n};\n\nexport default connect(mapStateToProps)(AppRouter);\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_cognito_identity_pool_id\": \"us-east-1:9d16d0b9-34eb-4bc2-a666-d4d89d044dae\",\n    \"aws_cognito_region\": \"us-east-1\",\n    \"aws_user_pools_id\": \"us-east-1_hXektTdUL\",\n    \"aws_user_pools_web_client_id\": \"4ngc7297ls1pngpm8hapdv03f9\",\n    \"oauth\": {}\n};\n\n\nexport default awsmobile;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport { withStyles } from '@material-ui/core';\n\nexport const html = {\n  WebkitFontSmoothing: 'antialiased', // Antialiasing.\n  MozOsxFontSmoothing: 'grayscale' // Antialiasing.\n  //boxSizing: 'border-box', // Custom, remove box sizing as it affects child layout height calculations\n};\n\nexport const body = theme => ({\n  color: theme.palette.text.primary,\n  ...theme.typography.body2,\n  backgroundColor: theme.palette.background.default,\n  '@media print': {\n    // Save printer ink.\n    backgroundColor: theme.palette.common.white\n  }\n});\n\nexport const styles = theme => ({\n  '@global': {\n    html,\n    '*, *::before, *::after': {\n      boxSizing: 'inherit'\n    },\n    'strong, b': {\n      fontWeight: theme.typography.fontWeightBold\n    },\n    body: {\n      margin: 0, // Remove the margin in all browsers.\n      ...body(theme),\n      // Add support for document.body.requestFullScreen().\n      // Other elements, if background transparent, are not supported.\n      '&::backdrop': {\n        backgroundColor: theme.palette.background.default\n      }\n    }\n  }\n});\n\n/**\n * Kickstart an elegant, consistent, and simple baseline to build upon.\n */\nfunction CssBaseline(props) {\n  /* eslint-disable no-unused-vars */\n  const { children = null } = props;\n  /* eslint-enable no-unused-vars */\n  return <React.Fragment>{children}</React.Fragment>;\n}\n\nCssBaseline.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * You can wrap a node.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  CssBaseline['propTypes' + ''] = exactProp(CssBaseline.propTypes);\n}\n\nexport default withStyles(styles, { name: 'MuiCssBaseline' })(CssBaseline);\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport configureStore from './storeConfig';\nimport { createBrowserHistory } from 'history';\nimport { AppState } from './store';\nimport { persistStore } from 'redux-persist';\nimport ViewPort from './components/layout/ViewPort';\nimport AppRouter from './components/layout/AppRouter';\nimport Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports';\nimport CssBaselineCustom from './components/layout/CssBaselineCustom';\nimport { isDev, useLayoutTheme } from './helpers';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport LogRocket from 'logrocket';\nimport pkg from '../package.json';\n\nexport const history = createBrowserHistory(); // Create browser history to use in the Redux store'\nexport const initialState = (window as any).initialReduxState as AppState; // Get the application-wide store instance, prepopulating with state from the server where available.\nexport const store = configureStore(history, initialState) as any; //Setup the global store object\nexport const getState = store.getState;\nexport const persistor = persistStore(store); //Setup the global persistor\n\npkg.enableLogRocket && !isDev() && LogRocket.init('bidmc/mindapp');\n\nAmplify.configure(awsconfig);\n\nfunction ThemedViewPort(props: any) {\n  const { children } = props;\n  const layoutTheme = useLayoutTheme();\n\n  return (\n    <MuiThemeProvider theme={layoutTheme}>\n      <CssBaselineCustom />\n      <ViewPort>{children}</ViewPort>\n    </MuiThemeProvider>\n  );\n}\n\nfunction AppWrapper(props: any) {\n  const { children } = props;\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <ThemedViewPort>{children}</ThemedViewPort>\n        </MuiPickersUtilsProvider>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <React.Suspense fallback={<></>}>\n        <AppRouter history={history} />\n      </React.Suspense>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'react-quill/dist/quill.snow.css';\nimport * as serviceWorker from './serviceWorker';\nimport { printHeader } from './helpers';\n\nprintHeader();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default __webpack_public_path__ + \"static/media/default_app_icon.c78e8cb1.png\";","import Application from './models/Application';\nimport { identityPoolId, region } from '../../package.json';\nimport { Post } from './models/Post';\nimport { Event } from './models/Event';\nimport { Comment } from './models/Comment';\nexport const AWS = require('aws-sdk'); // Load the AWS SDK for Node.js\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = region;\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: identityPoolId\n});\n\nexport const dynamo = new AWS.DynamoDB.DocumentClient();\n\nexport type DataModel = Application | Post | Event | Comment | any;\nexport type TableName = 'applications' | 'filters' | 'posts' | 'comments' | 'events' | 'surveys' | 'surveyReminders';\n\nexport const tables = {\n  applications: 'applications' as TableName,\n  filters: 'filters' as TableName,\n  posts: 'posts' as TableName,\n  comments: 'comments' as TableName,\n  events: 'events' as TableName,\n  surveys: 'surveys' as TableName,\n  surveyReminders: 'surveyReminders' as TableName\n};\n","import { updateState } from '../../../helpers';\n\nexport const defaultDialogState = {\n  open: false,\n  type: 'add',\n  errors: {},\n  showErrors: false,\n  submitting: false,\n  initialValues: {}\n};\n\nconst initialState = {\n  'Getting Started': { open: true }\n};\n\nexport const updateDialog = (id, payload) => ({ type: 'UPDATE_DIALOG', id, payload });\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case 'UPDATE_DIALOG':\n      return updateState(state, action);\n    case 'LOGOUT':\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { adminUsers } from '../package.json';\n\nexport const useFullScreen = (size = 'sm' as any) => {\n  const theme = useTheme();\n  return useMediaQuery(theme.breakpoints.down(size));\n};\n\nexport const useSignedIn = () => {\n  const isEmpty = useSelector((s: any) => s.layout.user === undefined);\n  const isLoaded = useSelector((s: any) => s.layout.user !== undefined);\n  return isLoaded && !isEmpty ? true : false;\n};\n\nexport const useIsAdmin = () => {\n  const signedIn = useSignedIn();\n  const email = useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email ?? '');\n  const adminEmails = adminUsers.split(',');\n  return signedIn && adminEmails.findIndex(ae => ae.trim().toLowerCase() === email.trim().toLowerCase()) > -1 ? true : false;\n};\n\nexport const useHandleLink = link => {\n  return React.useCallback(() => {\n    const win = window.open(link, '_blank');\n    win && win.focus();\n  }, [link]);\n};\n\nexport const useUrlParameter = paramName => {\n  var sPageURL = window.location.search.substring(1),\n    sURLVariables = sPageURL.split('&'),\n    sParameterName,\n    i;\n\n  for (i = 0; i < sURLVariables.length; i++) {\n    sParameterName = sURLVariables[i].split('=');\n\n    if (sParameterName[0] === paramName) {\n      return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    }\n  }\n  return undefined;\n};\n","import React from 'react';\nimport { Grid, Typography, makeStyles, Theme, createStyles, Button } from '@material-ui/core';\nimport { onlyUnique, sortAscendingToLower } from '../../../../helpers';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    secondaryButton: {\n      color: theme.palette.common.white,\n      background: theme.palette.primary.light,\n      '&:hover': {\n        background: theme.palette.primary.main\n      }\n    }\n  })\n);\n\nexport default function PlatformButtons({ platforms = [], androidLink, iosLink, webLink }) {\n  const classes = useStyles({});\n\n  const handleLink = React.useCallback(\n    platform => event => {\n      event && event.stopPropagation && event.stopPropagation();\n      const url = platform === 'Android' ? androidLink : platform === 'iOS' ? iosLink : webLink;\n      var win = window.open(url, '_blank');\n      win.focus();\n    },\n    [androidLink, iosLink, webLink]\n  );\n\n  return (\n    <Typography noWrap component='span'>\n      <Grid container spacing={1}>\n        {platforms\n          .sort(sortAscendingToLower)\n          .filter(onlyUnique)\n          .map((p, i) => (\n            <Grid item key={`platform-${p}-${i}`}>\n              <Button size='small' className={classes.secondaryButton} onClick={handleLink(p)}>\n                {p}\n              </Button>\n            </Grid>\n          ))}\n      </Grid>\n    </Typography>\n  );\n}\n","import React from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport {\n  Button,\n  IconButton,\n  Tooltip,\n  Grid,\n  Typography,\n  Fab,\n  useTheme,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  createStyles,\n  Badge,\n  withStyles,\n  Link,\n  MenuItem\n} from '@material-ui/core';\nimport { useDialogState } from './useDialogState';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { checkEmpty, evalFunc } from '../../../helpers';\nimport { useTableFilterValues } from '../GenericTable/store';\nimport * as Icons from '@material-ui/icons';\nimport { useFullScreen } from '../../../hooks';\nimport ArrowButton from '../../general/ArrowButton';\n\nexport interface DialogModuleProps {\n  default: any;\n  title: string;\n  props?: any;\n}\n\nexport const renderDialogModule = ({ default: Dialog, title = undefined, ...props }) => Dialog && <Dialog id={title} {...props} />;\n\nexport const EditDialogButton = ({\n  variant = 'iconbutton',\n  placement = 'left',\n  tooltip = 'Edit',\n  mount = false, // Default to false, as most edit buttons are within the table rows, which get remounted in various scenaries (layout resizing etc)\n  ...other\n}) => <DialogButton variant={variant} Icon={EditIcon} type='Edit' tooltip={tooltip} placement={placement} mount={mount} {...other} />;\n\nconst StyledBadge = withStyles(theme =>\n  createStyles({\n    badge: {\n      top: 7,\n      right: 6,\n      border: `1px solid ${theme.palette.background.paper}`\n    }\n  })\n)(Badge);\n\nexport const TableFilterDialogButton = ({ table, Module, Icon = Icons.FilterList, tooltip = 'Filter Results' }) => {\n  const [values, setValues] = useTableFilterValues(table);\n  const {\n    Features = [],\n    Engagements = [],\n    Inputs = [],\n    Outputs = [],\n    Functionalities = [],\n    Conditions = [],\n    Platforms = [],\n    Cost = [],\n    Privacy = [],\n    Uses = [],\n    DeveloperTypes = [],\n    ClinicalFoundations = []\n  } = values as any;\n  const filterCount = [\n    Features,\n    Engagements,\n    Inputs,\n    Outputs,\n    Functionalities,\n    Conditions,\n    Platforms,\n    Cost,\n    Privacy,\n    Uses,\n    DeveloperTypes,\n    ClinicalFoundations\n  ].reduce((t, c) => (t = t + c.length), 0);\n\n  const handleReset = React.useCallback(() => setValues({}), [setValues]);\n  const fullScreen = useFullScreen();\n\n  return (\n    <StyledBadge badgeContent={filterCount} color='error' overlap='circle' anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}>\n      <DialogButton\n        Module={Module}\n        Icon={Icon}\n        tooltip={filterCount === 0 ? tooltip : `${filterCount} Filters Active`}\n        table={table}\n        values={values}\n        setValues={setValues}\n        onReset={handleReset}\n      >\n        {!fullScreen && 'Filter'}\n      </DialogButton>\n    </StyledBadge>\n  );\n};\n\n// Pass a dialog via Module.  If dialog is mounted elsewhere, set mounted = false to prevent duplicate mounts\nexport interface DialogButtonProps {\n  id?: string;\n  Module?: DialogModuleProps;\n  type?: 'Add' | 'Edit' | 'View';\n  tooltip?: string;\n  placement?: any;\n  color?: any;\n  variant?: string;\n  Icon?: any;\n  initialValues?: object;\n  children?: any;\n}\n\nconst useStyles = makeStyles(({ palette, spacing }: any) =>\n  createStyles({\n    margin: {\n      margin: spacing(1)\n    },\n    listitem: {\n      padding: 8,\n      paddingLeft: 16,\n      paddingRight: 8,\n      background: 'inherit',\n      '&:hover': {\n        color: palette.common.white,\n        background: palette.primary.main\n      }\n    },\n    primaryButton: {\n      borderRadius: 7,\n      fontSize: 16,\n      fontWeight: 700,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      minWidth: 160,\n      height: 40,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    primaryButton2: {\n      borderRadius: 7,\n      color: palette.common.white,\n      background: palette.primary.dark,\n      '&:hover': {\n        background: palette.primary.main\n      }\n    },\n    surveyButton: {\n      fontSize: 16,\n      fontWeigt: 800,\n      borderRadius: 7,\n      color: palette.common.white,\n      background: 'green',\n      '&:hover': {\n        background: 'green',\n        opacity: 0.8\n      },\n      paddingLeft: 16,\n      paddingRight: 16,\n      height: 48,\n      width: 300\n    }\n  })\n);\n\nconst DialogButton = React.forwardRef(function DialogButton(\n  {\n    id: Id = undefined,\n    Module = undefined,\n    type = 'Add',\n    tooltip = '',\n    placement = 'bottom',\n    color = 'primary',\n    variant = 'fab',\n    underline = 'hover',\n    linkvariant = 'caption',\n    size = 'small',\n    label = '',\n    disabled = undefined,\n    Icon = AddIcon,\n    initialValues = {},\n    noGrid = true,\n    mount = true,\n    onClick = undefined,\n    onClose = undefined,\n    onChange = undefined,\n    onReset = undefined,\n    values = undefined,\n    setValues = undefined,\n    className = undefined,\n    disabledColor = undefined,\n    fullWidth = true,\n    style = undefined,\n    children,\n    ...other\n  }: DialogButtonProps & any,\n  ref\n) {\n  const classes = useStyles({});\n  const theme = useTheme();\n  const fullScreen = useFullScreen();\n  const id = Id ? Id : Module && Module.title;\n  const [, setDialogState] = useDialogState(id);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const other_s = JSON.stringify(other);\n  const handleUpdate = React.useCallback(() => {\n    setDialogState({\n      type,\n      open: true,\n      initialValues: evalFunc(initialValues),\n      ...JSON.parse(other_s)\n    });\n  }, [setDialogState, other_s, initialValues, type]);\n\n  const handleClose = React.useCallback(() => {\n    setAnchorEl(null);\n    onClose && onClose();\n  }, [onClose, setAnchorEl]);\n\n  const handleClick = React.useCallback(\n    event => {\n      setAnchorEl(event.currentTarget);\n      onClick && onClick(event);\n      handleUpdate();\n    },\n    [onClick, handleUpdate]\n  );\n\n  const shared = {\n    disabled,\n    onClick: handleClick,\n    size,\n    className\n  };\n\n  const wrapGrid = Content =>\n    !noGrid ? (\n      <Grid key={tooltip} item>\n        {Content}\n      </Grid>\n    ) : (\n      Content\n    );\n\n  return wrapGrid(\n    <>\n      {mount && Module && renderDialogModule({ ...Module, anchorEl, onClose: handleClose, onChange, onReset, values, setValues })}\n      <Tooltip\n        placement={placement}\n        title={\n          disabled ? (\n            ''\n          ) : checkEmpty(tooltip) ? (\n            tooltip\n          ) : (\n            <Typography variant='h6' color='inherit'>\n              {tooltip}\n            </Typography>\n          )\n        }\n      >\n        <span>\n          {variant === 'default' ? (\n            <Button {...shared} color={color}>\n              {children}\n            </Button>\n          ) : variant === 'arrowButton' ? (\n            <ArrowButton label={label} {...shared} size='normal' />\n          ) : variant === 'primaryButton' ? (\n            <Button {...shared} className={classes.primaryButton} fullWidth={fullWidth} style={style}>\n              {children}\n            </Button>\n          ) : variant === 'primaryButton2' ? (\n            <Button {...shared} className={classes.primaryButton2} fullWidth={fullWidth} style={style}>\n              {children}\n            </Button>\n          ) : variant === 'surveyButton' ? (\n            <Button {...shared} className={classes.surveyButton} fullWidth={fullWidth} style={style}>\n              {children}\n            </Button>\n          ) : variant === 'menuitem' ? (\n            <MenuItem key={label} {...shared}>\n              {children}\n            </MenuItem>\n          ) : variant === 'listitem' ? (\n            <ListItem key={label} button={true} className={classes.listitem} {...shared}>\n              <ListItemText primary={label} />\n            </ListItem>\n          ) : variant === 'iconbutton' ? (\n            <IconButton className={classes.margin} color={color} {...shared}>\n              {Icon && <Icon fontSize='large' />}\n            </IconButton>\n          ) : variant === 'primarycontained' ? (\n            <Button color='primary' variant='contained' {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'text' ? (\n            <Button\n              color='secondary'\n              style={{\n                width: 48,\n                height: 48\n              }}\n              variant={variant}\n              {...shared}\n            >\n              {Icon && <Icon style={{ margin: -4 }} />}\n            </Button>\n          ) : variant === 'contained' ? (\n            <Button fullWidth={fullWidth} variant={variant} color={color as any} {...shared} style={style}>\n              {children}\n            </Button>\n          ) : variant === 'smallOutlined' ? (\n            <Button size='small' variant='outlined' style={{ width: 96 }} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'outlined' ? (\n            <Button variant='outlined' color={color} startIcon={Icon && <Icon />} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'standard' ? (\n            <Button color={color as any} {...shared}>\n              {children}\n            </Button>\n          ) : variant === 'link' ? (\n            disabled ? (\n              <Typography color='textSecondary' variant='caption'>\n                {children}\n              </Typography>\n            ) : (\n              <Link color={color} variant={linkvariant} underline={underline} style={{ cursor: 'pointer' }} {...shared}>\n                {children}\n              </Link>\n            )\n          ) : (\n            <Fab\n              size={size}\n              variant='extended'\n              color={color}\n              style={{\n                color: disabled ? (disabledColor ? disabledColor : theme.palette.primary.light) : theme.palette.common.white\n              }}\n              {...shared}\n            >\n              {Icon && <Icon />}\n              {children && <div style={{ marginLeft: Icon ? 4 : 0, marginRight: !fullScreen ? 4 : 0 }}>{children}</div>}\n            </Fab>\n          )}\n        </span>\n      </Tooltip>\n    </>\n  );\n});\n\nexport default DialogButton;\n","export default \"data:image/png;base64,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\"","import { AndroidStoreProps } from '../../components/application/DialogField/AndroidStore';\nimport { AppleStoreProps } from '../../components/application/DialogField/AppleStore';\nimport android from '../../images/android.png';\nimport apple from '../../images/apple.png';\nimport moodtracking from '../../images/moodtracking.png';\nimport journaling from '../../images/journaling.png';\nimport mindfulness from '../../images/mindfulness.png';\nimport peersupport from '../../images/peersupport.png';\nimport psychoeducation from '../../images/psychoeducation.png';\n\nexport type Platform = 'Android' | 'iOS' | 'Web';\nexport const Platforms: Platform[] = ['Android', 'iOS', 'Web'];\nexport const PlatformImages = [\n  { value: 'Android', label: 'Android', image: android },\n  { value: 'iOS', label: 'iOS', image: apple }\n];\n\nexport type Cost = 'Totally Free' | 'Free to Download' | 'In-App Purchase' | 'Payment' | 'Subscription';\n\nexport const CostQuestions = [\n  { value: 'Free to Download', label: 'Is the app free to download?', tooltip: 'Some apps may be free up front but then have in app purchases.' },\n  { value: 'Totally Free', label: 'Is the app totally free?', tooltip: 'No cost up front, no in app purchases.' },\n  { value: 'Payment', label: 'Is there a one time payment?' },\n  { value: 'In-App Purchase', label: 'Are there in-app purchases?' },\n  { value: 'Subscription', label: 'Is there a subscription (recurrent/monthly/annual)?' }\n];\n\nexport const Costs: Cost[] = CostQuestions.map(cq => cq.value as Cost);\n\nexport type ClinicalFoundation =\n  | 'Well Written Relevant Content'\n  | 'Does What it Claims'\n  | 'Patient Facing'\n  | 'Can Cause Harm'\n  | 'Supporting Studies'\n  | 'Use Warning';\n\nexport const ClinicalFoundationQuestions = [\n  {\n    value: 'Well Written Relevant Content',\n    short: 'Well Written',\n    label: 'Is the app content well-written, correct, and relevant?'\n  },\n  {\n    value: 'Does What it Claims',\n    short: 'Does as Claims',\n    label: 'Does the app appear to do what it claims to do?',\n    tooltip: 'If the app claims to offer CBT, for example, is there evidence that CBT is provided on the app?'\n  },\n  {\n    value: 'Patient Facing',\n    label: 'Is the app patient facing?',\n    tooltip: 'Is the app relevant and intended for an individual with the condition the app relates to?'\n  },\n  {\n    value: 'Can Cause Harm',\n    label: 'Can the app cause harm?',\n    tooltip:\n      \"Does the app make recommendations or suggestions that directly defy clinical guidelines? Does it include overtly false information, like a suicide hotline number that doesn't actually work?\"\n  },\n  { value: 'Use Warning', label: 'Does the app specify that it is not a replacement for medical care?' },\n  { value: 'Supporting Studies', label: 'Does the app contain supporting studies?' }\n];\n\nexport const ClinicalFoundations: ClinicalFoundation[] = ClinicalFoundationQuestions.map(cfq => cfq.value as ClinicalFoundation);\n\nexport type Privacy =\n  | 'Has Privacy Policy'\n  | 'Data Stored on Device'\n  | 'Data Stored on Server'\n  | 'Can Delete Data'\n  | 'App Declares Data Use and Purpose'\n  | 'App Reports Security Measures in Place'\n  | 'Is PHI Shared'\n  | 'Is De-Identified Data Shared'\n  | 'Is Anonymized/Aggregate Data Shared'\n  | 'Can Opt Out of Data Collection'\n  | 'Meets HIPAA'\n  | 'Has Crisis Management Feature';\n\nconst hasPrivacyPolicy = value => !value.includes('Has Privacy Policy');\n\nexport const PrivacyQuestions = [\n  { value: 'Has Privacy Policy', short: 'Has Policy', label: 'Is there a privacy policy?' },\n  {\n    value: 'Data Stored on Device',\n    short: 'Device Storage',\n    label: 'Is the data stored only on the device?',\n    tooltip: 'User data is either stored locally (exclusively on the device) or on a server.',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Data Stored on Server',\n    short: 'Server Storage',\n    label: 'Is the data stored on a server?',\n    tooltip: 'If the data is stored only on the device, then it won’t be stored on a server.',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Can Delete Data',\n    short: 'Can Delete Data',\n    label: 'Can you delete your data?',\n    tooltip: 'Can user data be deleted? Some apps may retain data permanently even if the user deletes the app.',\n    hidden: hasPrivacyPolicy\n  },\n  { value: 'App Declares Data Use and Purpose', short: 'Declares Purpose', label: 'Does the app declare data use and purpose?', hidden: hasPrivacyPolicy },\n  {\n    value: 'App Reports Security Measures in Place',\n    short: 'Security Measures',\n    label: 'Does the app report security measures in place?',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Is PHI Shared',\n    label: 'Is PHI shared?',\n    short: 'PHI Shared',\n    tooltip:\n      'PHI refers to personal health information that is entered into the app (name, birthday, content of messages, mental health information). Data is shared if it leaves the app in any way.',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Is De-Identified Data Shared',\n    short: 'De-Indentifed Data Shared',\n    label: 'Is de-identified data shared?',\n    tooltip:\n      'De-identified data is information that has been stripped of personally identifiable attributes (Names and identifiers have been stripped, but the individual information remains)',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Is Anonymized/Aggregate Data Shared',\n    short: 'Anonymized Data Shared',\n    label: 'Is anonymized/aggregate data shared?',\n    tooltip: 'Anonymized data can no longer be associated with an individual in any manner.',\n    hidden: hasPrivacyPolicy\n  },\n  {\n    value: 'Can Opt Out of Data Collection',\n    short: 'Data Collection Opt Out',\n    label: 'Can you opt out of data collection?',\n    tooltip: 'Is there a way for a user to indicate that they don’t want to app to collect or share their data?',\n    hidden: hasPrivacyPolicy\n  },\n  { value: 'Meets HIPAA', label: 'Does the app claim to meet HIPAA?', hidden: hasPrivacyPolicy },\n  {\n    value: 'Has Crisis Management Feature',\n    short: 'Crisis Management Feature',\n    label: 'Does the app have a crisis management feature?',\n    tooltip: 'An app’s emergency response or crisis management feature is often detailed in the privacy policy.',\n    hidden: hasPrivacyPolicy\n  }\n];\n\nexport const Privacies: Privacy[] = PrivacyQuestions.map(pq => pq.value as Privacy);\n\nexport type Engagement =\n  | 'User Generated Data'\n  | 'Chat/Message'\n  | 'Assessments/Screenings'\n  | 'Real Time Response'\n  | 'Asynchronous Response'\n  | 'Gamification (Points/Badges)'\n  | 'Videos'\n  | 'Audio/Music/Scripts'\n  | 'AI Support'\n  | 'Peer Support'\n  | 'Network Support'\n  | 'Collaborative With Provider/Other';\n\nexport const EngagementQuestions = [\n  { value: 'User Generated Data', label: 'User generated data?', tooltip: 'Examples include mood tracking, diary app, etc.' },\n  { value: 'Chat/Message', label: 'Chat/message based?' },\n  { value: 'Assessments/Screenings', label: 'Does app have have screeners/assesments?', tooltip: 'Examples include PHQ9, GAD7, etc.' },\n  { value: 'Real Time Response', label: 'Real time response?', tooltip: 'Someone will reply to your chat right away.' },\n  {\n    value: 'Asynchronous Response',\n    label: 'Asynchronous response?',\n    tooltip: 'There are no immediate responses to chats. Responses come at predetermined intervals (once a day; every four hours; etc)'\n  },\n  {\n    value: 'Gamification (Points/Badges)',\n    short: 'Gamification',\n    label: 'Gamification (points, badges)?',\n    tooltip: 'User can win points and prizes for engaging with the app.'\n  },\n  { value: 'Videos', label: 'Videos?' },\n  {\n    value: 'Audio/Music/Scripts',\n    label: 'Audio/music/scripts?',\n    tooltip: 'Does the app provide music or audio experiences? Some meditation apps, for example, utilize audio.'\n  },\n  { value: 'AI Support', label: 'AI support', tooltip: 'Interaction is not with a real person but with a bot.' },\n  {\n    value: 'Peer Support',\n    label: 'Peer support?',\n    tooltip: 'Peer is defined as a person with lived experience and support involves actually communicating (so not just watching a video)'\n  },\n  { value: 'Network Support', label: 'Network support?', tooltip: 'Network is defined as someone (like family or friend) who is actually known.' },\n  {\n    value: 'Collaborative With Provider/Other',\n    short: 'Collaboration',\n    label: 'Collaborative with provider/other?',\n    tooltip: 'Does it allow for direct collaboration with a provider or clinician? Beyond just being able to share your data'\n  }\n];\n\nexport const Engagements: Engagement[] = EngagementQuestions.map(eq => eq.value as Engagement);\n\nexport type Functionality = 'Spanish' | 'Offline' | 'Accessibility' | 'Own Your Own Data' | 'Email or Export Your Data' | 'Send Your Data to a Medical Record';\n\nexport const FunctionalityQuestions = [\n  { value: 'Spanish', label: 'Does the app work with Spanish?', tooltip: 'Test it on the app itself and confirm via the app store.' },\n  { value: 'Offline', label: 'Does the app work offline?', tooltip: 'Does the app work in airplane mode?' },\n  {\n    value: 'Accessibility',\n    label: 'Does it have at least one accessibility feature?',\n    tooltip:\n      'Does the app work with the adjustable text size setting of the phone? Or text to voice features? Does the app have an internal setting for increasing text size?'\n  },\n  {\n    value: 'Own Your Own Data',\n    short: 'Own Data',\n    label: 'Do you own your own data?',\n    tooltip: 'This can be found in the privacy policy of the app but is relevant for data sharing capacity. Can a user see and access their data from the app?'\n  },\n  {\n    value: 'Email or Export Your Data',\n    short: 'Export Data',\n    label: 'Can you email or export your data?',\n    tooltip: 'Can data be downloaded or exported, or emailed straight from the app?'\n  },\n  {\n    value: 'Send Your Data to a Medical Record',\n    short: 'Send Record',\n    label: 'Can you send your data to a medical record?',\n    tooltip: 'Does the app sync with EMR? Most apps are not currently equipped with connections to medical record.'\n  }\n];\n\nexport const Functionalities: Functionality[] = FunctionalityQuestions.map(fq => fq.value as Functionality);\n\nexport type Input = 'Surveys' | 'Diary' | 'Geolocation' | 'Contact List' | 'Camera' | 'Microphone' | 'Step Count' | 'External Devices' | 'Social Network';\nexport const InputQuestions = [\n  { value: 'Surveys', label: 'Surveys?', tooltip: 'Does the app enable a user to enter surveys such as mood or symptom surveys?' },\n  { value: 'Diary', label: 'Diary?', tooltip: 'Does the app have a journaling, diary, or free writing feature?' },\n  { value: 'Geolocation', label: 'Geolocation?', tooltip: 'Does the app enable location services from the phone?' },\n  { value: 'Contact List', label: 'Contact List?', tooltip: 'Can a user connect their contact list to the app?' },\n  {\n    value: 'Camera',\n    label: 'Camera?',\n    tooltip: 'Do any features of the app utilize camera input? So profile picture? Or photo diary features? Or video chat?'\n  },\n  { value: 'Microphone', label: 'Microphone?' },\n  { value: 'Step Count', label: 'Step Count?', tooltip: 'Does the app utilize step tracking?' },\n  {\n    value: 'External Devices',\n    label: 'External Devices',\n    tooltip: `Does the app connect with an external device such as a smart watch or heart rate monitor?`\n  },\n  {\n    value: 'Social Network',\n    label: 'Social Network?',\n    tooltip: 'Connection to social media. Does the app allow you to input social media information? For example, do you connect it to your facebook to log in?'\n  }\n];\n\nexport const Inputs: Input[] = InputQuestions.map(iq => iq.value as Input);\n\nexport type Output =\n  | 'Notifications'\n  | 'References/Information'\n  | 'Social Network'\n  | 'Reminders'\n  | 'Graphs of Data'\n  | 'Summary of Data'\n  | 'Link to Formal Care/Coaching';\n\nexport const OutputQuestions = [\n  {\n    value: 'Notifications',\n    label: 'Notifications?',\n    tooltip: 'Does the app send notifications? These notifications could be incoming messages, reminders from the app, or alerts.'\n  },\n  { value: 'References/Information', label: 'References/Information?', tooltip: 'Does the app provide psychoeducational references or information?' },\n  {\n    value: 'Social Network',\n    label: 'Social Network?',\n    tooltip: 'Can you post information from the app to social media? Does the app connect to social media for posting purposes?'\n  },\n\n  {\n    value: 'Reminders',\n    label: 'Reminders?',\n    tooltip: 'Does the app allow you to set reminders? (Oftentimes these reminders will then generate notifications)'\n  },\n  { value: 'Graphs of Data', label: 'Graphs of Data?', tooltip: 'Does the app allow a user to see graphically depicted data?' },\n  { value: 'Summary of Data', label: 'Summary of Data?', tooltip: 'Does the app provide written summaries of data (description of data apart from a graph)?' },\n  {\n    value: 'Link to Formal Care/Coaching',\n    label: 'Link to Formal Care/Coaching?',\n    tooltip: 'Does the app connect a user with a healthcare provider? A licensed therapist or clinician?'\n  }\n];\n\nexport const Outputs: Output[] = [\n  'Notifications',\n  'References/Information',\n  'Social Network',\n  'Reminders',\n  'Graphs of Data',\n  'Summary of Data',\n  'Link to Formal Care/Coaching'\n];\n\nexport type Feature =\n  | 'Track Mood'\n  | 'Track Medication'\n  | 'Track Sleep'\n  | 'Track Symptoms'\n  | 'Productivity'\n  | 'Physical Health'\n  | 'Psychoeducation'\n  | 'Journaling'\n  | 'Mindfulness'\n  | 'Deep Breathing'\n  | 'Picture Gallery/Hope Board'\n  | 'iCBT or Sleep Therapy'\n  | 'CBT'\n  | 'ACT'\n  | 'DBT'\n  | 'Peer Support'\n  | 'Coach/Therapist Connection'\n  | 'Biodata'\n  | 'Goal Setting/Habits'\n  | 'Physical Health Exercises'\n  | 'Bbot Interaction'\n  | 'Bio Feedback with Sense Data';\n\nexport const FeatureQuestions = [\n  { value: 'Track Mood', label: 'Does app have mood tracking?' },\n  { value: 'Track Medication', label: 'Does app have medication tracking?' },\n  {\n    value: 'Track Sleep',\n    label: 'Does app have sleep tracking?',\n    tooltip: 'Does the app track sleep, either in conjunction with a wearable or through user-entered information?'\n  },\n  { value: 'Track Symptoms', label: 'Does app have symptom tracking?' },\n  { value: 'Productivity', label: 'Does app have productivity?' },\n  {\n    value: 'Physical Health',\n    label: 'Does app have physical exercise tracking?',\n    tooltip: 'Does it allow a user to track duration or content of physical exercise?'\n  },\n  {\n    value: 'Psychoeducation',\n    label: 'Does app have psychoeducation?',\n    tooltip: 'Does app provide definitions, explanations of different diagnoses? Is it didactic?'\n  },\n  { value: 'Journaling', label: 'Does app have journaling?' },\n  { value: 'Mindfulness', label: 'Does app have mindfulness?' },\n  { value: 'Deep Breathing', label: 'Does app have deep breathing?' },\n  {\n    value: 'Picture Gallery/Hope Board',\n    label: 'Does app have a picture gallery or hope board?',\n    tooltip: 'Does the app allow a user to curate a gallery of saved and searched images and quotes?'\n  },\n  {\n    value: 'iCBT or Sleep Therapy',\n    label: 'Does app have iCBT or sleep therapy?',\n    tooltip: 'Does the app offer sleep therapy of any kind (including iCBT, a targeted sleep intervention)?'\n  },\n  { value: 'CBT', label: 'Does app have CBT?', tooltip: 'Does the app provide cognitive-behavioral therapy?' },\n  { value: 'ACT', label: 'Does app have ACT?', tooltip: 'Does the app provide Acceptance and Commitment Therapy?' },\n  { value: 'DBT', label: 'Does app have DBT?', tooltip: 'Does the app provide dialectical behavior therapy?' },\n  {\n    value: 'Peer Support',\n    label: 'Does app have peer support?',\n    tooltip: 'Does the app offer connection to peer specialists or individuals with lived experience?'\n  },\n  {\n    value: 'Coach/Therapist Connection',\n    label: 'Does have have a connection to coach/therapist?',\n    tooltip: 'The app has a built-in way to connect with a provider or coach.'\n  },\n  { value: 'Biodata', label: 'Does app have biodata tracking?', tooltip: 'Does it collect heart rate, skin conductance, etc.' },\n  { value: 'Goal Setting/Habits', label: 'Does app have goal setting/habits?', tooltip: 'Productivity feature allowing user to set and check in on goals.' },\n\n  {\n    value: 'Physical Health Exercises',\n    label: 'Does app have physical health exercises?',\n    tooltip: 'Something like a 7 minute workout that actually gives a workout.  This is a recommendation of exercises, NOT exercise tracking.'\n  },\n  { value: 'Bbot Interaction', label: 'Does app have chatbot interaction?', tooltip: 'An example would be interaction with a virtual character.' },\n  {\n    value: 'Bio Feedback with Sense Data',\n    label: 'Does app have bio feedback with sense data?',\n    tooltip:\n      'The app uses biodata to provide feedback/recommendations (an app that will recommend more breathing exercises to respond to high heart rate, for example).'\n  }\n];\n\n// Requests were made to change certain hard coded values.  This handles this display logic\nexport const withReplacement = text => {\n  return text === 'Bbot Interaction' ? 'Chatbot Interaction' : text;\n};\n\nexport const FeatureImages = [\n  { value: 'Track Mood', label: 'Mood Tracking', image: moodtracking },\n  { value: 'Journaling', label: 'Journaling', image: journaling },\n  { value: 'Mindfulness', label: 'Mindfulness', image: mindfulness },\n  { value: 'Peer Support', label: 'Peer Support', image: peersupport },\n  { value: 'Psychoeducation', label: 'Psychoeducation', image: psychoeducation }\n];\n\nexport const Features = FeatureQuestions.map(fq => fq.value as Feature);\n\nexport type Condition =\n  | 'Mood Disorders'\n  | 'Stress & Anxiety'\n  | 'Sleep'\n  | 'Phobias'\n  | 'OCD'\n  | 'Schizophrenia'\n  | 'Eating Disorders'\n  | 'Personality Disorders'\n  | 'Self-Harm'\n  | 'PTSD'\n  | 'Substance Use'\n  | 'Substance Use (Alcohol)'\n  | 'Substance Use (Smoking & Tobacco)'\n  | 'Headache'\n  | 'Pain'\n  | 'Non-Specific';\n\nexport const Conditions: Condition[] = [\n  'Mood Disorders',\n  'Stress & Anxiety',\n  'Sleep',\n  'Phobias',\n  'OCD',\n  'Schizophrenia',\n  'Eating Disorders',\n  'Personality Disorders',\n  'Self-Harm',\n  'PTSD',\n  'Substance Use',\n  'Substance Use (Alcohol)',\n  'Substance Use (Smoking & Tobacco)',\n  'Headache',\n  'Pain',\n  'Non-Specific'\n];\n\nexport type DeveloperType = 'Government' | 'For Profit Company' | 'Non-Profit Company' | 'Healthcare Company' | 'Academic Institution';\n\nexport const DeveloperTypeQuestions = [\n  { value: 'Government', label: 'Does it come from the government?' },\n  { value: 'For Profit Company', short: 'For Profit', label: 'Does it come from a for-profit company?' },\n  { value: 'Non-Profit Company', short: 'Non-Profit', label: 'Does it come from a non-profit company?' },\n  { value: 'Healthcare Company', short: 'Healthcare', label: 'Does it come from a trusted healthcare company?' },\n  { value: 'Academic Institution', short: 'Academic', label: 'Does it come from an academic institution?' }\n];\n\nexport const DeveloperTypes: DeveloperType[] = DeveloperTypeQuestions.map(dtq => dtq.value as DeveloperType);\n\nexport type Use = 'Self Help' | 'Reference' | 'Hybrid';\n\nexport const UseQuestions = [\n  {\n    value: 'Self Help',\n    label: 'Is app a self-help/self-managment tool?',\n    tooltip: 'Provides activities that can be used for self-help and self-management, such as mood or symptom tracking or mindfulness exercises.'\n  },\n  {\n    value: 'Reference',\n    label: 'Is app a reference app?',\n    tooltip: 'Provides information and references but not necessarily activites.  Psychoeducation first.'\n  },\n  {\n    value: 'Hybrid',\n    label: 'Intended for hybrid use with a clinician and treatment plan?',\n    tooltip:\n      'Is the app intended to be used as an adjunct to care? Apps that have built-in methods of connecting with a provider meet this criteria. However, a teletherapy app would not be intended for hybrid care, as the app replaces in-person care.'\n  }\n];\n\nexport const Uses = UseQuestions.map(uq => uq.value as Use);\n\nexport default interface Application {\n  _id: string;\n  _rev: string;\n  groupId: string; // groupId for app so we can track the rating/approval chain more easily\n  name: string;\n  company: string;\n  icon: string;\n  androidLink: string;\n  iosLink: string;\n  webLink: string;\n  platforms: Platform[];\n  developerTypes: DeveloperType[];\n  costs: Cost[];\n  conditions: Condition[];\n  privacies: Privacy[];\n  uses: Use[];\n  clinicalFoundations: ClinicalFoundation[];\n  features: Feature[];\n  functionalities: Functionality[];\n  inputs: Input[];\n  outputs: Output[];\n  engagements: Engagement[];\n  androidStore: AndroidStoreProps; // Meta information from the store\n  appleStore: AppleStoreProps; // Meta information from the store\n  readingLevel: number; // Reading level of the privacy policy (what grade reading level)?\n  feasibilityStudies: number; // How many feasibility/usability studies?\n  feasibilityStudiesLink: string;\n  feasibilityImpact: number; // What is the highest feasibility impact factor?\n  efficacyStudies: number; // How many evidence/efficacy studies?\n  efficacyStudiesLink: string; // How many evidence/efficacy studies?\n  efficacyImpact: number; //What is the highest efficacy impact factor?\n  review: string;\n  email: string; // User's email\n  uid: string; // Uid for user\n  approverEmail: string; // User's email who approved\n  parent: any; // If object was created from a parent, keep the link to it\n  created: number;\n  updated: number;\n  delete: boolean; // If set to true item has been deleted, keep in database\n  approved: boolean;\n  draft: boolean;\n}\n","import * as React from 'react';\nimport { Grid, Typography, createStyles, makeStyles, Button } from '@material-ui/core';\nimport * as Icons from '@material-ui/icons';\n\nconst useStyles = makeStyles(({ palette }: any) =>\n  createStyles({\n    arrowRight: ({ fontSize, marginTop }: any) => ({\n      color: palette.primary.light,\n      fontSize,\n      marginTop\n    }),\n    primaryTextSmall: {\n      fontWeight: 900,\n      color: palette.primary.dark\n    }\n  })\n);\n\nexport default function ArrowButton({ size = 'normal' as any, variant = 'body1' as any, label, onClick = undefined }) {\n  const classes = useStyles({ fontSize: size === 'small' ? 19 : undefined, marginTop: size === 'small' ? 1 : undefined });\n  return (\n    <Button size={size} onClick={onClick}>\n      <Grid container spacing={1}>\n        <Grid item>\n          <Typography variant={variant} className={classes.primaryTextSmall}>\n            {label}\n          </Typography>\n        </Grid>\n        <Grid item>\n          <Icons.ArrowRightAlt className={classes.arrowRight} />\n        </Grid>\n      </Grid>\n    </Button>\n  );\n}\n","import * as React from 'react';\nimport { Reducer } from 'redux';\nimport { AppState } from '../../store';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { theme } from '../../constants';\nimport { useFullScreen, useIsAdmin } from '../../hooks';\nimport { useLocation } from 'react-router';\nimport { useTheme } from '@material-ui/core';\nimport { homepage } from '../../../package.json';\n\nexport type ViewMode = 'table' | 'grid';\n\nexport interface State {\n  height?: number;\n  width?: number;\n  appBarHeight?: number;\n  footerHeight?: number;\n  headerHeight?: number;\n  viewMode?: ViewMode;\n  adminMode?: boolean;\n  routeState: any;\n}\n\nconst defaultState = {\n  width: 0,\n  height: 0,\n  appBarHeight: (theme as any).layout.toolbarheight,\n  footerHeight: (theme as any).layout.footerHeight,\n  headerHeight: (theme as any).layout.headerHeight,\n  viewMode: 'grid',\n  adminMode: false,\n  routeState: {},\n  leftDrawerOpen: false\n};\n\nconst setUser = user => ({ type: 'SET_USER', user });\nconst resizeViewPort = (height: number | undefined, width: number | undefined) => ({ type: 'RESIZE_VIEWPORT', height: height, width: width });\nconst resizeAppBar = (height: number | undefined) => ({ type: 'RESIZE_APPBAR', height });\nconst resizeFooter = (height: number | undefined) => ({ type: 'RESIZE_FOOTER', height });\nconst resizeHeader = (height: number | undefined) => ({ type: 'RESIZE_HEADER', height });\nconst changeViewMode = (mode: ViewMode) => ({ type: 'CHANGE_VIEW_MODE', mode });\nconst changeAdminMode = (adminMode: boolean) => ({ type: 'CHANGE_ADMIN_MODE', adminMode });\n\nexport const reducer: Reducer<State> = (state: State | any, action) => {\n  switch (action.type) {\n    case 'ROUTE_STATE':\n      return {\n        ...state,\n        routeState: action.state\n      };\n    case 'SET_USER':\n      return {\n        ...state,\n        user: action.user\n      };\n    case 'RESIZE_APPBAR':\n      return {\n        ...state,\n        appBarHeight: action.height\n      };\n    case 'RESIZE_FOOTER':\n      return {\n        ...state,\n        footerHeight: action.height\n      };\n    case 'RESIZE_HEADER':\n      return {\n        ...state,\n        headerHeight: action.height\n      };\n    case 'UPDATE_LAYOUT':\n      return {\n        ...state,\n        ...action.payload\n      };\n    case 'RESIZE_VIEWPORT':\n      return {\n        ...state,\n        height: action.height,\n        width: action.width\n      };\n    case 'CHANGE_VIEW_MODE':\n      return {\n        ...state,\n        viewMode: action.mode\n      };\n    case 'CHANGE_ADMIN_MODE':\n      return {\n        ...state,\n        adminMode: action.adminMode\n      };\n    case 'CHANGE_LAYOUT_MODE':\n      return {\n        ...state,\n        layoutMode: action.layoutMode\n      };\n    default:\n  }\n  return state || { ...defaultState };\n};\n\nexport const useSetUser = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(user => dispatch(setUser(user)), [dispatch]);\n};\n\nexport const useResizeAppBar = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch(resizeAppBar(height)), [dispatch]);\n};\n\nexport const useResizeFooter = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch(resizeFooter(height)), [dispatch]);\n};\n\nexport const useResizeHeader = () => {\n  const dispatch = useDispatch();\n  return React.useCallback(height => dispatch(resizeHeader(height)), [dispatch]);\n};\n\nexport const useAppBarHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.appBarHeight);\n};\n\nexport const useFooterHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.footerHeight);\n};\n\nexport const useHeaderHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.headerHeight);\n};\n\nexport const useResizeViewPort = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((height, width) => dispatch(resizeViewPort(height, width)), [dispatch]);\n};\n\nexport const useHeight = (): number => {\n  return useSelector((state: AppState) => state.layout.height);\n};\n\nexport const useWidth = (): number => {\n  return useSelector((state: AppState) => state.layout.width);\n};\n\nexport const useDimensions = () => {\n  return [useHeight(), useWidth()];\n};\n\nexport const useRouteState = () => {\n  const dispatch = useDispatch();\n  const setState = React.useCallback(state => dispatch({ type: 'ROUTE_STATE', state }), [dispatch]);\n  const state = useSelector((state: AppState) => state.layout.routeState);\n  return [state, setState];\n};\n\nexport const useViewMode = () => {\n  const dispatch = useDispatch();\n  const setViewMode = React.useCallback(mode => dispatch(changeViewMode(mode)), [dispatch]);\n  const viewMode = useSelector((state: AppState) => state.layout.viewMode);\n  return [viewMode, setViewMode];\n};\n\nexport const useAdminMode = () => {\n  const dispatch = useDispatch();\n  const isAdmin = useIsAdmin();\n  const setAdminMode = React.useCallback(adminMode => dispatch(changeAdminMode(adminMode)), [dispatch]);\n  const adminMode = useSelector((state: AppState) => state.layout.adminMode);\n  return [isAdmin && adminMode, setAdminMode];\n};\n\nexport const useLayout = (): any[] => {\n  const dispatch = useDispatch();\n  const layout = useSelector((state: AppState) => state.layout, shallowEqual);\n  const setLayout = React.useCallback(\n    payload => {\n      dispatch({ type: 'UPDATE_LAYOUT', payload });\n    },\n    [dispatch]\n  );\n  return [layout, setLayout];\n};\n\nexport const useLeftDrawer = (): any[] => {\n  const { pathname } = useLocation();\n  const [{ leftDrawerOpen = false }, setLayout] = useLayout();\n  const { layout }: any = useTheme();\n  const fullScreen = useFullScreen();\n  const { drawerPaths } = layout;\n  const parts = (homepage ?? '').split('/');\n  const lastPart = (parts.length > 0 ? parts[parts.length - 1] : '').replace('/', '');\n  const leftDrawerEnabled = drawerPaths.find(p => p === pathname || `/${lastPart}/${p}` === pathname) ? true : false;\n  const setLeftDrawerOpen = React.useCallback((open = !leftDrawerOpen) => setLayout({ leftDrawerOpen: open }), [setLayout, leftDrawerOpen]);\n  return [leftDrawerEnabled && (fullScreen ? leftDrawerOpen : true), setLeftDrawerOpen, leftDrawerEnabled];\n};\n","import * as React from 'react';\nimport useComponentSize from '@rehooks/component-size';\nimport { useResizeAppBar, useResizeFooter, useResizeHeader, useRouteState } from './store';\nimport { useHistory, useLocation } from 'react-router';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { evalFunc } from '../../helpers';\n\nexport const useAppBarHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeAppBar = useResizeAppBar();\n  React.useEffect(() => {\n    resizeAppBar(height);\n  }, [resizeAppBar, height]);\n  return ref;\n};\n\nexport const useHeaderHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeHeader = useResizeHeader();\n  React.useEffect(() => {\n    resizeHeader(height);\n  }, [resizeHeader, height]);\n  return ref;\n};\n\nexport const useFooterHeightRef = () => {\n  let ref = React.useRef(null);\n  const { height } = useComponentSize(ref);\n  const resizeFooter = useResizeFooter();\n  React.useEffect(() => {\n    resizeFooter(height);\n  }, [resizeFooter, height]);\n  return ref;\n};\n\nexport const useHandleChangeRoute = () => {\n  const changeRoute = useChangeRoute();\n  return React.useCallback(\n    (route, state = undefined) =>\n      event => {\n        changeRoute(route, state);\n      },\n    [changeRoute]\n  );\n};\n\nexport const useChangeRoute = () => {\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const [statePrev, setState] = useRouteState(); // setState doesn't support a function as a parameter to setState\n  return React.useCallback(\n    (route: string, state = undefined) => {\n      pathname !== route && history && history.push(route);\n      if (state) {\n        setState(evalFunc(state, statePrev)); // Must manually use previous State instead of (prev) => {...prev} as useRouteState.setState doesn't support functions\n      } else {\n        setState({});\n      }\n    },\n    // eslint-disable-next-line\n    [JSON.stringify(statePrev), history, pathname, setState]\n  );\n};\n\nexport const useUserEmail = () => {\n  return useSelector((s: any) => s.layout.user?.signInUserSession?.idToken?.payload?.email);\n};\n\nexport const useLayoutKey = key => useSelector((state: any) => state.layout[key], shallowEqual);\nexport const useUser = () => useLayoutKey('user') || {};\n\nexport const useUserId = ({ userId = undefined } = {}) => {\n  const user = useUser();\n  return userId ? userId : user.username;\n};\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppState } from '../../../store';\nimport { defaultDialogState, updateDialog } from './store';\n\nexport const useDialogState = id => {\n  const dispatch = useDispatch();\n  const dialogState = useSelector((state: AppState) => state.dialog[id] || defaultDialogState);\n  const setDialogState = React.useCallback(payload => dispatch(updateDialog(id, payload)), [id, dispatch]);\n  return [dialogState, setDialogState];\n};\n","export default __webpack_public_path__ + \"static/media/zoom_0.b75b159e.mp4\";","import { AppState } from '../../../../store';\nimport Application from '../../../../database/models/Application';\nimport { isEmpty, getDayTimeFromTimestamp, onlyUnique } from '../../../../helpers';\nimport { useTableFilter } from '../helpers';\nimport { tables } from '../../../../database/dbConfig';\nimport { AndroidStoreProps } from '../../DialogField/AndroidStore';\nimport { AppleStoreProps } from '../../DialogField/AppleStore';\nimport logo from '../../../../images/default_app_icon.png';\nimport { useSelector } from 'react-redux';\nimport { useAdminMode } from '../../../layout/store';\n\nexport const isMatch = (filters, value) => filters.reduce((t, c) => (t = t && value?.includes(c)), true);\n\nexport const getAppName = app => {\n  const androidStore: AndroidStoreProps = app?.androidStore;\n  const appleStore: AppleStoreProps = app?.appleStore;\n  return !isEmpty(app?.name)\n    ? app.name\n    : androidStore && !isEmpty(androidStore.title)\n    ? androidStore.title\n    : appleStore && !isEmpty(appleStore.title)\n    ? appleStore.title\n    : app?.name;\n};\n\nexport const getAppCompany = app => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.company)\n    ? app.company\n    : androidStore && !isEmpty(androidStore.developer)\n    ? androidStore.developer\n    : appleStore && !isEmpty(appleStore.developer)\n    ? appleStore.developer\n    : app.company;\n};\n\nexport const getAppIcon = (app: Application) => {\n  const androidStore: AndroidStoreProps = app.androidStore;\n  const appleStore: AppleStoreProps = app.appleStore;\n  return !isEmpty(app.icon)\n    ? app.icon\n    : androidStore && !isEmpty(androidStore.icon)\n    ? androidStore.icon\n    : appleStore && !isEmpty(appleStore.icon)\n    ? appleStore.icon\n    : logo;\n};\n\nexport const useAppData = table => {\n  const apps = useSelector((s: AppState) => s.database[tables.applications] ?? {});\n  const [adminMode] = useAdminMode();\n  var data = apps\n    ? Object.keys(apps)\n        .filter(k => apps[k].draft !== true && apps[k].delete !== true && ((!adminMode && apps[k].approved === true) || adminMode)) // only show approved for public mode, show all for admin\n        .map(k => {\n          const app: Application = apps[k];\n\n          const appSearchable = {\n            name: getAppName(app),\n            app: getAppName(app), // For sorting application column by text\n            updated: app.updated ? getDayTimeFromTimestamp(app.updated) : undefined,\n            company: getAppCompany(app),\n            costs: app.costs?.join(' '),\n            platforms: app.platforms?.join(' '), // for searching\n            features: app.features?.join(' '), // for searching\n            functionalities: app.functionalities?.join(' '),\n            engagements: app.engagements?.join(' '),\n            inputs: app.inputs?.join(' '),\n            outputs: app.outputs?.join(' '),\n            conditions: app.conditions?.join(' '),\n            privacies: app.privacies?.join(' '),\n            uses: app.uses?.join(' '),\n            clinicalFoundations: app.clinicalFoundations,\n            developerTypes: app.developerTypes\n          };\n\n          return {\n            _id: app._id,\n            parent: app.parent,\n            ...appSearchable,\n            getSearchValues: () => {\n              return Object.keys(appSearchable).reduce((f, c) => (f = [f, appSearchable[c]].join(' ')), ''); // Optimize search performance\n            },\n            getValues: () => app,\n            getExportValues: () => ({\n              ...appSearchable,\n              app: appSearchable.name,\n              cost: appSearchable.costs,\n              functionality: appSearchable.functionalities,\n              developerType: appSearchable.developerTypes\n            }),\n            created: app.created,\n            approved: app.approved,\n            groupId: isEmpty(app.groupId) ? app._id : app.groupId\n          };\n        })\n    : [];\n\n  // For public, show only the most recent with a status of approved == true\n  // For admin, show only the most recent approved, or if no approvals then show the most recent\n\n  var groupIds = data.map(r => r.groupId).filter(onlyUnique);\n  var filteredData = groupIds.map(gId => {\n    // For each group id find the most recently created\n    var groupMembers = data.filter(r => r.groupId === gId);\n    var sortedAsc = groupMembers.sort(({ getValues: a }, { getValues: b }) => (b() as any).created - (a() as any).created); // Create a sorted ascending list\n\n    var newest = sortedAsc[0]; // Set the newest record, regardless of approval status\n\n    for (var i = 0; i < sortedAsc.length; i++) {\n      // Now search all records from newest down to find the newest approved entry.  If no approved entry is found then newest will be the first entry above\n      if (sortedAsc[i].approved === true) {\n        newest = sortedAsc[i];\n        break;\n      }\n    }\n    return newest;\n  });\n\n  const { filters = {} } = useSelector((s: AppState) => s.table[table] || {}) as any;\n  const {\n    Platforms = [],\n    Functionalities = [],\n    Cost = [],\n    Features = [],\n    Inputs = [],\n    Outputs = [],\n    Engagements = [],\n    Conditions = [],\n    Privacy = [],\n    Uses = [],\n    ClinicalFoundations = [],\n    DeveloperTypes = []\n  } = filters;\n\n  const customFilter = r =>\n    isMatch(Platforms, r.platforms) &&\n    isMatch(Functionalities, r.functionalities) &&\n    isMatch(Cost, r.costs) &&\n    isMatch(Features, r.features) &&\n    isMatch(Engagements, r.engagements) &&\n    isMatch(Inputs, r.inputs) &&\n    isMatch(Outputs, r.outputs) &&\n    isMatch(Conditions, r.conditions) &&\n    isMatch(Privacy, r.privacies) &&\n    isMatch(Uses, r.uses) &&\n    isMatch(ClinicalFoundations, r.clinicalFoundations) &&\n    isMatch(DeveloperTypes, r.developerTypes);\n\n  return useTableFilter(filteredData, table, customFilter);\n};\n\nexport const useNewerMemberCount = (groupId, created) => {\n  const apps = useSelector((state: AppState) => state.database[tables.applications] ?? {});\n  return Object.keys(apps).filter(k => (apps[k]._id === groupId || apps[k].groupId === groupId) && apps[k].created > created).length;\n};\n\nexport const usePendingAppData = (table, showDeleted = false, email = undefined, includeDrafts = false, includeApproved = false) => {\n  const apps = useSelector((s: AppState) => s.database[tables.applications] ?? {});\n  var data = apps\n    ? Object.keys(apps)\n        .filter(\n          k =>\n            (includeDrafts ? true : apps[k].draft !== true) &&\n            (email !== undefined ? (apps[k]?.email ?? '').toLowerCase() === email.toLowerCase() : true) &&\n            (showDeleted ? apps[k].delete === true : apps[k].delete !== true) &&\n            (showDeleted || (includeApproved ? true : apps[k].approved !== true)) // show archived items regardles of approved status\n        )\n        .map(k => {\n          const app: Application = apps[k];\n\n          const appSearchable = {\n            email: app.email,\n            name: getAppName(app),\n            app: getAppName(app), // For sorting application column\n            updated: app.updated ? getDayTimeFromTimestamp(app.updated) : undefined,\n            company: getAppCompany(app),\n            costs: app.costs?.join(' '),\n            platforms: app.platforms?.join(' '), // for searching\n            features: app.features?.join(' '), // for searching\n            functionalities: app.functionalities?.join(' '),\n            engagements: app.engagements?.join(' '),\n            inputs: app.inputs?.join(' '),\n            outputs: app.outputs?.join(' '),\n            conditions: app.conditions?.join(' '),\n            privacies: app.privacies?.join(' '),\n            uses: app.uses?.join(' '),\n            clinicalFoundations: app.clinicalFoundations,\n            developerTypes: app.developerTypes\n          };\n\n          return {\n            _id: app._id,\n            parent: app.parent,\n            ...appSearchable,\n            getSearchValues: () => {\n              return Object.keys(appSearchable).reduce((f, c) => (f = [f, appSearchable[c]].join(' ')), ''); // Optimize search performance\n            },\n            getValues: () => app,\n            created: app.created,\n            approved: app.approved,\n            groupId: isEmpty(app.groupId) ? app._id : app.groupId\n          };\n        })\n    : [];\n\n  // For public, show only the most recent with a status of approved == true (or ignore if includeDrafts is set)\n  // For admin, show only the most recent approved, or if no approvals then show the most recent\n\n  var groupIds = data.map(r => r.groupId).filter(onlyUnique);\n  var filteredData = groupIds.map(gId => {\n    // For each group id find the most recently created\n    var groupMembers = data.filter(r => r.groupId === gId);\n    var sortedAsc = groupMembers.sort(({ getValues: a }, { getValues: b }) => (b() as any).created - (a() as any).created); // Create a sorted ascending list\n\n    var newest = sortedAsc[0]; // Set the newest record, regardless of approval status\n\n    for (var i = 0; i < sortedAsc.length; i++) {\n      // Now search all records from newest down to find the newest approved entry.  If no approved entry is found then newest will be the first entry above\n      if (includeDrafts || sortedAsc[i].approved === true) {\n        newest = sortedAsc[i];\n        break;\n      }\n    }\n    return newest;\n  });\n\n  const { filters = {} } = useSelector((s: AppState) => s.table[table] || {}) as any;\n  const {\n    Platforms = [],\n    Functionalities = [],\n    Cost = [],\n    Features = [],\n    Inputs = [],\n    Outputs = [],\n    Engagements = [],\n    Conditions = [],\n    Privacy = [],\n    Uses = [],\n    ClinicalFoundations = [],\n    DeveloperTypes = []\n  } = filters;\n\n  const customFilter = r =>\n    isMatch(Platforms, r.platforms) &&\n    isMatch(Functionalities, r.functionalities) &&\n    isMatch(Cost, r.costs) &&\n    isMatch(Features, r.features) &&\n    isMatch(Engagements, r.engagements) &&\n    isMatch(Inputs, r.inputs) &&\n    isMatch(Outputs, r.outputs) &&\n    isMatch(Conditions, r.conditions) &&\n    isMatch(Privacy, r.privacies) &&\n    isMatch(Uses, r.uses) &&\n    isMatch(ClinicalFoundations, r.clinicalFoundations) &&\n    isMatch(DeveloperTypes, r.developerTypes);\n\n  return useTableFilter(filteredData, table, customFilter);\n};\n","import React from 'react';\nimport { Reducer } from 'redux';\nimport { evalFunc } from '../../../helpers';\nimport { AppState } from '../../../store';\nimport { SortComparator, updateState, setDefaults } from './helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport type State = Table[];\nconst defaultValues: Table[] = [];\n\nexport interface Table {\n  id?: string;\n  tab?: string; //indicates the current tab we are viewing from the tab selector\n  searchtext?: string;\n  columnfiltervalue?: string | boolean;\n  columnfiltercolumn?: string;\n  orderBy?: string;\n  orderDirection?: 'asc' | 'desc';\n  sortComparator?: SortComparator;\n  filters?: [];\n}\n\n// Actions\nconst tableUpdate = (table: Table) => ({ type: 'TABLE_UPDATE', table });\nconst tableFilterUpdate = (id: string, filters) => (dispatch, getState) =>\n  dispatch({ type: 'TABLE_UPDATE', table: { id, filters: evalFunc(filters, (getState().table[id] || {}).filters || {}) } });\n\n// Reducer\nexport const reducer: Reducer<State> = (state: State, action): State => {\n  switch (action.type) {\n    case 'TABLE_UPDATE':\n      return updateState(state, action.table);\n    case 'persist/REHYDRATE':\n      const payload: AppState = action && (action as any).payload;\n      const hydratestate: State = payload && payload.table;\n      return setDefaults(hydratestate ? hydratestate : [], defaultValues);\n    default:\n  }\n  return setDefaults(state ? { ...state } : [], defaultValues);\n};\n\n// Hooks\nexport const useTableUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((t: Table) => dispatch(tableUpdate(t)), [dispatch]);\n};\n\nexport const useTableFilterUpdate = () => {\n  const dispatch = useDispatch();\n  return React.useCallback((id, filters) => dispatch(tableFilterUpdate(id, filters)), [dispatch]);\n};\n\nexport const useTable = name => useSelector((state: AppState) => state.table[name] ?? ({ id: name } as any));\n\nexport function useTableValues(name): any {\n  const values = useTable(name);\n  const values_str = JSON.stringify(values);\n  const tableUpdate = useTableUpdate();\n  const setTableValues = React.useCallback(\n    values =>\n      tableUpdate({\n        id: name,\n        ...evalFunc(values, JSON.parse(values_str))\n      }),\n    [name, tableUpdate, values_str]\n  );\n\n  return [values, setTableValues];\n}\n\nexport function useTableFilterValues(name): any {\n  const { filters: values = {} } = useTable(name);\n  const tableFilterUpdate = useTableFilterUpdate();\n  const setValues = React.useCallback(\n    values => {\n      tableFilterUpdate(name, values);\n    },\n    [name, tableFilterUpdate]\n  );\n  return [values, setValues];\n}\n","import { AppState } from './store';\nimport { theme, adminTheme } from './constants';\nimport packageJson from '../package.json';\nimport { useAdminMode } from './components/layout/store';\nimport { useIsAdmin } from './hooks';\nimport { format } from 'date-fns';\n\nexport function hostAddress(append?) {\n  return (\n    window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '') + (append !== undefined ? append : '')\n  );\n}\n\nexport const debugSettings = {\n  debugoutput: false,\n  logviewport: false,\n  logrender: true,\n  logmapping: false,\n  logreducer: false,\n  logselectors: false,\n  logform: true,\n  logformupdates: true,\n  debugfieldonhover: false\n};\n\nexport function printHeader() {\n  console.log(\n    `%c\n    \n █████╗ ██████╗ ██████╗       ███╗   ███╗ █████╗ ██████╗       ██████╗ ██████╗ \n██╔══██╗██╔══██╗██╔══██╗      ████╗ ████║██╔══██╗██╔══██╗      ██╔══██╗██╔══██╗\n███████║██████╔╝██████╔╝█████╗██╔████╔██║███████║██████╔╝█████╗██║  ██║██████╔╝\n██╔══██║██╔═══╝ ██╔═══╝ ╚════╝██║╚██╔╝██║██╔══██║██╔═══╝ ╚════╝██║  ██║██╔══██╗\n██║  ██║██║     ██║           ██║ ╚═╝ ██║██║  ██║██║           ██████╔╝██████╔╝\n╚═╝  ╚═╝╚═╝     ╚═╝           ╚═╝     ╚═╝╚═╝  ╚═╝╚═╝           ╚═════╝ ╚═════╝ \n██████╗ ██╗██████╗ ███╗   ███╗ ██████╗   \n██╔══██╗██║██╔══██╗████╗ ████║██╔════╝   Host: ${hostAddress()}\n██████╔╝██║██║  ██║██╔████╔██║██║        \n██╔══██╗██║██║  ██║██║╚██╔╝██║██║        Environment: ${process.env.NODE_ENV}\n██████╔╝██║██████╔╝██║ ╚═╝ ██║╚██████╗   Version: ${packageJson.version}\n╚═════╝ ╚═╝╚═════╝ ╚═╝     ╚═╝ ╚═════╝                            \n`,\n    'font-family:monospace;color:' + theme.palette.primary.main + ';font-size:12px;'\n  );\n}\n\nexport function getViewPortHeight(state: AppState) {\n  return state.layout.height;\n}\n\nexport function getLayoutHeight(state: AppState) {\n  return getViewPortHeight(state);\n}\n\nexport const setIfEmpty = value => (value === undefined || value === null ? '' : value);\nexport const checkEmpty = value => value === undefined || value === null || value === '' || (Array.isArray(value) && value.length === 0);\nexport const undefinedIfEmpty = value => (checkEmpty(value) ? undefined : value);\nexport const isDefined = value => value !== undefined && value !== null;\nexport const hasChanged = (current, initial) => JSON.stringify(current) !== JSON.stringify(initial);\n\nexport const getKey = ({ container, object, id }: any) => [container, object, id].filter(v => !checkEmpty(v)).join('.');\n\nexport function validateEmail(email) {\n  return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n    String(email).toLowerCase()\n  );\n}\n\nexport function validateHttpUrl(url) {\n  return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=.]+$/.test(String(url).toLowerCase());\n}\n\nexport function capitalize(s) {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nexport const uncapitalize = s => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toLowerCase() + s.slice(1);\n};\n\nexport function copyToLower(obj = {}) {\n  var key,\n    keys = Object.keys(obj);\n  var n = keys.length;\n  var newobj = {};\n  while (n--) {\n    key = keys[n];\n    newobj[uncapitalize(key)] = obj[key];\n  }\n  return newobj;\n}\n\nexport const isTrue = value => value === 1 || value === '1' || value === true || value === 'true';\nexport const isFalse = value => value === 0 || value === '0' || value === false || value === 'false';\n\n// Converts a string, number or boolean to boolean with default false\nexport const bool = x =>\n  typeof x === 'boolean'\n    ? x\n    : typeof x === 'number'\n    ? x === 1\n      ? true\n      : false\n    : typeof x === 'string'\n    ? x === '1'\n      ? true\n      : x.toLowerCase() === 'true'\n      ? true\n      : false\n    : false;\n\n// If a function, then return the result of the function call with props passed in.  Else return the value\nexport const evalFunc = (value, props = undefined) => (typeof value === 'function' ? value(props) : value);\n\nexport const emptyUndefined = value => (value === false || value === null ? undefined : value);\nexport const isError = value => (value === undefined || value === null || value === '' ? false : true);\n\nexport const copyDeleteKey = (key, obj) => deleteKey(key, { ...obj });\n\nexport const deleteKey = (key, obj) => {\n  delete obj[key];\n  return obj;\n};\n\nexport const getLabel = f => (f.label === null ? undefined : f.label !== undefined ? f.label : f.id);\n\nexport function spread(final, current) {\n  return { ...final, ...current };\n}\n\nexport function isEmpty(str) {\n  return !str || 0 === str.length;\n}\n\nexport function triggerResize() {\n  window.dispatchEvent(new CustomEvent('resize')); //Makes the indicator start animating\n  setTimeout(() => window.dispatchEvent(new CustomEvent('resize')), 200); //Ensures the animation resized correctly after the drawer finishes opening/closing\n}\n\nexport function randomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport const publicUrl = path => process.env.PUBLIC_URL + path;\n\nexport function updateState(state, { payload, id }) {\n  const data = evalFunc(payload, state[id]);\n  var newState = { ...state };\n  newState[id] = data;\n  if (state && state[id]) {\n    newState[id] = data;\n  }\n  return newState;\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n    .replace(/[xy]/g, function (c) {\n      var r = (Math.random() * 16) | 0,\n        v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    })\n    .replace(/-/g, '');\n}\n\n// Returns minutes elapsed from time to current time\nexport function minutesFrom(time) {\n  var current = new Date().getTime();\n  var diff = (current - time) / 60000; //converts milliseconds to elapsed minutes\n  return diff > 0 ? diff : 0;\n}\n\nexport function minutesToTimeAgo(minutes) {\n  var d = Math.floor(minutes / 1440);\n  var h = Math.floor(minutes / 60);\n  var m = Math.floor(minutes % 60);\n  var ret = '';\n  if (d > 0) {\n    ret = ret + d + 'd ';\n  }\n  if (h > 0 || d > 0) {\n    ret = ret + h + 'h ';\n  }\n  if (m >= 0 || h > 0 || d > 0) {\n    ret = ret + m + 'm ';\n  }\n  if (ret !== '') ret = ret + 'ago';\n  return ret;\n}\n\nexport const timeAgo = time => (time ? minutesToTimeAgo(minutesFrom(time)) : '');\n\nexport function sortDescending(a = 0 as any, b = 0 as any) {\n  if (a < b) return 1;\n  if (a > b) return -1;\n  return 0;\n}\n\nexport function sortAscendingToLower(a = '' as any, b = '' as any) {\n  if (a.toLowerCase() < b.toLowerCase()) return -1;\n  if (a.toLowerCase() > b.toLowerCase()) return 1;\n  return 0;\n}\n\nexport function sortAscending(a = 0 as any, b = 0 as any) {\n  if (a < b) return -1;\n  if (a > b) return 1;\n  return 0;\n}\n\nexport const getAndroidIdFromUrl = (url: string) => {\n  var searchStr = '?id=';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport const getAppleIdFromUrl = (url: string) => {\n  var searchStr = '/id';\n  var index = (url as string)?.indexOf(searchStr);\n  if (index >= 0) {\n    var indexEnd = url.indexOf('&', index);\n    return url.substring(index + searchStr.length, indexEnd >= 0 ? indexEnd : undefined);\n  }\n};\n\nexport function onlyUnique(value, index, self) {\n  return self.indexOf(value) === index;\n}\n\nfunction dayAbbrOfWeek(dayIndex) {\n  return ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][dayIndex];\n}\n\nfunction monthAbbrOfYear(monthIndex) {\n  return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][monthIndex];\n}\n\nfunction nth(d) {\n  if (d > 3 && d < 21) return 'th';\n  switch (d % 10) {\n    case 1:\n      return 'st';\n    case 2:\n      return 'nd';\n    case 3:\n      return 'rd';\n    default:\n      return 'th';\n  }\n}\n\nfunction addZero(i) {\n  if (i < 10) {\n    i = '0' + i;\n  }\n  return i;\n}\n\nexport function getDayTimeFromTimestamp(timestamp: number) {\n  var d = new Date(0); // The 0 there is the key, which sets the date to the epoch\n  d.setUTCMilliseconds(timestamp); //utc time\n  var day = dayAbbrOfWeek(d.getDay());\n  var dayNumber = d.getDate() + nth(d.getDate());\n  var year = d.getFullYear();\n  var h = d.getHours();\n  var m = addZero(d.getMinutes());\n  var isPM = h > 12 ? true : false;\n  h = isPM ? h - 12 : h === 0 ? 12 : h; //If PM, subtract 12.  If we are 0 or midnight, then set to 12, otherwise use the normal hour index\n  var month = monthAbbrOfYear(d.getMonth());\n\n  return `${day} ${month} ${dayNumber} ${year} ${h}:${m} ${isPM ? 'PM' : 'AM'}`;\n}\n\nexport function isDev() {\n  return process.env.NODE_ENV === 'development';\n}\n\nexport function useLayoutTheme() {\n  const isAdmin = useIsAdmin();\n  const [adminMode] = useAdminMode();\n  const adminLayoutTheme = adminTheme;\n  const layoutTheme = theme;\n  return isAdmin && adminMode ? adminLayoutTheme : layoutTheme;\n}\n\n/* eslint-disable no-restricted-properties */\nexport const bytesToSize = (bytes: number, decimals: number = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n};\n\nexport const formatWithDefault = (publishedAt, textFormat, textDefault) => {\n  var text = textDefault;\n  try {\n    text = format(publishedAt, textFormat);\n  } catch (err) {\n    console.error(err);\n  }\n  return text;\n};\n\nexport function isEmptyObject(obj) {\n  if (isEmpty(obj)) {\n    return true;\n  } else if (typeof obj === 'object') {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) return false;\n    }\n    return true;\n  } else {\n    return false; // Is not empty and is not an object\n  }\n}\n\nexport const lineClamp = (purifiedHtml, lines) =>\n  `<div style='width: 100%;display: -webkit-box;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: ${lines};  overflow: hidden; '>${purifiedHtml}</div>`;\n\nexport function stripTags(str) {\n  return isEmpty(str) ? '' : str.toString().replace(/(<([^>]+)>)/gi, '');\n}\n","export default __webpack_public_path__ + \"static/media/lato-v17-latin-regular.65e877e5.woff2\";","export default __webpack_public_path__ + \"static/media/noto-sans-v11-latin-regular.7f65400c.woff2\";","import Lato from './fonts/lato-v17-latin/lato-v17-latin-regular.woff2';\nimport NotoSans from './fonts/noto-sans-v11-latin/noto-sans-v11-latin-regular.woff2';\n\nexport const lato = {\n  fontFamily: 'Lato',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',  \n  src: `\n    local('Lato'),\n    local('Lato-Regular'),\n    url(${Lato}) format('woff2')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n\nexport const notoSans = {\n  fontFamily: 'NotoSans',\n  fontStyle: 'normal',\n  fontDisplay: 'swap',\n  src: `\n    local('NotoSans'),\n    local('NotoSans-Regular'),\n    url(${NotoSans}) format('ttf')\n  `,\n  unicodeRange:\n    'U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF'\n};\n","import { createMuiTheme, Theme } from '@material-ui/core/styles';\nimport { notoSans, lato } from './fonts';\nimport { blue, cyan, deepOrange, green, grey, indigo, lime, pink, purple, yellow } from '@material-ui/core/colors';\nimport { onlyUnique } from './helpers';\nimport {\n  ClinicalFoundationQuestions,\n  CostQuestions,\n  DeveloperTypeQuestions,\n  EngagementQuestions,\n  FeatureQuestions,\n  FunctionalityQuestions,\n  InputQuestions,\n  OutputQuestions,\n  PrivacyQuestions,\n  UseQuestions\n} from './database/models/Application';\n\nexport const googlePlayProxyUrl = 'https://ke22op7ylg.execute-api.us-east-1.amazonaws.com/default/app-map-db';\n//export const googlePlayProxyUrl = 'https://us-central1-greenlink.cloudfunctions.net/function-1';\n\nconst basetheme = createMuiTheme({});\nexport const beta = true;\n\nconst themeProps = {\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#2278CF',\n      light: '#38B6FF',\n      dark: '#0C4476'\n    },\n    secondary: {\n      main: '#737373',\n      light: '#F2F2F2',\n      dark: '#2C2A2C'\n    }\n  },\n  typography: {\n    fontFamily: 'Lato',\n    button: {\n      textTransform: 'none'\n    }\n  },\n  layout: {\n    drawerPaths: ['/Apps'], // Routes where the drawer should be shown\n    leftDrawerWidth: 296, //The width of the left nav drawer\n    toolbarheight: 64, //The height of the top toolbar\n    contentpadding: 8, //The padding around the inner layout content\n    contentrowspacing: 2, //the spacing between each row of content (toolbar, filterbar, table, etc)\n    tablefooterheight: 20, //The height of the table footer\n    tablefilterbarheight: 52, //The height of the table filter selector (category selector)\n    tabletoolbarheight: basetheme.spacing(5.5) * 2, // The height of the top bar on the table, also the height of the secondary tabselector\n    tableRowHeight: basetheme.spacing(6), // Height of table rows\n    footerheight: 24, //The height of the bottom toolbar\n    progressSize: 80, // size of the circulatr progress indicator shown when dialogs are submitting\n    tabheight: 116, // Height of the nav pills tab section\n    footerHeight: 186 //v2 footer\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': [lato, notoSans]\n      }\n    },\n    MuiTooltip: {\n      // Name of the component ⚛️ / style sheet\n      tooltip: {\n        // Name of the rule\n        maxWidth: 700\n      }\n    },\n    MuiTypography: {\n      // Name of the component ⚛️ / style sheet\n      h6: {\n        lineHeight: 1.2\n      },\n      subtitle1: {\n        // Name of the rule\n        lineHeight: 1.4\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogTitle: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        paddingLeft: 16,\n        paddingRight: 16,\n        paddingTop: 12,\n        paddingBottom: 12\n        //background: basetheme.palette.background.default,\n      }\n    },\n    MuiDialogActions: {\n      // Name of the component ⚛️ / style sheet\n      root: {\n        // Name of the rule\n        background: basetheme.palette.grey[100],\n\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '0 0 auto',\n        margin: 0,\n        padding: '8px 4px'\n        //padding: 0,\n      }\n    },\n    MuiListItemIcon: {\n      root: {\n        color: basetheme.palette.grey[100]\n      }\n    }\n  }\n} as Theme & any;\n\nexport const adminTheme = createMuiTheme({\n  ...themeProps,\n  palette: {\n    ...themeProps.palette,\n    primary: {\n      main: '#c62828',\n      light: '#ff5f52',\n      dark: '#8e0000'\n    },\n    secondary: {\n      main: '#388e3c',\n      light: '#6abf69',\n      dark: '#00600f'\n    }\n  }\n});\n\nexport const theme = createMuiTheme(themeProps);\n\nconst colorLevel = 700;\n\nexport const categories = {\n  Cost: {\n    label: 'Cost',\n    color: green[colorLevel],\n    values: ({ costs = [] }) => costs.filter(onlyUnique),\n    valueItems: ({ costs = [] }) => costs.filter(onlyUnique).map(label => ({ label, tooltip: CostQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Privacy: {\n    label: 'Privacy',\n    color: pink[400],\n    values: ({ privacies = [] }) => privacies.filter(onlyUnique),\n    valueItems: ({ privacies = [] }) =>\n      privacies.filter(onlyUnique).map(label => ({ label, tooltip: PrivacyQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  ClinicalFoundations: {\n    label: 'Clinical Foundation',\n    color: indigo[colorLevel],\n    values: ({ clinicalFoundations = [] }) => clinicalFoundations.filter(onlyUnique),\n    valueItems: ({ clinicalFoundations = [] }) =>\n      clinicalFoundations.filter(onlyUnique).map(label => ({ label, tooltip: ClinicalFoundationQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Features: {\n    label: 'Features',\n    color: green[colorLevel],\n    values: ({ features = [] }) => features.filter(onlyUnique),\n    valueItems: ({ features = [] }) => features.filter(onlyUnique).map(label => ({ label, tooltip: FeatureQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Conditions: {\n    label: 'Conditions Supported',\n    color: purple[colorLevel],\n    values: ({ conditions = [] }) => conditions.filter(onlyUnique),\n    valueItems: ({ conditions = [] }) => conditions.filter(onlyUnique).map(label => ({ label }))\n  },\n  Engagements: {\n    label: 'Engagements',\n    color: lime[colorLevel],\n    values: ({ engagements = [] }) => engagements.filter(onlyUnique),\n    valueItems: ({ engagements = [] }) =>\n      engagements.filter(onlyUnique).map(label => ({ label, tooltip: EngagementQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Inputs: {\n    label: 'Inputs',\n    color: yellow[colorLevel],\n    values: ({ inputs = [] }) => inputs.filter(onlyUnique),\n    valueItems: ({ inputs = [] }) => inputs.filter(onlyUnique).map(label => ({ label, tooltip: InputQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Outputs: {\n    label: 'Outputs',\n    color: deepOrange[400],\n    values: ({ outputs = [] }) => outputs.filter(onlyUnique),\n    valueItems: ({ outputs = [] }) => outputs.filter(onlyUnique).map(label => ({ label, tooltip: OutputQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  Uses: {\n    label: 'Uses',\n    color: cyan[colorLevel],\n    values: ({ uses = [] }) => uses.filter(onlyUnique),\n    valueItems: ({ uses = [] }) => uses.filter(onlyUnique).map(label => ({ label, tooltip: UseQuestions.find(cq => cq.value === label)?.tooltip }))\n  },\n  DeveloperTypes: {\n    label: 'Developer Types',\n    color: grey[colorLevel],\n    values: ({ developerTypes = [] }) => developerTypes.filter(onlyUnique),\n    valueItems: ({ developerTypes = [] }) =>\n      developerTypes.filter(onlyUnique).map(label => ({ label, tooltip: (DeveloperTypeQuestions as any).find(cq => cq.value === label)?.tooltip }))\n  },\n  Functionalities: {\n    label: 'Access',\n    color: blue[colorLevel],\n    values: ({ functionalities = [] }) => functionalities.filter(onlyUnique),\n    valueItems: ({ functionalities = [] }) =>\n      functionalities.filter(onlyUnique).map(label => ({ label, tooltip: FunctionalityQuestions.find(cq => cq.value === label)?.tooltip }))\n  }\n};\n\nexport const categoryArray = Object.keys(categories).map(k => categories[k]);\n","import { AppState } from '../../../store';\nimport { GenericTableContainerProps } from './GenericTableContainer';\nimport * as TableStore from './store';\nimport { isEmpty, spread } from '../../../helpers';\nimport Decimal from 'decimal.js-light';\n\n///////////////////////////////////////////\n/////////////// Table Sorters  ////////////\n//////////////////////////////////////////\n\nexport type SortComparator = 'text' | 'textLower' | 'decimal';\nconst sortComparators = {\n  text: desc,\n  textLower: lowerDesc,\n  decimal: descDecimal\n};\n\n///////////////////////////////////////////\n/////////////// Table Filters ////////////\n//////////////////////////////////////////\n\nexport interface ColumnFilter {\n  value: string | boolean;\n  column: string;\n}\n\nexport const escapeRegex = searchtext => new RegExp(searchtext.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'gi'); // Ensures that all possible regex characters in searchtext are escaped before searching\n\nexport const isMatch = (obj, re) => {\n  if (obj.getSearchValues) {\n    return obj.getSearchValues().match(re);\n  } else {\n    for (var attrname in obj) {\n      if (['_id', 'id', 'key', 'getValues', 'edit', 'action'].includes(attrname.toLowerCase())) continue;\n      if (obj[attrname])\n        if (isNaN(obj[attrname])) {\n          //only search non numeric values\n          try {\n            if (obj[attrname].match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        } else {\n          //it is a number\n          try {\n            if (obj[attrname].toString().match(re)) return true;\n          } catch (e) {\n            continue;\n          }\n        }\n    }\n  }\n  return false;\n};\n\nconst isColumnExactMatch = (obj, cf: ColumnFilter) => {\n  return obj[cf.column] != null && obj[cf.column] === cf.value ? true : false;\n};\n\n//extracts the necessary properties from the table's component props so table_filter can be called\nexport const tableFilter = (data: any, state: AppState, props: GenericTableContainerProps, customFilter = undefined) => {\n  //Extract the table information from the redux store\n  const table: TableStore.Table = state.table[props.name];\n  var searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const useTableFilter = (data: any, name: string, customFilter = undefined) => {\n  //Extract the table information from the redux store\n  const table = TableStore.useTable(name);\n  const searchtext = table?.searchtext;\n\n  const columnfilter = table &&\n    table.columnfiltervalue != null &&\n    table.columnfiltercolumn != null && {\n      value: table && table.columnfiltervalue,\n      column: table && table.columnfiltercolumn\n    };\n\n  const filtered = table_filter(data, columnfilter, searchtext, customFilter);\n  return table && table.orderBy ? stableSort(filtered, getSorting(table.orderDirection, table.orderBy, table.sortComparator)) : filtered;\n};\n\nexport const table_filter = (data, columnfilter: ColumnFilter, searchtext = '', customFilter = undefined) => {\n  var performcolumnfilter = false;\n  if (columnfilter) if (columnfilter.column) if (columnfilter.value !== 'All' && columnfilter.value !== '') performcolumnfilter = true;\n\n  const performtextfilter = searchtext && searchtext !== '' ? true : false;\n\n  const re = escapeRegex(searchtext);\n\n  return data.filter(\n    x =>\n      (performcolumnfilter ? isColumnExactMatch(x, columnfilter) : true) &&\n      (performtextfilter ? isMatch(x, re) : true) &&\n      (customFilter ? customFilter(x) : true)\n  );\n};\n\nexport function lowerDesc(a, b, orderBy) {\n  var aTxt = !isEmpty(a[orderBy]) ? a[orderBy].toLowerCase() : a[orderBy];\n  var bTxt = !isEmpty(b[orderBy]) ? b[orderBy].toLowerCase() : b[orderBy];\n  if (bTxt < aTxt) {\n    return -1;\n  }\n  if (bTxt > aTxt) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction desc(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction descDecimal(a, b, orderBy) {\n  const A = a?.getValues();\n  const B = b?.getValues();\n  var dA = new Decimal(A[orderBy] ?? 0);\n  var dB = new Decimal(B[orderBy] ?? 0);\n  if (dB.lessThan(dA)) {\n    return -1;\n  }\n  if (dB.greaterThan(dA)) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction stableSort(array, cmp) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(el => el[0]);\n}\n\nfunction getSorting(order, orderBy, sortComparator) {\n  const cmp = sortComparators[sortComparator];\n  return cmp && order === 'desc' ? (a, b) => -cmp(a, b, orderBy) : (a, b) => cmp(a, b, orderBy);\n}\n\nexport function setDefaults(state: TableStore.State, tables: TableStore.Table[]): TableStore.State {\n  //If default table doesnt exist in state, then populate the values, then combine state with upated state\n  return tables\n    .filter(t => !state[t.id])\n    .map(t => updateState(state, t))\n    .reduce(spread, { ...state });\n}\n\n// Store helpers\nexport function updateState(state: TableStore.State, table: TableStore.Table) {\n  var newState = { ...state };\n  newState[table.id] = table;\n  if (state && state[table.id]) {\n    //If table already exists, keep any other existing props\n    newState[table.id] = {\n      ...state[table.id],\n      ...table\n    };\n  }\n  return newState;\n}\n\nexport const isObject = obj => typeof obj === 'object';\nexport const isObjectWithKeys = obj => isObject(obj) && Object.keys(obj).length > 0;\n","export default __webpack_public_path__ + \"static/media/zoom_1.0812f4ae.mp4\";"],"sourceRoot":""}