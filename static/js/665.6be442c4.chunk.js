"use strict";(self.webpackChunkapp_map_db=self.webpackChunkapp_map_db||[]).push([[665],{23665:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ne});var o=l(29867),n=l(18930),r=l(8547),i=l(92834);const a=(0,n.$j)(((e,t)=>{const{name:l,placeholder:o}=t,n=e.table[l],r=t.primary||"No ".concat(l),i=t.secondary||o;return{...t,tab:n&&n.tab&&n.tab,primary:r,secondary:i}}))((e=>{const{primary:t,secondary:l,renderPlaceholder:o}=e;return o?o(e):(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(r.Z,{color:"textSecondary",variant:"subtitle1",style:{padding:16},align:"center",children:t}),l&&(0,i.jsx)(r.Z,{color:"textSecondary",variant:"body1",style:{padding:16},align:"center",children:l})]})}));var d=l(95432),c=l(3640),s=l(2689),h=l(12674),u=l(85537),m=l(19460),g=l(7110),p=l(61585),x=l(75003),f=l(24758),b=l.n(f),w=l(47951),C=l(99979),y=l(57638),v=l(6930),k=l(73465),R=l(79516),j=l.n(R);function H(e,t){if("number"===typeof e.width)return e.width;if("string"===typeof e.width){const l=function(e,t){return parseFloat(e)/100*t}(e.width,t);return Math.max(l,e.minWidth||0)}return null}const I=1,Z=(0,g.Z)((e=>({table:{boxSizing:"border-box","& .topLeftGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderBottom:"2px solid ".concat(e.palette.divider),borderRight:"2px solid ".concat(e.palette.divider),color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .topRightGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderBottom:"2px solid ".concat(e.palette.divider),color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .bottomLeftGrid":{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200],borderRight:"2px solid ".concat(e.palette.divider),color:e.palette.text.secondary,fontSize:e.typography.pxToRem(13),"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none"},"& .bottomRightGrid":{color:e.palette.text.primary,fontSize:e.typography.pxToRem(13),outline:"none"}},cell:{boxSizing:"border-box",display:"flex",alignItems:"center"},cellClickable:{cursor:"pointer"},cellSelected:{backgroundColor:e.palette.grey["dark"===e.palette.mode?900:100]},cellHovered:{backgroundColor:e.palette.grey["dark"===e.palette.mode?800:200]},cellDisabled:{opacity:.5},cellContents:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cellHeader:{fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,color:e.palette.text.secondary},cellInLastColumn:{paddingRight:e.spacing(3)},cellInLastRow:{borderBottom:"none"},footer:{borderTop:"".concat(I,"px solid ").concat(e.palette.divider)},dragHandle:{flex:"0 0 16px",zIndex:2,cursor:"col-resize",color:"#0085ff"},DragHandleActive:{color:"#0b6fcc",zIndex:3},DragHandleIcon:{flex:"0 0 12px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}))),D=e=>{let{recomputeGridSize:t,columns:l,width:n,includeHeaders:r,data:a,columnWidth:d,isCellHovered:c,isCellSelected:s,isCellDisabled:h,classes:u,orderBy:m,orderDirection:g,onHeaderClick:p,onCellClick:x,onCellDoubleClick:f,onCellContextMenu:w,resizable:y,cellProps:v}=e;const[{hoveredColumn:R,hoveredRowData:I},Z]=o.useState({hoveredColumn:null,hoveredRowData:null}),[D,S]=o.useState((e=>{let{resizable:t,columns:l}=e;var o=[];if(t){var n=1,r=[];l.forEach((e=>{e.width?(o[e.name]=.1,n-=.1):r.push(e)})),r.forEach((e=>{o[e.name]=n/r.length}))}return o})({resizable:y,columns:l}));o.useEffect((()=>{t()}),[t,R,I,D]);const N=o.useCallback(((e,t,l)=>D[t[e].name]*l),[D]),P=o.useCallback((e=>{let{index:t}=e;return"function"===typeof d?d({index:t,columns:l,width:n}):y?N(t,l,n):function(e,t,l){const o=t[e];let n=H(o,l);if(n)return n;const r=t.reduce(((e,t)=>e+(H(t,l)||0)),0),i=t.filter((e=>"number"!==typeof e.width&&"string"!==typeof e.width)),a=(l-r)/i.length,d=i.filter((e=>e.minWidth>a?e.minWidth:0)),c=d.reduce(((e,t)=>e+t.minWidth),0),s=l-r-c;return Math.max(o.minWidth||0,s/(i.length-d.length))}(t,l,n)}),[d,y,l,n,N]),G=o.useCallback((e=>{let{dataKey:t,deltaX:o}=e;return S((e=>{const r=o/n,i=l.findIndex((e=>e.name===t)),a=l[i+1].name;return{...e,[t]:e[t]+r,[a]:e[a]-r}}))}),[S,l,n]),L=o.useCallback((e=>(t,l)=>{let{deltaX:o}=l;return G({dataKey:e,deltaX:o})}),[G]),z=o.useCallback(((e,t)=>l=>Z({hoveredColumn:e,hoveredRowData:t})),[Z]);return{cellRenderer:e=>{let{columnIndex:t,rowIndex:n,key:d,style:H}=e;const Z=l[t],D=r&&0===n,S=a&&a[n-(r?1:0)]||{},N=s&&s(Z,S),P=h&&h(Z,S),G=R&&I&&c&&c(Z,S,R,I),B=e=>"function"===typeof e?e(Z,S,R,I):e,{style:W,...M}={...B(v),...B(Z.cellProps)},T=(0,i.jsxs)("div",{className:u.cellContents,children:[(0,i.jsx)("span",{style:{flex:"auto"},children:D?null!=Z.header?Z.header:Z.name:Z.cell?Z.cell(S):S[Z.name]}),(0,i.jsx)("span",{style:{float:"right"},children:D&&y&&t<l.length-1&&(0,i.jsx)(j(),{axis:"x",defaultClassName:u.dragHandle,defaultClassNameDragging:u.DragHandleActive,onDrag:L(Z.name),position:{x:0,y:void 0},children:(0,i.jsx)("span",{className:u.DragHandleIcon,children:"\u22ee"})})})]}),A=!D&&x,F=!D&&f,E=!D&&w,V=A||F||E||Z.onClick,_=b()(u.cell,{[u.cellClickable]:V,[u.cellHovered]:G,[u.cellSelected]:N,[u.cellDisabled]:P,[u.cellHeader]:D,[u.cellInLastColumn]:t===l.length-1,[u.cellInLastRow]:!D&&n===(a?a.length:0)});return(0,i.jsx)(C.Z,{component:"div",className:_,onMouseEnter:z(Z,S),onMouseLeave:z(null,null),style:{...H,...W},...A&&{onClick:e=>x(e,{column:Z,rowData:S,data:a})},...F&&{onDoubleClick:e=>f(e,{column:Z,rowData:S,data:a})},...E&&{onContextMenu:e=>w(e,{column:Z,rowData:S,data:a})},...M,children:D&&!1!==Z.onHeaderClick&&(Z.onHeaderClick||p)?(0,i.jsx)(k.Z,{active:m&&(m===Z.name||m===Z.orderBy)&&0===n,style:{width:"inherit"},direction:g,onClick:e=>Z.onHeaderClick?Z.onHeaderClick(e,{column:Z}):p(e,{column:Z}),children:T}):D&&Z.resizable?(0,i.jsxs)(o.Fragment,{children:[T,(0,i.jsx)(j(),{axis:"x",defaultClassName:"DragHandle",defaultClassNameDragging:"DragHandleActive",onDrag:L(Z.name),position:{x:0,y:void 0},children:(0,i.jsx)("span",{className:"DragHandleIcon",children:"\u22ee"})})]}):T},d)},columnWidth:P}};function S(e){let{data:t=[],columns:l=[],width:n,height:r,maxHeight:a=null,pagination:d,fitHeightToRows:c,fixedRowCount:h=0,fixedColumnCount:u=0,rowHeight:m=48,style:g,columnWidth:p,includeHeaders:f=!1,isCellHovered:b,isCellSelected:C,isCellDisabled:k,classes:R,orderBy:j,orderDirection:H,onHeaderClick:S,onCellClick:N,onCellDoubleClick:P,onCellContextMenu:G,resizable:L,cellProps:z,...B}=e;const W=Z({classes:R}),M=(0,s.Z)(),T=o.useRef(null),A=o.useCallback((()=>T.current&&T.current.recomputeGridSize()),[T]);o.useEffect((()=>{A()}),[l,t,r,n,A]);let F=0;if(r)F=r;else if(d&&d.rowsPerPage&&!c){F=(d.rowsPerPage+(h||(f?1:0)))*m}else if(Array.isArray(t)){F=(t.length+(h||(f?1:0)))*m}const E=Number(M.mixins.toolbar.minHeight)+I,V=F+(d?E:0),_=null!=a?Math.min(V,a):V,X=_-(d?E:0);return(0,i.jsxs)(w.Z,{component:"div",style:{width:n,height:_,...g},className:W.table,...B,children:[(0,i.jsx)(x.ZP,{...D({recomputeGridSize:A,data:t,columns:l,width:n,classes:W,includeHeaders:f,columnWidth:p,isCellHovered:b,isCellSelected:C,isCellDisabled:k,orderBy:j,orderDirection:H,onHeaderClick:S,onCellClick:N,onCellDoubleClick:P,onCellContextMenu:G,resizable:L,cellProps:z}),ref:T,width:n,columnCount:Array.isArray(l)?l.length:0,fixedColumnCount:u,enableFixedColumnScroll:u>0,height:X,rowHeight:m,rowCount:Array.isArray(t)?t.length+(f?1:0):0,fixedRowCount:h,enableFixedRowScroll:h>0,classNameTopLeftGrid:"topLeftGrid",classNameTopRightGrid:"topRightGrid",classNameBottomLeftGrid:"bottomLeftGrid",classNameBottomRightGrid:"bottomRightGrid"}),d&&(0,i.jsx)(y.Z,{component:"div",className:W.footer,children:(0,i.jsx)(v.Z,{component:"div",...d})})]})}var N=l(524),P=l(85396),G=l(69134),L=l(60092);const z={border:0,"scrollbar-width":"none"},B={border:0,"& .topLeftGrid":z,"& .topRightGrid":z,"& .bottomLeftGrid":z},W={...B,"& .bottomRightGrid":{border:0,"&::-webkit-scrollbar":{display:"none"},"scrollbar-width":"none","-ms-overflow-style":"none","-webkit-overflow-scrolling":"auto","&::-webkit-overflow-scrolling":"auto"}},M=e=>{let{palette:t}=e;return{...B,"& .bottomRightGrid":{"&::-webkit-scrollbar":{display:"auto",width:6,height:6},"&::-webkit-scrollbar-thumb":{backgroundColor:t.primary.light,borderRadius:25},border:0,"-ms-overflow-style":"none","-webkit-overflow-scrolling":"auto","&::-webkit-overflow-scrolling":"auto"}}},T=(0,g.Z)((e=>{let{palette:t,spacing:l,layout:o}=e;return(0,p.Z)({table:{...W},tableRounded:{borderBottomLeftRadius:12,borderBottomRightRadius:12,...W},tableScroll:{...M({palette:t})},tableScrollRounded:{borderBottomLeftRadius:12,borderBottomRightRadius:12,...M({palette:t})},cellHovered:{backgroundColor:t.primary.light},cellSelected:{color:t.common.white+" !important",backgroundColor:t.primary.main},checkbox:{paddingLeft:0,paddingRight:0},checkboxIcon:{backgroundColor:t.common.white},selectedHeader:{paddingLeft:l(1),color:t.common.white,backgroundColor:t.primary.main,height:o.multiselectbarheight,marginBottom:o.contentrowspacing},cell:{},collapse:{background:t.grey[400]}})}));function A(e,t){return e.map((e=>t.find((t=>t.id===e)))).filter((e=>e)).map((e=>e.getRowData?{...e.getRowData(e)}:{id:e.id}))}const F={selectedRowIds:[]};function E(e){const t=T(e),{layout:l}=(0,s.Z)(),{name:o,includeHeaders:n=!0,fixedRowCount:a=1,fixedColumnCount:g=0,rowHeight:p=l.tableRowHeight,rounded:x=!1,hover:f,onCellClick:w,onHeaderClick:C,isCellHovered:y,select:v,checkbox:k,data:R,height:j,columns:H,MultiSelectToolbar:I,showScroll:Z=!1,rowDivider:D=!0}=e,z=G.x6(o),B=G.U2(),W=(0,L.NF)(H,e).map((e=>({...e,onHeaderClick:e.sort?(t,l)=>{var o,n;o=e.name,n=e.sort,z&&B({id:z.id,orderBy:o,orderDirection:"asc"===z.orderDirection?"desc":"asc",sortComparator:n}),C&&C(t,l)}:C})));return(0,i.jsx)("div",{style:{height:j},children:(0,i.jsx)(P.Z,{initialState:F,children:e=>{let{state:o,setState:s}=e;const H=o.selectedRowIds,P=H.length,G=0===P?"":1===P?P+" item":P+" items",L=P>0?j-l.tabletoolbarheight-l.contentrowspacing:j,B=()=>s(F);return(0,i.jsx)(N.ZP,{children:e=>{let{width:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:l},children:(0,i.jsx)(h.Z,{className:t.collapse,in:P>0,children:(0,i.jsxs)(u.ZP,{className:t.selectedHeader,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:0,children:[(0,i.jsx)(u.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,i.jsx)(r.Z,{noWrap:!0,color:"inherit",variant:"h5",children:G})}),(0,i.jsx)(u.ZP,{item:!0,xs:!0,children:(0,i.jsx)(u.ZP,{container:!0,justifyContent:"flex-end",alignItems:"center",alignContent:"center",children:(0,i.jsx)(u.ZP,{item:!0,children:P>0&&I&&(0,i.jsx)(I,{handleReset:B,rowData:A(H,R)})})})})]})})}),(0,i.jsx)(S,{cellProps:{size:"small",style:{paddingLeft:16,paddingRight:0,borderBottom:!1===D?0:void 0}},classes:{table:Z?b()(t.tableScroll,x&&t.tableScrollRounded):b()(t.table,x&&t.tableRounded),cellHovered:t.cellHovered,cellSelected:t.cellSelected,cell:t.cell},fixedRowCount:a,fixedColumnCount:g,width:l,height:L,rowHeight:p,includeHeaders:n,orderBy:z&&z.orderBy,orderDirection:z?z.orderDirection:"asc",data:R,columns:k?[{name:"checkbox",header:(0,i.jsx)(m.Z,{checkedIcon:(0,i.jsx)(d.Z,{className:t.checkboxIcon,color:"primary"}),indeterminateIcon:(0,i.jsx)(c.Z,{className:t.checkboxIcon,color:"primary"}),checked:o.selectedRowIds.filter((e=>R.find((t=>t.id===e)))).length>0,onChange:e=>s((e=>e.selectedRowIds.filter((e=>R.find((t=>t.id===e)))).length===R.length?{selectedRowIds:[]}:{selectedRowIds:R.map((e=>e.id))})),...o.selectedRowIds.filter((e=>R.find((t=>t.id===e)))).length>0&&o.selectedRowIds.filter((e=>R.find((t=>t.id===e)))).length!==R.length&&{indeterminate:!0,color:"default"}}),cell:e=>(0,i.jsx)(m.Z,{checkedIcon:(0,i.jsx)(d.Z,{className:t.checkboxIcon,color:"primary"}),checked:o.selectedRowIds.filter((e=>R.find((t=>t.id===e)))).some((t=>e.id===t))}),cellProps:{style:{paddingLeft:8,paddingRight:0}},width:48},...W]:W,isCellSelected:v?(e,t)=>o.selectedRowIds.some((e=>t&&t.id===e)):void 0,isCellHovered:y||f?(e,t,l,o)=>y?y(e,t,l,o):t&&t.id&&t.id===o.id:void 0,onHeaderClick:C,onCellClick:w||(v?(e,t)=>{let{column:l,rowData:o}=t;s((e=>e.selectedRowIds.some((e=>o.id===e))?{selectedRowIds:e.selectedRowIds.filter((e=>e!==o.id))}:{selectedRowIds:[...e.selectedRowIds,o.id]}))}:void 0),style:{backgroundColor:"white"}})]})}})}})})}var V,_,X=l(18976),K=l(35226),O=l(30168),U=l(83031),$=l(61320),q=l(38413);const J=q.Z.div(V||(V=(0,O.Z)(["\n  padding: 0.5rem;\n  width: 25%;\n  display: flex;\n  flex: none;\n  align-content: stretch;\n\n  @media (max-width: 1300px) {\n    width: 33%;\n  }\n\n  @media (max-width: 1200px) {\n    width: 50%;\n  }\n\n  @media (max-width: 550px) {\n    width: 100%;\n  }\n"]))),Q=q.Z.div(_||(_=(0,O.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n"])));function Y(e){let{data:t,height:l,GridItem:o,scrollElement:n}=e;return void 0===o&&console.error("Must provide the GridItem component"),(0,i.jsx)($.Mr,{customScrollParent:n,totalCount:t.length,style:{height:n?void 0:l},components:{Item:J,List:Q,ScrollSeekPlaceholder:e=>{let{height:t,width:l,index:o}=e;return(0,i.jsx)(J,{children:(0,i.jsx)(U.Z,{children:"--"})})}},itemContent:e=>{var l;const n=null!==(l=t[e])&&void 0!==l?l:{},r=n.getValues?n.getValues():n;return r&&(0,i.jsx)(o,{index:e,...r})}})}var ee=l(67303);function te(e){const{layout:t}=(0,s.Z)(),{rowHeight:l=t.tableRowHeight,data:o,columns:n,height:r}=e,a=(0,L.NF)(n,e);return(0,i.jsx)("div",{style:{height:r},children:(0,i.jsx)(P.Z,{initialState:{selectedRowIds:[]},children:e=>{let{state:n}=e;const d=n.selectedRowIds.length>0?r-t.multiselectbarheight-t.contentrowspacing:r;return(0,i.jsx)(N.ZP,{children:e=>{let{width:t}=e;return(0,i.jsx)(le,{data:o,rowHeight:l,width:t,height:d,columns:a})}})}})})}const le=e=>{var t;const{height:l,width:n,data:r,columns:a,rowHeight:d=50,getClassName:c}=e,s=()=>{u(new ee.t1({fixedWidth:!0,minHeight:d}))};o.useEffect((()=>{u(new ee.t1({fixedWidth:!0,minHeight:d}))}),[r,a,c,l,d,n]);const[h,u]=o.useState(new ee.t1({fixedWidth:!0,minHeight:null!==(t=e.rowHeight)&&void 0!==t?t:50}));return(0,i.jsx)(ee.aV,{deferredMeasurementCache:h,height:l,overscanRowCount:0,rowCount:r.length,rowHeight:h.rowHeight,rowRenderer:e=>{let{index:t,key:l,parent:o,style:n}=e;const d=c&&c({columnIndex:0,rowIndex:t});return(0,i.jsx)(ee.Z8,{cache:h,columnIndex:0,rowIndex:t,parent:o,children:e=>{let{measure:l,registerChild:o}=e;return(0,i.jsx)("div",{ref:o,className:d,style:n,children:a[0].cell({...r[t],handleRefresh:s},a[0])})}},l)},width:n})},oe=(0,g.Z)((e=>{let{palette:t,spacing:l,layout:o}=e;return(0,p.Z)({placeholder:{padding:l(1),background:t.grey[50]},footer:{paddingRight:l(1),background:t.grey[200],border:8,height:o.tablefooterheight,color:t.text.hint},paper:e=>{let{rounded:t}=e;return{borderBottomLeftRadius:t?4:0,borderBottomRightRadius:t?4:0}}})}));function ne(e){const{elevation:t=4,placeholder:l,footer:o,name:d,selector:c,data:h=[],height:m,isList:g,isGrid:p,...x}=e,f=oe(e),{layout:b}=(0,s.Z)(),w=(0,n.v9)((t=>c?c(t,e):h)),C=w&&w.length?w.length:0,y=o&&m?m-b.tablefooterheight:m,v=g?te:p?Y:E;return(0,i.jsxs)(X.Z,{elevation:t,className:f.paper,children:[0===C?(0,i.jsxs)(u.ZP,{style:{height:y},container:!0,className:f.placeholder,alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(u.ZP,{item:!0,xs:!0,children:(0,i.jsx)(a,{...e})}),(0,i.jsx)(u.ZP,{item:!0,xs:12})]}):(0,i.jsx)(v,{name:d,data:w,height:y,...x}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K.Z,{}),(0,i.jsx)(u.ZP,{container:!0,className:f.footer,alignContent:"center",alignItems:"center",justifyContent:"flex-end",children:(0,i.jsx)(u.ZP,{item:!0,container:!0,alignItems:"center",justifyContent:"flex-end",children:(0,i.jsxs)(r.Z,{align:"right",variant:"caption",children:["Viewing ",C," ",d]})})})]})]})}}}]);
//# sourceMappingURL=665.6be442c4.chunk.js.map